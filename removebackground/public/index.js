var ay=Object.create;var mc=Object.defineProperty;var oy=Object.getOwnPropertyDescriptor;var uy=Object.getOwnPropertyNames;var fy=Object.getPrototypeOf,cy=Object.prototype.hasOwnProperty;var Se=(n,r)=>()=>(r||n((r={exports:{}}).exports,r),r.exports);var ly=(n,r,s,u)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of uy(r))!cy.call(n,o)&&o!==s&&mc(n,o,{get:()=>r[o],enumerable:!(u=oy(r,o))||u.enumerable});return n};var er=(n,r,s)=>(s=n!=null?ay(fy(n)):{},ly(r||!n||!n.__esModule?mc(s,"default",{value:n,enumerable:!0}):s,n));var vc=Se((Fr,_i)=>{(function(){var n,r="4.17.21",s=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",f="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",g=500,b="__lodash_placeholder__",v=1,O=2,R=4,A=1,L=2,$=1,Z=2,B=4,ne=8,ae=16,ve=32,xe=64,Re=128,Ot=256,$t=512,ke=30,H="...",Me=800,_r=16,An=1,Wt=2,he=3,Xe=1/0,qe=9007199254740991,jt=17976931348623157e292,mt=NaN,Te=4294967295,Rt=Te-1,Gt=Te>>>1,Xt=[["ary",Re],["bind",$],["bindKey",Z],["curry",ne],["curryRight",ae],["flip",$t],["partial",ve],["partialRight",xe],["rearg",Ot]],Ct="[object Arguments]",an="[object Array]",on="[object AsyncFunction]",ot="[object Boolean]",Qt="[object Date]",Ie="[object DOMException]",Ue="[object Error]",en="[object Function]",En="[object GeneratorFunction]",Qe="[object Map]",On="[object Number]",Ci="[object Null]",ut="[object Object]",yr="[object Promise]",Qr="[object Proxy]",St="[object RegExp]",ft="[object Set]",Rn="[object String]",Gn="[object Symbol]",ei="[object Undefined]",un="[object WeakMap]",Si="[object WeakSet]",fn="[object ArrayBuffer]",Cn="[object DataView]",wr="[object Float32Array]",br="[object Float64Array]",ti="[object Int8Array]",xr="[object Int16Array]",ni="[object Int32Array]",X="[object Uint8Array]",Tr="[object Uint8ClampedArray]",Ar="[object Uint16Array]",Er="[object Uint32Array]",Ii=/\b__p \+= '';/g,Pi=/\b(__p \+=) '' \+/g,ki=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Mi=/&(?:amp|lt|gt|quot|#39);/g,Zn=/[&<>"']/g,Li=RegExp(Mi.source),p=RegExp(Zn.source),y=/<%-([\s\S]+?)%>/g,T=/<%([\s\S]+?)%>/g,I=/<%=([\s\S]+?)%>/g,D=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Y=/^\w*$/,le=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,De=/[\\^$.*+?()[\]{}|]/g,ct=RegExp(De.source),je=/^\s+/,Ye=/\s/,Ni=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ui=/\{\n\/\* \[wrapped with (.+)\] \*/,S=/,? & /,_e=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ee=/[()=,{}\[\]\/\s]/,cn=/\\(\\)?/g,Bi=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Go=/\w*$/,Hl=/^[-+]0x[0-9a-f]+$/i,ql=/^0b[01]+$/i,Yl=/^\[object .+?Constructor\]$/,Vl=/^0o[0-7]+$/i,Kl=/^(?:0|[1-9]\d*)$/,Jl=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Di=/($^)/,Xl=/['\n\r\u2028\u2029\\]/g,Fi="\\ud800-\\udfff",Ql="\\u0300-\\u036f",ed="\\ufe20-\\ufe2f",td="\\u20d0-\\u20ff",Zo=Ql+ed+td,zo="\\u2700-\\u27bf",Ho="a-z\\xdf-\\xf6\\xf8-\\xff",nd="\\xac\\xb1\\xd7\\xf7",rd="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",id="\\u2000-\\u206f",sd=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",qo="A-Z\\xc0-\\xd6\\xd8-\\xde",Yo="\\ufe0e\\ufe0f",Vo=nd+rd+id+sd,aa="['\u2019]",ad="["+Fi+"]",Ko="["+Vo+"]",$i="["+Zo+"]",Jo="\\d+",od="["+zo+"]",Xo="["+Ho+"]",Qo="[^"+Fi+Vo+Jo+zo+Ho+qo+"]",oa="\\ud83c[\\udffb-\\udfff]",ud="(?:"+$i+"|"+oa+")",eu="[^"+Fi+"]",ua="(?:\\ud83c[\\udde6-\\uddff]){2}",fa="[\\ud800-\\udbff][\\udc00-\\udfff]",Or="["+qo+"]",tu="\\u200d",nu="(?:"+Xo+"|"+Qo+")",fd="(?:"+Or+"|"+Qo+")",ru="(?:"+aa+"(?:d|ll|m|re|s|t|ve))?",iu="(?:"+aa+"(?:D|LL|M|RE|S|T|VE))?",su=ud+"?",au="["+Yo+"]?",cd="(?:"+tu+"(?:"+[eu,ua,fa].join("|")+")"+au+su+")*",ld="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",dd="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ou=au+su+cd,hd="(?:"+[od,ua,fa].join("|")+")"+ou,pd="(?:"+[eu+$i+"?",$i,ua,fa,ad].join("|")+")",gd=RegExp(aa,"g"),md=RegExp($i,"g"),ca=RegExp(oa+"(?="+oa+")|"+pd+ou,"g"),vd=RegExp([Or+"?"+Xo+"+"+ru+"(?="+[Ko,Or,"$"].join("|")+")",fd+"+"+iu+"(?="+[Ko,Or+nu,"$"].join("|")+")",Or+"?"+nu+"+"+ru,Or+"+"+iu,dd,ld,Jo,hd].join("|"),"g"),_d=RegExp("["+tu+Fi+Zo+Yo+"]"),yd=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,wd=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],bd=-1,Ae={};Ae[wr]=Ae[br]=Ae[ti]=Ae[xr]=Ae[ni]=Ae[X]=Ae[Tr]=Ae[Ar]=Ae[Er]=!0,Ae[Ct]=Ae[an]=Ae[fn]=Ae[ot]=Ae[Cn]=Ae[Qt]=Ae[Ue]=Ae[en]=Ae[Qe]=Ae[On]=Ae[ut]=Ae[St]=Ae[ft]=Ae[Rn]=Ae[un]=!1;var be={};be[Ct]=be[an]=be[fn]=be[Cn]=be[ot]=be[Qt]=be[wr]=be[br]=be[ti]=be[xr]=be[ni]=be[Qe]=be[On]=be[ut]=be[St]=be[ft]=be[Rn]=be[Gn]=be[X]=be[Tr]=be[Ar]=be[Er]=!0,be[Ue]=be[en]=be[un]=!1;var xd={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Td={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ad={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ed={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Od=parseFloat,Rd=parseInt,uu=typeof global=="object"&&global&&global.Object===Object&&global,Cd=typeof self=="object"&&self&&self.Object===Object&&self,Ge=uu||Cd||Function("return this")(),la=typeof Fr=="object"&&Fr&&!Fr.nodeType&&Fr,zn=la&&typeof _i=="object"&&_i&&!_i.nodeType&&_i,fu=zn&&zn.exports===la,da=fu&&uu.process,It=function(){try{var w=zn&&zn.require&&zn.require("util").types;return w||da&&da.binding&&da.binding("util")}catch{}}(),cu=It&&It.isArrayBuffer,lu=It&&It.isDate,du=It&&It.isMap,hu=It&&It.isRegExp,pu=It&&It.isSet,gu=It&&It.isTypedArray;function vt(w,C,E){switch(E.length){case 0:return w.call(C);case 1:return w.call(C,E[0]);case 2:return w.call(C,E[0],E[1]);case 3:return w.call(C,E[0],E[1],E[2])}return w.apply(C,E)}function Sd(w,C,E,W){for(var Q=-1,ge=w==null?0:w.length;++Q<ge;){var Fe=w[Q];C(W,Fe,E(Fe),w)}return W}function Pt(w,C){for(var E=-1,W=w==null?0:w.length;++E<W&&C(w[E],E,w)!==!1;);return w}function Id(w,C){for(var E=w==null?0:w.length;E--&&C(w[E],E,w)!==!1;);return w}function mu(w,C){for(var E=-1,W=w==null?0:w.length;++E<W;)if(!C(w[E],E,w))return!1;return!0}function Sn(w,C){for(var E=-1,W=w==null?0:w.length,Q=0,ge=[];++E<W;){var Fe=w[E];C(Fe,E,w)&&(ge[Q++]=Fe)}return ge}function Wi(w,C){var E=w==null?0:w.length;return!!E&&Rr(w,C,0)>-1}function ha(w,C,E){for(var W=-1,Q=w==null?0:w.length;++W<Q;)if(E(C,w[W]))return!0;return!1}function Oe(w,C){for(var E=-1,W=w==null?0:w.length,Q=Array(W);++E<W;)Q[E]=C(w[E],E,w);return Q}function In(w,C){for(var E=-1,W=C.length,Q=w.length;++E<W;)w[Q+E]=C[E];return w}function pa(w,C,E,W){var Q=-1,ge=w==null?0:w.length;for(W&&ge&&(E=w[++Q]);++Q<ge;)E=C(E,w[Q],Q,w);return E}function Pd(w,C,E,W){var Q=w==null?0:w.length;for(W&&Q&&(E=w[--Q]);Q--;)E=C(E,w[Q],Q,w);return E}function ga(w,C){for(var E=-1,W=w==null?0:w.length;++E<W;)if(C(w[E],E,w))return!0;return!1}var kd=ma("length");function Md(w){return w.split("")}function Ld(w){return w.match(_e)||[]}function vu(w,C,E){var W;return E(w,function(Q,ge,Fe){if(C(Q,ge,Fe))return W=ge,!1}),W}function ji(w,C,E,W){for(var Q=w.length,ge=E+(W?1:-1);W?ge--:++ge<Q;)if(C(w[ge],ge,w))return ge;return-1}function Rr(w,C,E){return C===C?Hd(w,C,E):ji(w,_u,E)}function Nd(w,C,E,W){for(var Q=E-1,ge=w.length;++Q<ge;)if(W(w[Q],C))return Q;return-1}function _u(w){return w!==w}function yu(w,C){var E=w==null?0:w.length;return E?_a(w,C)/E:mt}function ma(w){return function(C){return C==null?n:C[w]}}function va(w){return function(C){return w==null?n:w[C]}}function wu(w,C,E,W,Q){return Q(w,function(ge,Fe,we){E=W?(W=!1,ge):C(E,ge,Fe,we)}),E}function Ud(w,C){var E=w.length;for(w.sort(C);E--;)w[E]=w[E].value;return w}function _a(w,C){for(var E,W=-1,Q=w.length;++W<Q;){var ge=C(w[W]);ge!==n&&(E=E===n?ge:E+ge)}return E}function ya(w,C){for(var E=-1,W=Array(w);++E<w;)W[E]=C(E);return W}function Bd(w,C){return Oe(C,function(E){return[E,w[E]]})}function bu(w){return w&&w.slice(0,Eu(w)+1).replace(je,"")}function _t(w){return function(C){return w(C)}}function wa(w,C){return Oe(C,function(E){return w[E]})}function ri(w,C){return w.has(C)}function xu(w,C){for(var E=-1,W=w.length;++E<W&&Rr(C,w[E],0)>-1;);return E}function Tu(w,C){for(var E=w.length;E--&&Rr(C,w[E],0)>-1;);return E}function Dd(w,C){for(var E=w.length,W=0;E--;)w[E]===C&&++W;return W}var Fd=va(xd),$d=va(Td);function Wd(w){return"\\"+Ed[w]}function jd(w,C){return w==null?n:w[C]}function Cr(w){return _d.test(w)}function Gd(w){return yd.test(w)}function Zd(w){for(var C,E=[];!(C=w.next()).done;)E.push(C.value);return E}function ba(w){var C=-1,E=Array(w.size);return w.forEach(function(W,Q){E[++C]=[Q,W]}),E}function Au(w,C){return function(E){return w(C(E))}}function Pn(w,C){for(var E=-1,W=w.length,Q=0,ge=[];++E<W;){var Fe=w[E];(Fe===C||Fe===b)&&(w[E]=b,ge[Q++]=E)}return ge}function Gi(w){var C=-1,E=Array(w.size);return w.forEach(function(W){E[++C]=W}),E}function zd(w){var C=-1,E=Array(w.size);return w.forEach(function(W){E[++C]=[W,W]}),E}function Hd(w,C,E){for(var W=E-1,Q=w.length;++W<Q;)if(w[W]===C)return W;return-1}function qd(w,C,E){for(var W=E+1;W--;)if(w[W]===C)return W;return W}function Sr(w){return Cr(w)?Vd(w):kd(w)}function Zt(w){return Cr(w)?Kd(w):Md(w)}function Eu(w){for(var C=w.length;C--&&Ye.test(w.charAt(C)););return C}var Yd=va(Ad);function Vd(w){for(var C=ca.lastIndex=0;ca.test(w);)++C;return C}function Kd(w){return w.match(ca)||[]}function Jd(w){return w.match(vd)||[]}var Xd=function w(C){C=C==null?Ge:kn.defaults(Ge.Object(),C,kn.pick(Ge,wd));var E=C.Array,W=C.Date,Q=C.Error,ge=C.Function,Fe=C.Math,we=C.Object,xa=C.RegExp,Qd=C.String,kt=C.TypeError,Zi=E.prototype,eh=ge.prototype,Ir=we.prototype,zi=C["__core-js_shared__"],Hi=eh.toString,ye=Ir.hasOwnProperty,th=0,Ou=function(){var e=/[^.]+$/.exec(zi&&zi.keys&&zi.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),qi=Ir.toString,nh=Hi.call(we),rh=Ge._,ih=xa("^"+Hi.call(ye).replace(De,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Yi=fu?C.Buffer:n,Mn=C.Symbol,Vi=C.Uint8Array,Ru=Yi?Yi.allocUnsafe:n,Ki=Au(we.getPrototypeOf,we),Cu=we.create,Su=Ir.propertyIsEnumerable,Ji=Zi.splice,Iu=Mn?Mn.isConcatSpreadable:n,ii=Mn?Mn.iterator:n,Hn=Mn?Mn.toStringTag:n,Xi=function(){try{var e=Jn(we,"defineProperty");return e({},"",{}),e}catch{}}(),sh=C.clearTimeout!==Ge.clearTimeout&&C.clearTimeout,ah=W&&W.now!==Ge.Date.now&&W.now,oh=C.setTimeout!==Ge.setTimeout&&C.setTimeout,Qi=Fe.ceil,es=Fe.floor,Ta=we.getOwnPropertySymbols,uh=Yi?Yi.isBuffer:n,Pu=C.isFinite,fh=Zi.join,ch=Au(we.keys,we),$e=Fe.max,Ve=Fe.min,lh=W.now,dh=C.parseInt,ku=Fe.random,hh=Zi.reverse,Aa=Jn(C,"DataView"),si=Jn(C,"Map"),Ea=Jn(C,"Promise"),Pr=Jn(C,"Set"),ai=Jn(C,"WeakMap"),oi=Jn(we,"create"),ts=ai&&new ai,kr={},ph=Xn(Aa),gh=Xn(si),mh=Xn(Ea),vh=Xn(Pr),_h=Xn(ai),ns=Mn?Mn.prototype:n,ui=ns?ns.valueOf:n,Mu=ns?ns.toString:n;function l(e){if(Pe(e)&&!te(e)&&!(e instanceof ce)){if(e instanceof Mt)return e;if(ye.call(e,"__wrapped__"))return Nf(e)}return new Mt(e)}var Mr=function(){function e(){}return function(t){if(!Ce(t))return{};if(Cu)return Cu(t);e.prototype=t;var i=new e;return e.prototype=n,i}}();function rs(){}function Mt(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}l.templateSettings={escape:y,evaluate:T,interpolate:I,variable:"",imports:{_:l}},l.prototype=rs.prototype,l.prototype.constructor=l,Mt.prototype=Mr(rs.prototype),Mt.prototype.constructor=Mt;function ce(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Te,this.__views__=[]}function yh(){var e=new ce(this.__wrapped__);return e.__actions__=lt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=lt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=lt(this.__views__),e}function wh(){if(this.__filtered__){var e=new ce(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function bh(){var e=this.__wrapped__.value(),t=this.__dir__,i=te(e),a=t<0,c=i?e.length:0,d=Mp(0,c,this.__views__),m=d.start,_=d.end,x=_-m,P=a?_:m-1,k=this.__iteratees__,M=k.length,U=0,G=Ve(x,this.__takeCount__);if(!i||!a&&c==x&&G==x)return rf(e,this.__actions__);var V=[];e:for(;x--&&U<G;){P+=t;for(var oe=-1,K=e[P];++oe<M;){var fe=k[oe],de=fe.iteratee,bt=fe.type,nt=de(K);if(bt==Wt)K=nt;else if(!nt){if(bt==An)continue e;break e}}V[U++]=K}return V}ce.prototype=Mr(rs.prototype),ce.prototype.constructor=ce;function qn(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var a=e[t];this.set(a[0],a[1])}}function xh(){this.__data__=oi?oi(null):{},this.size=0}function Th(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Ah(e){var t=this.__data__;if(oi){var i=t[e];return i===h?n:i}return ye.call(t,e)?t[e]:n}function Eh(e){var t=this.__data__;return oi?t[e]!==n:ye.call(t,e)}function Oh(e,t){var i=this.__data__;return this.size+=this.has(e)?0:1,i[e]=oi&&t===n?h:t,this}qn.prototype.clear=xh,qn.prototype.delete=Th,qn.prototype.get=Ah,qn.prototype.has=Eh,qn.prototype.set=Oh;function ln(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var a=e[t];this.set(a[0],a[1])}}function Rh(){this.__data__=[],this.size=0}function Ch(e){var t=this.__data__,i=is(t,e);if(i<0)return!1;var a=t.length-1;return i==a?t.pop():Ji.call(t,i,1),--this.size,!0}function Sh(e){var t=this.__data__,i=is(t,e);return i<0?n:t[i][1]}function Ih(e){return is(this.__data__,e)>-1}function Ph(e,t){var i=this.__data__,a=is(i,e);return a<0?(++this.size,i.push([e,t])):i[a][1]=t,this}ln.prototype.clear=Rh,ln.prototype.delete=Ch,ln.prototype.get=Sh,ln.prototype.has=Ih,ln.prototype.set=Ph;function dn(e){var t=-1,i=e==null?0:e.length;for(this.clear();++t<i;){var a=e[t];this.set(a[0],a[1])}}function kh(){this.size=0,this.__data__={hash:new qn,map:new(si||ln),string:new qn}}function Mh(e){var t=ms(this,e).delete(e);return this.size-=t?1:0,t}function Lh(e){return ms(this,e).get(e)}function Nh(e){return ms(this,e).has(e)}function Uh(e,t){var i=ms(this,e),a=i.size;return i.set(e,t),this.size+=i.size==a?0:1,this}dn.prototype.clear=kh,dn.prototype.delete=Mh,dn.prototype.get=Lh,dn.prototype.has=Nh,dn.prototype.set=Uh;function Yn(e){var t=-1,i=e==null?0:e.length;for(this.__data__=new dn;++t<i;)this.add(e[t])}function Bh(e){return this.__data__.set(e,h),this}function Dh(e){return this.__data__.has(e)}Yn.prototype.add=Yn.prototype.push=Bh,Yn.prototype.has=Dh;function zt(e){var t=this.__data__=new ln(e);this.size=t.size}function Fh(){this.__data__=new ln,this.size=0}function $h(e){var t=this.__data__,i=t.delete(e);return this.size=t.size,i}function Wh(e){return this.__data__.get(e)}function jh(e){return this.__data__.has(e)}function Gh(e,t){var i=this.__data__;if(i instanceof ln){var a=i.__data__;if(!si||a.length<s-1)return a.push([e,t]),this.size=++i.size,this;i=this.__data__=new dn(a)}return i.set(e,t),this.size=i.size,this}zt.prototype.clear=Fh,zt.prototype.delete=$h,zt.prototype.get=Wh,zt.prototype.has=jh,zt.prototype.set=Gh;function Lu(e,t){var i=te(e),a=!i&&Qn(e),c=!i&&!a&&Dn(e),d=!i&&!a&&!c&&Br(e),m=i||a||c||d,_=m?ya(e.length,Qd):[],x=_.length;for(var P in e)(t||ye.call(e,P))&&!(m&&(P=="length"||c&&(P=="offset"||P=="parent")||d&&(P=="buffer"||P=="byteLength"||P=="byteOffset")||mn(P,x)))&&_.push(P);return _}function Nu(e){var t=e.length;return t?e[Ua(0,t-1)]:n}function Zh(e,t){return vs(lt(e),Vn(t,0,e.length))}function zh(e){return vs(lt(e))}function Oa(e,t,i){(i!==n&&!Ht(e[t],i)||i===n&&!(t in e))&&hn(e,t,i)}function fi(e,t,i){var a=e[t];(!(ye.call(e,t)&&Ht(a,i))||i===n&&!(t in e))&&hn(e,t,i)}function is(e,t){for(var i=e.length;i--;)if(Ht(e[i][0],t))return i;return-1}function Hh(e,t,i,a){return Ln(e,function(c,d,m){t(a,c,i(c),m)}),a}function Uu(e,t){return e&&nn(t,Ze(t),e)}function qh(e,t){return e&&nn(t,ht(t),e)}function hn(e,t,i){t=="__proto__"&&Xi?Xi(e,t,{configurable:!0,enumerable:!0,value:i,writable:!0}):e[t]=i}function Ra(e,t){for(var i=-1,a=t.length,c=E(a),d=e==null;++i<a;)c[i]=d?n:oo(e,t[i]);return c}function Vn(e,t,i){return e===e&&(i!==n&&(e=e<=i?e:i),t!==n&&(e=e>=t?e:t)),e}function Lt(e,t,i,a,c,d){var m,_=t&v,x=t&O,P=t&R;if(i&&(m=c?i(e,a,c,d):i(e)),m!==n)return m;if(!Ce(e))return e;var k=te(e);if(k){if(m=Np(e),!_)return lt(e,m)}else{var M=Ke(e),U=M==en||M==En;if(Dn(e))return of(e,_);if(M==ut||M==Ct||U&&!c){if(m=x||U?{}:Of(e),!_)return x?Ap(e,qh(m,e)):Tp(e,Uu(m,e))}else{if(!be[M])return c?e:{};m=Up(e,M,_)}}d||(d=new zt);var G=d.get(e);if(G)return G;d.set(e,m),tc(e)?e.forEach(function(K){m.add(Lt(K,t,i,K,e,d))}):Qf(e)&&e.forEach(function(K,fe){m.set(fe,Lt(K,t,i,fe,e,d))});var V=P?x?qa:Ha:x?ht:Ze,oe=k?n:V(e);return Pt(oe||e,function(K,fe){oe&&(fe=K,K=e[fe]),fi(m,fe,Lt(K,t,i,fe,e,d))}),m}function Yh(e){var t=Ze(e);return function(i){return Bu(i,e,t)}}function Bu(e,t,i){var a=i.length;if(e==null)return!a;for(e=we(e);a--;){var c=i[a],d=t[c],m=e[c];if(m===n&&!(c in e)||!d(m))return!1}return!0}function Du(e,t,i){if(typeof e!="function")throw new kt(o);return mi(function(){e.apply(n,i)},t)}function ci(e,t,i,a){var c=-1,d=Wi,m=!0,_=e.length,x=[],P=t.length;if(!_)return x;i&&(t=Oe(t,_t(i))),a?(d=ha,m=!1):t.length>=s&&(d=ri,m=!1,t=new Yn(t));e:for(;++c<_;){var k=e[c],M=i==null?k:i(k);if(k=a||k!==0?k:0,m&&M===M){for(var U=P;U--;)if(t[U]===M)continue e;x.push(k)}else d(t,M,a)||x.push(k)}return x}var Ln=df(tn),Fu=df(Sa,!0);function Vh(e,t){var i=!0;return Ln(e,function(a,c,d){return i=!!t(a,c,d),i}),i}function ss(e,t,i){for(var a=-1,c=e.length;++a<c;){var d=e[a],m=t(d);if(m!=null&&(_===n?m===m&&!wt(m):i(m,_)))var _=m,x=d}return x}function Kh(e,t,i,a){var c=e.length;for(i=se(i),i<0&&(i=-i>c?0:c+i),a=a===n||a>c?c:se(a),a<0&&(a+=c),a=i>a?0:rc(a);i<a;)e[i++]=t;return e}function $u(e,t){var i=[];return Ln(e,function(a,c,d){t(a,c,d)&&i.push(a)}),i}function He(e,t,i,a,c){var d=-1,m=e.length;for(i||(i=Dp),c||(c=[]);++d<m;){var _=e[d];t>0&&i(_)?t>1?He(_,t-1,i,a,c):In(c,_):a||(c[c.length]=_)}return c}var Ca=hf(),Wu=hf(!0);function tn(e,t){return e&&Ca(e,t,Ze)}function Sa(e,t){return e&&Wu(e,t,Ze)}function as(e,t){return Sn(t,function(i){return vn(e[i])})}function Kn(e,t){t=Un(t,e);for(var i=0,a=t.length;e!=null&&i<a;)e=e[rn(t[i++])];return i&&i==a?e:n}function ju(e,t,i){var a=t(e);return te(e)?a:In(a,i(e))}function et(e){return e==null?e===n?ei:Ci:Hn&&Hn in we(e)?kp(e):zp(e)}function Ia(e,t){return e>t}function Jh(e,t){return e!=null&&ye.call(e,t)}function Xh(e,t){return e!=null&&t in we(e)}function Qh(e,t,i){return e>=Ve(t,i)&&e<$e(t,i)}function Pa(e,t,i){for(var a=i?ha:Wi,c=e[0].length,d=e.length,m=d,_=E(d),x=1/0,P=[];m--;){var k=e[m];m&&t&&(k=Oe(k,_t(t))),x=Ve(k.length,x),_[m]=!i&&(t||c>=120&&k.length>=120)?new Yn(m&&k):n}k=e[0];var M=-1,U=_[0];e:for(;++M<c&&P.length<x;){var G=k[M],V=t?t(G):G;if(G=i||G!==0?G:0,!(U?ri(U,V):a(P,V,i))){for(m=d;--m;){var oe=_[m];if(!(oe?ri(oe,V):a(e[m],V,i)))continue e}U&&U.push(V),P.push(G)}}return P}function ep(e,t,i,a){return tn(e,function(c,d,m){t(a,i(c),d,m)}),a}function li(e,t,i){t=Un(t,e),e=If(e,t);var a=e==null?e:e[rn(Ut(t))];return a==null?n:vt(a,e,i)}function Gu(e){return Pe(e)&&et(e)==Ct}function tp(e){return Pe(e)&&et(e)==fn}function np(e){return Pe(e)&&et(e)==Qt}function di(e,t,i,a,c){return e===t?!0:e==null||t==null||!Pe(e)&&!Pe(t)?e!==e&&t!==t:rp(e,t,i,a,di,c)}function rp(e,t,i,a,c,d){var m=te(e),_=te(t),x=m?an:Ke(e),P=_?an:Ke(t);x=x==Ct?ut:x,P=P==Ct?ut:P;var k=x==ut,M=P==ut,U=x==P;if(U&&Dn(e)){if(!Dn(t))return!1;m=!0,k=!1}if(U&&!k)return d||(d=new zt),m||Br(e)?Tf(e,t,i,a,c,d):Ip(e,t,x,i,a,c,d);if(!(i&A)){var G=k&&ye.call(e,"__wrapped__"),V=M&&ye.call(t,"__wrapped__");if(G||V){var oe=G?e.value():e,K=V?t.value():t;return d||(d=new zt),c(oe,K,i,a,d)}}return U?(d||(d=new zt),Pp(e,t,i,a,c,d)):!1}function ip(e){return Pe(e)&&Ke(e)==Qe}function ka(e,t,i,a){var c=i.length,d=c,m=!a;if(e==null)return!d;for(e=we(e);c--;){var _=i[c];if(m&&_[2]?_[1]!==e[_[0]]:!(_[0]in e))return!1}for(;++c<d;){_=i[c];var x=_[0],P=e[x],k=_[1];if(m&&_[2]){if(P===n&&!(x in e))return!1}else{var M=new zt;if(a)var U=a(P,k,x,e,t,M);if(!(U===n?di(k,P,A|L,a,M):U))return!1}}return!0}function Zu(e){if(!Ce(e)||$p(e))return!1;var t=vn(e)?ih:Yl;return t.test(Xn(e))}function sp(e){return Pe(e)&&et(e)==St}function ap(e){return Pe(e)&&Ke(e)==ft}function op(e){return Pe(e)&&Ts(e.length)&&!!Ae[et(e)]}function zu(e){return typeof e=="function"?e:e==null?pt:typeof e=="object"?te(e)?Yu(e[0],e[1]):qu(e):pc(e)}function Ma(e){if(!gi(e))return ch(e);var t=[];for(var i in we(e))ye.call(e,i)&&i!="constructor"&&t.push(i);return t}function up(e){if(!Ce(e))return Zp(e);var t=gi(e),i=[];for(var a in e)a=="constructor"&&(t||!ye.call(e,a))||i.push(a);return i}function La(e,t){return e<t}function Hu(e,t){var i=-1,a=dt(e)?E(e.length):[];return Ln(e,function(c,d,m){a[++i]=t(c,d,m)}),a}function qu(e){var t=Va(e);return t.length==1&&t[0][2]?Cf(t[0][0],t[0][1]):function(i){return i===e||ka(i,e,t)}}function Yu(e,t){return Ja(e)&&Rf(t)?Cf(rn(e),t):function(i){var a=oo(i,e);return a===n&&a===t?uo(i,e):di(t,a,A|L)}}function os(e,t,i,a,c){e!==t&&Ca(t,function(d,m){if(c||(c=new zt),Ce(d))fp(e,t,m,i,os,a,c);else{var _=a?a(Qa(e,m),d,m+"",e,t,c):n;_===n&&(_=d),Oa(e,m,_)}},ht)}function fp(e,t,i,a,c,d,m){var _=Qa(e,i),x=Qa(t,i),P=m.get(x);if(P){Oa(e,i,P);return}var k=d?d(_,x,i+"",e,t,m):n,M=k===n;if(M){var U=te(x),G=!U&&Dn(x),V=!U&&!G&&Br(x);k=x,U||G||V?te(_)?k=_:Le(_)?k=lt(_):G?(M=!1,k=of(x,!0)):V?(M=!1,k=uf(x,!0)):k=[]:vi(x)||Qn(x)?(k=_,Qn(_)?k=ic(_):(!Ce(_)||vn(_))&&(k=Of(x))):M=!1}M&&(m.set(x,k),c(k,x,a,d,m),m.delete(x)),Oa(e,i,k)}function Vu(e,t){var i=e.length;if(i)return t+=t<0?i:0,mn(t,i)?e[t]:n}function Ku(e,t,i){t.length?t=Oe(t,function(d){return te(d)?function(m){return Kn(m,d.length===1?d[0]:d)}:d}):t=[pt];var a=-1;t=Oe(t,_t(q()));var c=Hu(e,function(d,m,_){var x=Oe(t,function(P){return P(d)});return{criteria:x,index:++a,value:d}});return Ud(c,function(d,m){return xp(d,m,i)})}function cp(e,t){return Ju(e,t,function(i,a){return uo(e,a)})}function Ju(e,t,i){for(var a=-1,c=t.length,d={};++a<c;){var m=t[a],_=Kn(e,m);i(_,m)&&hi(d,Un(m,e),_)}return d}function lp(e){return function(t){return Kn(t,e)}}function Na(e,t,i,a){var c=a?Nd:Rr,d=-1,m=t.length,_=e;for(e===t&&(t=lt(t)),i&&(_=Oe(e,_t(i)));++d<m;)for(var x=0,P=t[d],k=i?i(P):P;(x=c(_,k,x,a))>-1;)_!==e&&Ji.call(_,x,1),Ji.call(e,x,1);return e}function Xu(e,t){for(var i=e?t.length:0,a=i-1;i--;){var c=t[i];if(i==a||c!==d){var d=c;mn(c)?Ji.call(e,c,1):Fa(e,c)}}return e}function Ua(e,t){return e+es(ku()*(t-e+1))}function dp(e,t,i,a){for(var c=-1,d=$e(Qi((t-e)/(i||1)),0),m=E(d);d--;)m[a?d:++c]=e,e+=i;return m}function Ba(e,t){var i="";if(!e||t<1||t>qe)return i;do t%2&&(i+=e),t=es(t/2),t&&(e+=e);while(t);return i}function ue(e,t){return eo(Sf(e,t,pt),e+"")}function hp(e){return Nu(Dr(e))}function pp(e,t){var i=Dr(e);return vs(i,Vn(t,0,i.length))}function hi(e,t,i,a){if(!Ce(e))return e;t=Un(t,e);for(var c=-1,d=t.length,m=d-1,_=e;_!=null&&++c<d;){var x=rn(t[c]),P=i;if(x==="__proto__"||x==="constructor"||x==="prototype")return e;if(c!=m){var k=_[x];P=a?a(k,x,_):n,P===n&&(P=Ce(k)?k:mn(t[c+1])?[]:{})}fi(_,x,P),_=_[x]}return e}var Qu=ts?function(e,t){return ts.set(e,t),e}:pt,gp=Xi?function(e,t){return Xi(e,"toString",{configurable:!0,enumerable:!1,value:co(t),writable:!0})}:pt;function mp(e){return vs(Dr(e))}function Nt(e,t,i){var a=-1,c=e.length;t<0&&(t=-t>c?0:c+t),i=i>c?c:i,i<0&&(i+=c),c=t>i?0:i-t>>>0,t>>>=0;for(var d=E(c);++a<c;)d[a]=e[a+t];return d}function vp(e,t){var i;return Ln(e,function(a,c,d){return i=t(a,c,d),!i}),!!i}function us(e,t,i){var a=0,c=e==null?a:e.length;if(typeof t=="number"&&t===t&&c<=Gt){for(;a<c;){var d=a+c>>>1,m=e[d];m!==null&&!wt(m)&&(i?m<=t:m<t)?a=d+1:c=d}return c}return Da(e,t,pt,i)}function Da(e,t,i,a){var c=0,d=e==null?0:e.length;if(d===0)return 0;t=i(t);for(var m=t!==t,_=t===null,x=wt(t),P=t===n;c<d;){var k=es((c+d)/2),M=i(e[k]),U=M!==n,G=M===null,V=M===M,oe=wt(M);if(m)var K=a||V;else P?K=V&&(a||U):_?K=V&&U&&(a||!G):x?K=V&&U&&!G&&(a||!oe):G||oe?K=!1:K=a?M<=t:M<t;K?c=k+1:d=k}return Ve(d,Rt)}function ef(e,t){for(var i=-1,a=e.length,c=0,d=[];++i<a;){var m=e[i],_=t?t(m):m;if(!i||!Ht(_,x)){var x=_;d[c++]=m===0?0:m}}return d}function tf(e){return typeof e=="number"?e:wt(e)?mt:+e}function yt(e){if(typeof e=="string")return e;if(te(e))return Oe(e,yt)+"";if(wt(e))return Mu?Mu.call(e):"";var t=e+"";return t=="0"&&1/e==-Xe?"-0":t}function Nn(e,t,i){var a=-1,c=Wi,d=e.length,m=!0,_=[],x=_;if(i)m=!1,c=ha;else if(d>=s){var P=t?null:Cp(e);if(P)return Gi(P);m=!1,c=ri,x=new Yn}else x=t?[]:_;e:for(;++a<d;){var k=e[a],M=t?t(k):k;if(k=i||k!==0?k:0,m&&M===M){for(var U=x.length;U--;)if(x[U]===M)continue e;t&&x.push(M),_.push(k)}else c(x,M,i)||(x!==_&&x.push(M),_.push(k))}return _}function Fa(e,t){return t=Un(t,e),e=If(e,t),e==null||delete e[rn(Ut(t))]}function nf(e,t,i,a){return hi(e,t,i(Kn(e,t)),a)}function fs(e,t,i,a){for(var c=e.length,d=a?c:-1;(a?d--:++d<c)&&t(e[d],d,e););return i?Nt(e,a?0:d,a?d+1:c):Nt(e,a?d+1:0,a?c:d)}function rf(e,t){var i=e;return i instanceof ce&&(i=i.value()),pa(t,function(a,c){return c.func.apply(c.thisArg,In([a],c.args))},i)}function $a(e,t,i){var a=e.length;if(a<2)return a?Nn(e[0]):[];for(var c=-1,d=E(a);++c<a;)for(var m=e[c],_=-1;++_<a;)_!=c&&(d[c]=ci(d[c]||m,e[_],t,i));return Nn(He(d,1),t,i)}function sf(e,t,i){for(var a=-1,c=e.length,d=t.length,m={};++a<c;){var _=a<d?t[a]:n;i(m,e[a],_)}return m}function Wa(e){return Le(e)?e:[]}function ja(e){return typeof e=="function"?e:pt}function Un(e,t){return te(e)?e:Ja(e,t)?[e]:Lf(me(e))}var _p=ue;function Bn(e,t,i){var a=e.length;return i=i===n?a:i,!t&&i>=a?e:Nt(e,t,i)}var af=sh||function(e){return Ge.clearTimeout(e)};function of(e,t){if(t)return e.slice();var i=e.length,a=Ru?Ru(i):new e.constructor(i);return e.copy(a),a}function Ga(e){var t=new e.constructor(e.byteLength);return new Vi(t).set(new Vi(e)),t}function yp(e,t){var i=t?Ga(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}function wp(e){var t=new e.constructor(e.source,Go.exec(e));return t.lastIndex=e.lastIndex,t}function bp(e){return ui?we(ui.call(e)):{}}function uf(e,t){var i=t?Ga(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.length)}function ff(e,t){if(e!==t){var i=e!==n,a=e===null,c=e===e,d=wt(e),m=t!==n,_=t===null,x=t===t,P=wt(t);if(!_&&!P&&!d&&e>t||d&&m&&x&&!_&&!P||a&&m&&x||!i&&x||!c)return 1;if(!a&&!d&&!P&&e<t||P&&i&&c&&!a&&!d||_&&i&&c||!m&&c||!x)return-1}return 0}function xp(e,t,i){for(var a=-1,c=e.criteria,d=t.criteria,m=c.length,_=i.length;++a<m;){var x=ff(c[a],d[a]);if(x){if(a>=_)return x;var P=i[a];return x*(P=="desc"?-1:1)}}return e.index-t.index}function cf(e,t,i,a){for(var c=-1,d=e.length,m=i.length,_=-1,x=t.length,P=$e(d-m,0),k=E(x+P),M=!a;++_<x;)k[_]=t[_];for(;++c<m;)(M||c<d)&&(k[i[c]]=e[c]);for(;P--;)k[_++]=e[c++];return k}function lf(e,t,i,a){for(var c=-1,d=e.length,m=-1,_=i.length,x=-1,P=t.length,k=$e(d-_,0),M=E(k+P),U=!a;++c<k;)M[c]=e[c];for(var G=c;++x<P;)M[G+x]=t[x];for(;++m<_;)(U||c<d)&&(M[G+i[m]]=e[c++]);return M}function lt(e,t){var i=-1,a=e.length;for(t||(t=E(a));++i<a;)t[i]=e[i];return t}function nn(e,t,i,a){var c=!i;i||(i={});for(var d=-1,m=t.length;++d<m;){var _=t[d],x=a?a(i[_],e[_],_,i,e):n;x===n&&(x=e[_]),c?hn(i,_,x):fi(i,_,x)}return i}function Tp(e,t){return nn(e,Ka(e),t)}function Ap(e,t){return nn(e,Af(e),t)}function cs(e,t){return function(i,a){var c=te(i)?Sd:Hh,d=t?t():{};return c(i,e,q(a,2),d)}}function Lr(e){return ue(function(t,i){var a=-1,c=i.length,d=c>1?i[c-1]:n,m=c>2?i[2]:n;for(d=e.length>3&&typeof d=="function"?(c--,d):n,m&&tt(i[0],i[1],m)&&(d=c<3?n:d,c=1),t=we(t);++a<c;){var _=i[a];_&&e(t,_,a,d)}return t})}function df(e,t){return function(i,a){if(i==null)return i;if(!dt(i))return e(i,a);for(var c=i.length,d=t?c:-1,m=we(i);(t?d--:++d<c)&&a(m[d],d,m)!==!1;);return i}}function hf(e){return function(t,i,a){for(var c=-1,d=we(t),m=a(t),_=m.length;_--;){var x=m[e?_:++c];if(i(d[x],x,d)===!1)break}return t}}function Ep(e,t,i){var a=t&$,c=pi(e);function d(){var m=this&&this!==Ge&&this instanceof d?c:e;return m.apply(a?i:this,arguments)}return d}function pf(e){return function(t){t=me(t);var i=Cr(t)?Zt(t):n,a=i?i[0]:t.charAt(0),c=i?Bn(i,1).join(""):t.slice(1);return a[e]()+c}}function Nr(e){return function(t){return pa(dc(lc(t).replace(gd,"")),e,"")}}function pi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var i=Mr(e.prototype),a=e.apply(i,t);return Ce(a)?a:i}}function Op(e,t,i){var a=pi(e);function c(){for(var d=arguments.length,m=E(d),_=d,x=Ur(c);_--;)m[_]=arguments[_];var P=d<3&&m[0]!==x&&m[d-1]!==x?[]:Pn(m,x);if(d-=P.length,d<i)return yf(e,t,ls,c.placeholder,n,m,P,n,n,i-d);var k=this&&this!==Ge&&this instanceof c?a:e;return vt(k,this,m)}return c}function gf(e){return function(t,i,a){var c=we(t);if(!dt(t)){var d=q(i,3);t=Ze(t),i=function(_){return d(c[_],_,c)}}var m=e(t,i,a);return m>-1?c[d?t[m]:m]:n}}function mf(e){return gn(function(t){var i=t.length,a=i,c=Mt.prototype.thru;for(e&&t.reverse();a--;){var d=t[a];if(typeof d!="function")throw new kt(o);if(c&&!m&&gs(d)=="wrapper")var m=new Mt([],!0)}for(a=m?a:i;++a<i;){d=t[a];var _=gs(d),x=_=="wrapper"?Ya(d):n;x&&Xa(x[0])&&x[1]==(Re|ne|ve|Ot)&&!x[4].length&&x[9]==1?m=m[gs(x[0])].apply(m,x[3]):m=d.length==1&&Xa(d)?m[_]():m.thru(d)}return function(){var P=arguments,k=P[0];if(m&&P.length==1&&te(k))return m.plant(k).value();for(var M=0,U=i?t[M].apply(this,P):k;++M<i;)U=t[M].call(this,U);return U}})}function ls(e,t,i,a,c,d,m,_,x,P){var k=t&Re,M=t&$,U=t&Z,G=t&(ne|ae),V=t&$t,oe=U?n:pi(e);function K(){for(var fe=arguments.length,de=E(fe),bt=fe;bt--;)de[bt]=arguments[bt];if(G)var nt=Ur(K),xt=Dd(de,nt);if(a&&(de=cf(de,a,c,G)),d&&(de=lf(de,d,m,G)),fe-=xt,G&&fe<P){var Ne=Pn(de,nt);return yf(e,t,ls,K.placeholder,i,de,Ne,_,x,P-fe)}var qt=M?i:this,yn=U?qt[e]:e;return fe=de.length,_?de=Hp(de,_):V&&fe>1&&de.reverse(),k&&x<fe&&(de.length=x),this&&this!==Ge&&this instanceof K&&(yn=oe||pi(yn)),yn.apply(qt,de)}return K}function vf(e,t){return function(i,a){return ep(i,e,t(a),{})}}function ds(e,t){return function(i,a){var c;if(i===n&&a===n)return t;if(i!==n&&(c=i),a!==n){if(c===n)return a;typeof i=="string"||typeof a=="string"?(i=yt(i),a=yt(a)):(i=tf(i),a=tf(a)),c=e(i,a)}return c}}function Za(e){return gn(function(t){return t=Oe(t,_t(q())),ue(function(i){var a=this;return e(t,function(c){return vt(c,a,i)})})})}function hs(e,t){t=t===n?" ":yt(t);var i=t.length;if(i<2)return i?Ba(t,e):t;var a=Ba(t,Qi(e/Sr(t)));return Cr(t)?Bn(Zt(a),0,e).join(""):a.slice(0,e)}function Rp(e,t,i,a){var c=t&$,d=pi(e);function m(){for(var _=-1,x=arguments.length,P=-1,k=a.length,M=E(k+x),U=this&&this!==Ge&&this instanceof m?d:e;++P<k;)M[P]=a[P];for(;x--;)M[P++]=arguments[++_];return vt(U,c?i:this,M)}return m}function _f(e){return function(t,i,a){return a&&typeof a!="number"&&tt(t,i,a)&&(i=a=n),t=_n(t),i===n?(i=t,t=0):i=_n(i),a=a===n?t<i?1:-1:_n(a),dp(t,i,a,e)}}function ps(e){return function(t,i){return typeof t=="string"&&typeof i=="string"||(t=Bt(t),i=Bt(i)),e(t,i)}}function yf(e,t,i,a,c,d,m,_,x,P){var k=t&ne,M=k?m:n,U=k?n:m,G=k?d:n,V=k?n:d;t|=k?ve:xe,t&=~(k?xe:ve),t&B||(t&=~($|Z));var oe=[e,t,c,G,M,V,U,_,x,P],K=i.apply(n,oe);return Xa(e)&&Pf(K,oe),K.placeholder=a,kf(K,e,t)}function za(e){var t=Fe[e];return function(i,a){if(i=Bt(i),a=a==null?0:Ve(se(a),292),a&&Pu(i)){var c=(me(i)+"e").split("e"),d=t(c[0]+"e"+(+c[1]+a));return c=(me(d)+"e").split("e"),+(c[0]+"e"+(+c[1]-a))}return t(i)}}var Cp=Pr&&1/Gi(new Pr([,-0]))[1]==Xe?function(e){return new Pr(e)}:po;function wf(e){return function(t){var i=Ke(t);return i==Qe?ba(t):i==ft?zd(t):Bd(t,e(t))}}function pn(e,t,i,a,c,d,m,_){var x=t&Z;if(!x&&typeof e!="function")throw new kt(o);var P=a?a.length:0;if(P||(t&=~(ve|xe),a=c=n),m=m===n?m:$e(se(m),0),_=_===n?_:se(_),P-=c?c.length:0,t&xe){var k=a,M=c;a=c=n}var U=x?n:Ya(e),G=[e,t,i,a,c,k,M,d,m,_];if(U&&Gp(G,U),e=G[0],t=G[1],i=G[2],a=G[3],c=G[4],_=G[9]=G[9]===n?x?0:e.length:$e(G[9]-P,0),!_&&t&(ne|ae)&&(t&=~(ne|ae)),!t||t==$)var V=Ep(e,t,i);else t==ne||t==ae?V=Op(e,t,_):(t==ve||t==($|ve))&&!c.length?V=Rp(e,t,i,a):V=ls.apply(n,G);var oe=U?Qu:Pf;return kf(oe(V,G),e,t)}function bf(e,t,i,a){return e===n||Ht(e,Ir[i])&&!ye.call(a,i)?t:e}function xf(e,t,i,a,c,d){return Ce(e)&&Ce(t)&&(d.set(t,e),os(e,t,n,xf,d),d.delete(t)),e}function Sp(e){return vi(e)?n:e}function Tf(e,t,i,a,c,d){var m=i&A,_=e.length,x=t.length;if(_!=x&&!(m&&x>_))return!1;var P=d.get(e),k=d.get(t);if(P&&k)return P==t&&k==e;var M=-1,U=!0,G=i&L?new Yn:n;for(d.set(e,t),d.set(t,e);++M<_;){var V=e[M],oe=t[M];if(a)var K=m?a(oe,V,M,t,e,d):a(V,oe,M,e,t,d);if(K!==n){if(K)continue;U=!1;break}if(G){if(!ga(t,function(fe,de){if(!ri(G,de)&&(V===fe||c(V,fe,i,a,d)))return G.push(de)})){U=!1;break}}else if(!(V===oe||c(V,oe,i,a,d))){U=!1;break}}return d.delete(e),d.delete(t),U}function Ip(e,t,i,a,c,d,m){switch(i){case Cn:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case fn:return!(e.byteLength!=t.byteLength||!d(new Vi(e),new Vi(t)));case ot:case Qt:case On:return Ht(+e,+t);case Ue:return e.name==t.name&&e.message==t.message;case St:case Rn:return e==t+"";case Qe:var _=ba;case ft:var x=a&A;if(_||(_=Gi),e.size!=t.size&&!x)return!1;var P=m.get(e);if(P)return P==t;a|=L,m.set(e,t);var k=Tf(_(e),_(t),a,c,d,m);return m.delete(e),k;case Gn:if(ui)return ui.call(e)==ui.call(t)}return!1}function Pp(e,t,i,a,c,d){var m=i&A,_=Ha(e),x=_.length,P=Ha(t),k=P.length;if(x!=k&&!m)return!1;for(var M=x;M--;){var U=_[M];if(!(m?U in t:ye.call(t,U)))return!1}var G=d.get(e),V=d.get(t);if(G&&V)return G==t&&V==e;var oe=!0;d.set(e,t),d.set(t,e);for(var K=m;++M<x;){U=_[M];var fe=e[U],de=t[U];if(a)var bt=m?a(de,fe,U,t,e,d):a(fe,de,U,e,t,d);if(!(bt===n?fe===de||c(fe,de,i,a,d):bt)){oe=!1;break}K||(K=U=="constructor")}if(oe&&!K){var nt=e.constructor,xt=t.constructor;nt!=xt&&"constructor"in e&&"constructor"in t&&!(typeof nt=="function"&&nt instanceof nt&&typeof xt=="function"&&xt instanceof xt)&&(oe=!1)}return d.delete(e),d.delete(t),oe}function gn(e){return eo(Sf(e,n,Df),e+"")}function Ha(e){return ju(e,Ze,Ka)}function qa(e){return ju(e,ht,Af)}var Ya=ts?function(e){return ts.get(e)}:po;function gs(e){for(var t=e.name+"",i=kr[t],a=ye.call(kr,t)?i.length:0;a--;){var c=i[a],d=c.func;if(d==null||d==e)return c.name}return t}function Ur(e){var t=ye.call(l,"placeholder")?l:e;return t.placeholder}function q(){var e=l.iteratee||lo;return e=e===lo?zu:e,arguments.length?e(arguments[0],arguments[1]):e}function ms(e,t){var i=e.__data__;return Fp(t)?i[typeof t=="string"?"string":"hash"]:i.map}function Va(e){for(var t=Ze(e),i=t.length;i--;){var a=t[i],c=e[a];t[i]=[a,c,Rf(c)]}return t}function Jn(e,t){var i=jd(e,t);return Zu(i)?i:n}function kp(e){var t=ye.call(e,Hn),i=e[Hn];try{e[Hn]=n;var a=!0}catch{}var c=qi.call(e);return a&&(t?e[Hn]=i:delete e[Hn]),c}var Ka=Ta?function(e){return e==null?[]:(e=we(e),Sn(Ta(e),function(t){return Su.call(e,t)}))}:go,Af=Ta?function(e){for(var t=[];e;)In(t,Ka(e)),e=Ki(e);return t}:go,Ke=et;(Aa&&Ke(new Aa(new ArrayBuffer(1)))!=Cn||si&&Ke(new si)!=Qe||Ea&&Ke(Ea.resolve())!=yr||Pr&&Ke(new Pr)!=ft||ai&&Ke(new ai)!=un)&&(Ke=function(e){var t=et(e),i=t==ut?e.constructor:n,a=i?Xn(i):"";if(a)switch(a){case ph:return Cn;case gh:return Qe;case mh:return yr;case vh:return ft;case _h:return un}return t});function Mp(e,t,i){for(var a=-1,c=i.length;++a<c;){var d=i[a],m=d.size;switch(d.type){case"drop":e+=m;break;case"dropRight":t-=m;break;case"take":t=Ve(t,e+m);break;case"takeRight":e=$e(e,t-m);break}}return{start:e,end:t}}function Lp(e){var t=e.match(Ui);return t?t[1].split(S):[]}function Ef(e,t,i){t=Un(t,e);for(var a=-1,c=t.length,d=!1;++a<c;){var m=rn(t[a]);if(!(d=e!=null&&i(e,m)))break;e=e[m]}return d||++a!=c?d:(c=e==null?0:e.length,!!c&&Ts(c)&&mn(m,c)&&(te(e)||Qn(e)))}function Np(e){var t=e.length,i=new e.constructor(t);return t&&typeof e[0]=="string"&&ye.call(e,"index")&&(i.index=e.index,i.input=e.input),i}function Of(e){return typeof e.constructor=="function"&&!gi(e)?Mr(Ki(e)):{}}function Up(e,t,i){var a=e.constructor;switch(t){case fn:return Ga(e);case ot:case Qt:return new a(+e);case Cn:return yp(e,i);case wr:case br:case ti:case xr:case ni:case X:case Tr:case Ar:case Er:return uf(e,i);case Qe:return new a;case On:case Rn:return new a(e);case St:return wp(e);case ft:return new a;case Gn:return bp(e)}}function Bp(e,t){var i=t.length;if(!i)return e;var a=i-1;return t[a]=(i>1?"& ":"")+t[a],t=t.join(i>2?", ":" "),e.replace(Ni,`{
/* [wrapped with `+t+`] */
`)}function Dp(e){return te(e)||Qn(e)||!!(Iu&&e&&e[Iu])}function mn(e,t){var i=typeof e;return t=t??qe,!!t&&(i=="number"||i!="symbol"&&Kl.test(e))&&e>-1&&e%1==0&&e<t}function tt(e,t,i){if(!Ce(i))return!1;var a=typeof t;return(a=="number"?dt(i)&&mn(t,i.length):a=="string"&&t in i)?Ht(i[t],e):!1}function Ja(e,t){if(te(e))return!1;var i=typeof e;return i=="number"||i=="symbol"||i=="boolean"||e==null||wt(e)?!0:Y.test(e)||!D.test(e)||t!=null&&e in we(t)}function Fp(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Xa(e){var t=gs(e),i=l[t];if(typeof i!="function"||!(t in ce.prototype))return!1;if(e===i)return!0;var a=Ya(i);return!!a&&e===a[0]}function $p(e){return!!Ou&&Ou in e}var Wp=zi?vn:mo;function gi(e){var t=e&&e.constructor,i=typeof t=="function"&&t.prototype||Ir;return e===i}function Rf(e){return e===e&&!Ce(e)}function Cf(e,t){return function(i){return i==null?!1:i[e]===t&&(t!==n||e in we(i))}}function jp(e){var t=bs(e,function(a){return i.size===g&&i.clear(),a}),i=t.cache;return t}function Gp(e,t){var i=e[1],a=t[1],c=i|a,d=c<($|Z|Re),m=a==Re&&i==ne||a==Re&&i==Ot&&e[7].length<=t[8]||a==(Re|Ot)&&t[7].length<=t[8]&&i==ne;if(!(d||m))return e;a&$&&(e[2]=t[2],c|=i&$?0:B);var _=t[3];if(_){var x=e[3];e[3]=x?cf(x,_,t[4]):_,e[4]=x?Pn(e[3],b):t[4]}return _=t[5],_&&(x=e[5],e[5]=x?lf(x,_,t[6]):_,e[6]=x?Pn(e[5],b):t[6]),_=t[7],_&&(e[7]=_),a&Re&&(e[8]=e[8]==null?t[8]:Ve(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=c,e}function Zp(e){var t=[];if(e!=null)for(var i in we(e))t.push(i);return t}function zp(e){return qi.call(e)}function Sf(e,t,i){return t=$e(t===n?e.length-1:t,0),function(){for(var a=arguments,c=-1,d=$e(a.length-t,0),m=E(d);++c<d;)m[c]=a[t+c];c=-1;for(var _=E(t+1);++c<t;)_[c]=a[c];return _[t]=i(m),vt(e,this,_)}}function If(e,t){return t.length<2?e:Kn(e,Nt(t,0,-1))}function Hp(e,t){for(var i=e.length,a=Ve(t.length,i),c=lt(e);a--;){var d=t[a];e[a]=mn(d,i)?c[d]:n}return e}function Qa(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Pf=Mf(Qu),mi=oh||function(e,t){return Ge.setTimeout(e,t)},eo=Mf(gp);function kf(e,t,i){var a=t+"";return eo(e,Bp(a,qp(Lp(a),i)))}function Mf(e){var t=0,i=0;return function(){var a=lh(),c=_r-(a-i);if(i=a,c>0){if(++t>=Me)return arguments[0]}else t=0;return e.apply(n,arguments)}}function vs(e,t){var i=-1,a=e.length,c=a-1;for(t=t===n?a:t;++i<t;){var d=Ua(i,c),m=e[d];e[d]=e[i],e[i]=m}return e.length=t,e}var Lf=jp(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(le,function(i,a,c,d){t.push(c?d.replace(cn,"$1"):a||i)}),t});function rn(e){if(typeof e=="string"||wt(e))return e;var t=e+"";return t=="0"&&1/e==-Xe?"-0":t}function Xn(e){if(e!=null){try{return Hi.call(e)}catch{}try{return e+""}catch{}}return""}function qp(e,t){return Pt(Xt,function(i){var a="_."+i[0];t&i[1]&&!Wi(e,a)&&e.push(a)}),e.sort()}function Nf(e){if(e instanceof ce)return e.clone();var t=new Mt(e.__wrapped__,e.__chain__);return t.__actions__=lt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Yp(e,t,i){(i?tt(e,t,i):t===n)?t=1:t=$e(se(t),0);var a=e==null?0:e.length;if(!a||t<1)return[];for(var c=0,d=0,m=E(Qi(a/t));c<a;)m[d++]=Nt(e,c,c+=t);return m}function Vp(e){for(var t=-1,i=e==null?0:e.length,a=0,c=[];++t<i;){var d=e[t];d&&(c[a++]=d)}return c}function Kp(){var e=arguments.length;if(!e)return[];for(var t=E(e-1),i=arguments[0],a=e;a--;)t[a-1]=arguments[a];return In(te(i)?lt(i):[i],He(t,1))}var Jp=ue(function(e,t){return Le(e)?ci(e,He(t,1,Le,!0)):[]}),Xp=ue(function(e,t){var i=Ut(t);return Le(i)&&(i=n),Le(e)?ci(e,He(t,1,Le,!0),q(i,2)):[]}),Qp=ue(function(e,t){var i=Ut(t);return Le(i)&&(i=n),Le(e)?ci(e,He(t,1,Le,!0),n,i):[]});function eg(e,t,i){var a=e==null?0:e.length;return a?(t=i||t===n?1:se(t),Nt(e,t<0?0:t,a)):[]}function tg(e,t,i){var a=e==null?0:e.length;return a?(t=i||t===n?1:se(t),t=a-t,Nt(e,0,t<0?0:t)):[]}function ng(e,t){return e&&e.length?fs(e,q(t,3),!0,!0):[]}function rg(e,t){return e&&e.length?fs(e,q(t,3),!0):[]}function ig(e,t,i,a){var c=e==null?0:e.length;return c?(i&&typeof i!="number"&&tt(e,t,i)&&(i=0,a=c),Kh(e,t,i,a)):[]}function Uf(e,t,i){var a=e==null?0:e.length;if(!a)return-1;var c=i==null?0:se(i);return c<0&&(c=$e(a+c,0)),ji(e,q(t,3),c)}function Bf(e,t,i){var a=e==null?0:e.length;if(!a)return-1;var c=a-1;return i!==n&&(c=se(i),c=i<0?$e(a+c,0):Ve(c,a-1)),ji(e,q(t,3),c,!0)}function Df(e){var t=e==null?0:e.length;return t?He(e,1):[]}function sg(e){var t=e==null?0:e.length;return t?He(e,Xe):[]}function ag(e,t){var i=e==null?0:e.length;return i?(t=t===n?1:se(t),He(e,t)):[]}function og(e){for(var t=-1,i=e==null?0:e.length,a={};++t<i;){var c=e[t];a[c[0]]=c[1]}return a}function Ff(e){return e&&e.length?e[0]:n}function ug(e,t,i){var a=e==null?0:e.length;if(!a)return-1;var c=i==null?0:se(i);return c<0&&(c=$e(a+c,0)),Rr(e,t,c)}function fg(e){var t=e==null?0:e.length;return t?Nt(e,0,-1):[]}var cg=ue(function(e){var t=Oe(e,Wa);return t.length&&t[0]===e[0]?Pa(t):[]}),lg=ue(function(e){var t=Ut(e),i=Oe(e,Wa);return t===Ut(i)?t=n:i.pop(),i.length&&i[0]===e[0]?Pa(i,q(t,2)):[]}),dg=ue(function(e){var t=Ut(e),i=Oe(e,Wa);return t=typeof t=="function"?t:n,t&&i.pop(),i.length&&i[0]===e[0]?Pa(i,n,t):[]});function hg(e,t){return e==null?"":fh.call(e,t)}function Ut(e){var t=e==null?0:e.length;return t?e[t-1]:n}function pg(e,t,i){var a=e==null?0:e.length;if(!a)return-1;var c=a;return i!==n&&(c=se(i),c=c<0?$e(a+c,0):Ve(c,a-1)),t===t?qd(e,t,c):ji(e,_u,c,!0)}function gg(e,t){return e&&e.length?Vu(e,se(t)):n}var mg=ue($f);function $f(e,t){return e&&e.length&&t&&t.length?Na(e,t):e}function vg(e,t,i){return e&&e.length&&t&&t.length?Na(e,t,q(i,2)):e}function _g(e,t,i){return e&&e.length&&t&&t.length?Na(e,t,n,i):e}var yg=gn(function(e,t){var i=e==null?0:e.length,a=Ra(e,t);return Xu(e,Oe(t,function(c){return mn(c,i)?+c:c}).sort(ff)),a});function wg(e,t){var i=[];if(!(e&&e.length))return i;var a=-1,c=[],d=e.length;for(t=q(t,3);++a<d;){var m=e[a];t(m,a,e)&&(i.push(m),c.push(a))}return Xu(e,c),i}function to(e){return e==null?e:hh.call(e)}function bg(e,t,i){var a=e==null?0:e.length;return a?(i&&typeof i!="number"&&tt(e,t,i)?(t=0,i=a):(t=t==null?0:se(t),i=i===n?a:se(i)),Nt(e,t,i)):[]}function xg(e,t){return us(e,t)}function Tg(e,t,i){return Da(e,t,q(i,2))}function Ag(e,t){var i=e==null?0:e.length;if(i){var a=us(e,t);if(a<i&&Ht(e[a],t))return a}return-1}function Eg(e,t){return us(e,t,!0)}function Og(e,t,i){return Da(e,t,q(i,2),!0)}function Rg(e,t){var i=e==null?0:e.length;if(i){var a=us(e,t,!0)-1;if(Ht(e[a],t))return a}return-1}function Cg(e){return e&&e.length?ef(e):[]}function Sg(e,t){return e&&e.length?ef(e,q(t,2)):[]}function Ig(e){var t=e==null?0:e.length;return t?Nt(e,1,t):[]}function Pg(e,t,i){return e&&e.length?(t=i||t===n?1:se(t),Nt(e,0,t<0?0:t)):[]}function kg(e,t,i){var a=e==null?0:e.length;return a?(t=i||t===n?1:se(t),t=a-t,Nt(e,t<0?0:t,a)):[]}function Mg(e,t){return e&&e.length?fs(e,q(t,3),!1,!0):[]}function Lg(e,t){return e&&e.length?fs(e,q(t,3)):[]}var Ng=ue(function(e){return Nn(He(e,1,Le,!0))}),Ug=ue(function(e){var t=Ut(e);return Le(t)&&(t=n),Nn(He(e,1,Le,!0),q(t,2))}),Bg=ue(function(e){var t=Ut(e);return t=typeof t=="function"?t:n,Nn(He(e,1,Le,!0),n,t)});function Dg(e){return e&&e.length?Nn(e):[]}function Fg(e,t){return e&&e.length?Nn(e,q(t,2)):[]}function $g(e,t){return t=typeof t=="function"?t:n,e&&e.length?Nn(e,n,t):[]}function no(e){if(!(e&&e.length))return[];var t=0;return e=Sn(e,function(i){if(Le(i))return t=$e(i.length,t),!0}),ya(t,function(i){return Oe(e,ma(i))})}function Wf(e,t){if(!(e&&e.length))return[];var i=no(e);return t==null?i:Oe(i,function(a){return vt(t,n,a)})}var Wg=ue(function(e,t){return Le(e)?ci(e,t):[]}),jg=ue(function(e){return $a(Sn(e,Le))}),Gg=ue(function(e){var t=Ut(e);return Le(t)&&(t=n),$a(Sn(e,Le),q(t,2))}),Zg=ue(function(e){var t=Ut(e);return t=typeof t=="function"?t:n,$a(Sn(e,Le),n,t)}),zg=ue(no);function Hg(e,t){return sf(e||[],t||[],fi)}function qg(e,t){return sf(e||[],t||[],hi)}var Yg=ue(function(e){var t=e.length,i=t>1?e[t-1]:n;return i=typeof i=="function"?(e.pop(),i):n,Wf(e,i)});function jf(e){var t=l(e);return t.__chain__=!0,t}function Vg(e,t){return t(e),e}function _s(e,t){return t(e)}var Kg=gn(function(e){var t=e.length,i=t?e[0]:0,a=this.__wrapped__,c=function(d){return Ra(d,e)};return t>1||this.__actions__.length||!(a instanceof ce)||!mn(i)?this.thru(c):(a=a.slice(i,+i+(t?1:0)),a.__actions__.push({func:_s,args:[c],thisArg:n}),new Mt(a,this.__chain__).thru(function(d){return t&&!d.length&&d.push(n),d}))});function Jg(){return jf(this)}function Xg(){return new Mt(this.value(),this.__chain__)}function Qg(){this.__values__===n&&(this.__values__=nc(this.value()));var e=this.__index__>=this.__values__.length,t=e?n:this.__values__[this.__index__++];return{done:e,value:t}}function em(){return this}function tm(e){for(var t,i=this;i instanceof rs;){var a=Nf(i);a.__index__=0,a.__values__=n,t?c.__wrapped__=a:t=a;var c=a;i=i.__wrapped__}return c.__wrapped__=e,t}function nm(){var e=this.__wrapped__;if(e instanceof ce){var t=e;return this.__actions__.length&&(t=new ce(this)),t=t.reverse(),t.__actions__.push({func:_s,args:[to],thisArg:n}),new Mt(t,this.__chain__)}return this.thru(to)}function rm(){return rf(this.__wrapped__,this.__actions__)}var im=cs(function(e,t,i){ye.call(e,i)?++e[i]:hn(e,i,1)});function sm(e,t,i){var a=te(e)?mu:Vh;return i&&tt(e,t,i)&&(t=n),a(e,q(t,3))}function am(e,t){var i=te(e)?Sn:$u;return i(e,q(t,3))}var om=gf(Uf),um=gf(Bf);function fm(e,t){return He(ys(e,t),1)}function cm(e,t){return He(ys(e,t),Xe)}function lm(e,t,i){return i=i===n?1:se(i),He(ys(e,t),i)}function Gf(e,t){var i=te(e)?Pt:Ln;return i(e,q(t,3))}function Zf(e,t){var i=te(e)?Id:Fu;return i(e,q(t,3))}var dm=cs(function(e,t,i){ye.call(e,i)?e[i].push(t):hn(e,i,[t])});function hm(e,t,i,a){e=dt(e)?e:Dr(e),i=i&&!a?se(i):0;var c=e.length;return i<0&&(i=$e(c+i,0)),As(e)?i<=c&&e.indexOf(t,i)>-1:!!c&&Rr(e,t,i)>-1}var pm=ue(function(e,t,i){var a=-1,c=typeof t=="function",d=dt(e)?E(e.length):[];return Ln(e,function(m){d[++a]=c?vt(t,m,i):li(m,t,i)}),d}),gm=cs(function(e,t,i){hn(e,i,t)});function ys(e,t){var i=te(e)?Oe:Hu;return i(e,q(t,3))}function mm(e,t,i,a){return e==null?[]:(te(t)||(t=t==null?[]:[t]),i=a?n:i,te(i)||(i=i==null?[]:[i]),Ku(e,t,i))}var vm=cs(function(e,t,i){e[i?0:1].push(t)},function(){return[[],[]]});function _m(e,t,i){var a=te(e)?pa:wu,c=arguments.length<3;return a(e,q(t,4),i,c,Ln)}function ym(e,t,i){var a=te(e)?Pd:wu,c=arguments.length<3;return a(e,q(t,4),i,c,Fu)}function wm(e,t){var i=te(e)?Sn:$u;return i(e,xs(q(t,3)))}function bm(e){var t=te(e)?Nu:hp;return t(e)}function xm(e,t,i){(i?tt(e,t,i):t===n)?t=1:t=se(t);var a=te(e)?Zh:pp;return a(e,t)}function Tm(e){var t=te(e)?zh:mp;return t(e)}function Am(e){if(e==null)return 0;if(dt(e))return As(e)?Sr(e):e.length;var t=Ke(e);return t==Qe||t==ft?e.size:Ma(e).length}function Em(e,t,i){var a=te(e)?ga:vp;return i&&tt(e,t,i)&&(t=n),a(e,q(t,3))}var Om=ue(function(e,t){if(e==null)return[];var i=t.length;return i>1&&tt(e,t[0],t[1])?t=[]:i>2&&tt(t[0],t[1],t[2])&&(t=[t[0]]),Ku(e,He(t,1),[])}),ws=ah||function(){return Ge.Date.now()};function Rm(e,t){if(typeof t!="function")throw new kt(o);return e=se(e),function(){if(--e<1)return t.apply(this,arguments)}}function zf(e,t,i){return t=i?n:t,t=e&&t==null?e.length:t,pn(e,Re,n,n,n,n,t)}function Hf(e,t){var i;if(typeof t!="function")throw new kt(o);return e=se(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=n),i}}var ro=ue(function(e,t,i){var a=$;if(i.length){var c=Pn(i,Ur(ro));a|=ve}return pn(e,a,t,i,c)}),qf=ue(function(e,t,i){var a=$|Z;if(i.length){var c=Pn(i,Ur(qf));a|=ve}return pn(t,a,e,i,c)});function Yf(e,t,i){t=i?n:t;var a=pn(e,ne,n,n,n,n,n,t);return a.placeholder=Yf.placeholder,a}function Vf(e,t,i){t=i?n:t;var a=pn(e,ae,n,n,n,n,n,t);return a.placeholder=Vf.placeholder,a}function Kf(e,t,i){var a,c,d,m,_,x,P=0,k=!1,M=!1,U=!0;if(typeof e!="function")throw new kt(o);t=Bt(t)||0,Ce(i)&&(k=!!i.leading,M="maxWait"in i,d=M?$e(Bt(i.maxWait)||0,t):d,U="trailing"in i?!!i.trailing:U);function G(Ne){var qt=a,yn=c;return a=c=n,P=Ne,m=e.apply(yn,qt),m}function V(Ne){return P=Ne,_=mi(fe,t),k?G(Ne):m}function oe(Ne){var qt=Ne-x,yn=Ne-P,gc=t-qt;return M?Ve(gc,d-yn):gc}function K(Ne){var qt=Ne-x,yn=Ne-P;return x===n||qt>=t||qt<0||M&&yn>=d}function fe(){var Ne=ws();if(K(Ne))return de(Ne);_=mi(fe,oe(Ne))}function de(Ne){return _=n,U&&a?G(Ne):(a=c=n,m)}function bt(){_!==n&&af(_),P=0,a=x=c=_=n}function nt(){return _===n?m:de(ws())}function xt(){var Ne=ws(),qt=K(Ne);if(a=arguments,c=this,x=Ne,qt){if(_===n)return V(x);if(M)return af(_),_=mi(fe,t),G(x)}return _===n&&(_=mi(fe,t)),m}return xt.cancel=bt,xt.flush=nt,xt}var Cm=ue(function(e,t){return Du(e,1,t)}),Sm=ue(function(e,t,i){return Du(e,Bt(t)||0,i)});function Im(e){return pn(e,$t)}function bs(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new kt(o);var i=function(){var a=arguments,c=t?t.apply(this,a):a[0],d=i.cache;if(d.has(c))return d.get(c);var m=e.apply(this,a);return i.cache=d.set(c,m)||d,m};return i.cache=new(bs.Cache||dn),i}bs.Cache=dn;function xs(e){if(typeof e!="function")throw new kt(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Pm(e){return Hf(2,e)}var km=_p(function(e,t){t=t.length==1&&te(t[0])?Oe(t[0],_t(q())):Oe(He(t,1),_t(q()));var i=t.length;return ue(function(a){for(var c=-1,d=Ve(a.length,i);++c<d;)a[c]=t[c].call(this,a[c]);return vt(e,this,a)})}),io=ue(function(e,t){var i=Pn(t,Ur(io));return pn(e,ve,n,t,i)}),Jf=ue(function(e,t){var i=Pn(t,Ur(Jf));return pn(e,xe,n,t,i)}),Mm=gn(function(e,t){return pn(e,Ot,n,n,n,t)});function Lm(e,t){if(typeof e!="function")throw new kt(o);return t=t===n?t:se(t),ue(e,t)}function Nm(e,t){if(typeof e!="function")throw new kt(o);return t=t==null?0:$e(se(t),0),ue(function(i){var a=i[t],c=Bn(i,0,t);return a&&In(c,a),vt(e,this,c)})}function Um(e,t,i){var a=!0,c=!0;if(typeof e!="function")throw new kt(o);return Ce(i)&&(a="leading"in i?!!i.leading:a,c="trailing"in i?!!i.trailing:c),Kf(e,t,{leading:a,maxWait:t,trailing:c})}function Bm(e){return zf(e,1)}function Dm(e,t){return io(ja(t),e)}function Fm(){if(!arguments.length)return[];var e=arguments[0];return te(e)?e:[e]}function $m(e){return Lt(e,R)}function Wm(e,t){return t=typeof t=="function"?t:n,Lt(e,R,t)}function jm(e){return Lt(e,v|R)}function Gm(e,t){return t=typeof t=="function"?t:n,Lt(e,v|R,t)}function Zm(e,t){return t==null||Bu(e,t,Ze(t))}function Ht(e,t){return e===t||e!==e&&t!==t}var zm=ps(Ia),Hm=ps(function(e,t){return e>=t}),Qn=Gu(function(){return arguments}())?Gu:function(e){return Pe(e)&&ye.call(e,"callee")&&!Su.call(e,"callee")},te=E.isArray,qm=cu?_t(cu):tp;function dt(e){return e!=null&&Ts(e.length)&&!vn(e)}function Le(e){return Pe(e)&&dt(e)}function Ym(e){return e===!0||e===!1||Pe(e)&&et(e)==ot}var Dn=uh||mo,Vm=lu?_t(lu):np;function Km(e){return Pe(e)&&e.nodeType===1&&!vi(e)}function Jm(e){if(e==null)return!0;if(dt(e)&&(te(e)||typeof e=="string"||typeof e.splice=="function"||Dn(e)||Br(e)||Qn(e)))return!e.length;var t=Ke(e);if(t==Qe||t==ft)return!e.size;if(gi(e))return!Ma(e).length;for(var i in e)if(ye.call(e,i))return!1;return!0}function Xm(e,t){return di(e,t)}function Qm(e,t,i){i=typeof i=="function"?i:n;var a=i?i(e,t):n;return a===n?di(e,t,n,i):!!a}function so(e){if(!Pe(e))return!1;var t=et(e);return t==Ue||t==Ie||typeof e.message=="string"&&typeof e.name=="string"&&!vi(e)}function ev(e){return typeof e=="number"&&Pu(e)}function vn(e){if(!Ce(e))return!1;var t=et(e);return t==en||t==En||t==on||t==Qr}function Xf(e){return typeof e=="number"&&e==se(e)}function Ts(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=qe}function Ce(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Pe(e){return e!=null&&typeof e=="object"}var Qf=du?_t(du):ip;function tv(e,t){return e===t||ka(e,t,Va(t))}function nv(e,t,i){return i=typeof i=="function"?i:n,ka(e,t,Va(t),i)}function rv(e){return ec(e)&&e!=+e}function iv(e){if(Wp(e))throw new Q(u);return Zu(e)}function sv(e){return e===null}function av(e){return e==null}function ec(e){return typeof e=="number"||Pe(e)&&et(e)==On}function vi(e){if(!Pe(e)||et(e)!=ut)return!1;var t=Ki(e);if(t===null)return!0;var i=ye.call(t,"constructor")&&t.constructor;return typeof i=="function"&&i instanceof i&&Hi.call(i)==nh}var ao=hu?_t(hu):sp;function ov(e){return Xf(e)&&e>=-qe&&e<=qe}var tc=pu?_t(pu):ap;function As(e){return typeof e=="string"||!te(e)&&Pe(e)&&et(e)==Rn}function wt(e){return typeof e=="symbol"||Pe(e)&&et(e)==Gn}var Br=gu?_t(gu):op;function uv(e){return e===n}function fv(e){return Pe(e)&&Ke(e)==un}function cv(e){return Pe(e)&&et(e)==Si}var lv=ps(La),dv=ps(function(e,t){return e<=t});function nc(e){if(!e)return[];if(dt(e))return As(e)?Zt(e):lt(e);if(ii&&e[ii])return Zd(e[ii]());var t=Ke(e),i=t==Qe?ba:t==ft?Gi:Dr;return i(e)}function _n(e){if(!e)return e===0?e:0;if(e=Bt(e),e===Xe||e===-Xe){var t=e<0?-1:1;return t*jt}return e===e?e:0}function se(e){var t=_n(e),i=t%1;return t===t?i?t-i:t:0}function rc(e){return e?Vn(se(e),0,Te):0}function Bt(e){if(typeof e=="number")return e;if(wt(e))return mt;if(Ce(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ce(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=bu(e);var i=ql.test(e);return i||Vl.test(e)?Rd(e.slice(2),i?2:8):Hl.test(e)?mt:+e}function ic(e){return nn(e,ht(e))}function hv(e){return e?Vn(se(e),-qe,qe):e===0?e:0}function me(e){return e==null?"":yt(e)}var pv=Lr(function(e,t){if(gi(t)||dt(t)){nn(t,Ze(t),e);return}for(var i in t)ye.call(t,i)&&fi(e,i,t[i])}),sc=Lr(function(e,t){nn(t,ht(t),e)}),Es=Lr(function(e,t,i,a){nn(t,ht(t),e,a)}),gv=Lr(function(e,t,i,a){nn(t,Ze(t),e,a)}),mv=gn(Ra);function vv(e,t){var i=Mr(e);return t==null?i:Uu(i,t)}var _v=ue(function(e,t){e=we(e);var i=-1,a=t.length,c=a>2?t[2]:n;for(c&&tt(t[0],t[1],c)&&(a=1);++i<a;)for(var d=t[i],m=ht(d),_=-1,x=m.length;++_<x;){var P=m[_],k=e[P];(k===n||Ht(k,Ir[P])&&!ye.call(e,P))&&(e[P]=d[P])}return e}),yv=ue(function(e){return e.push(n,xf),vt(ac,n,e)});function wv(e,t){return vu(e,q(t,3),tn)}function bv(e,t){return vu(e,q(t,3),Sa)}function xv(e,t){return e==null?e:Ca(e,q(t,3),ht)}function Tv(e,t){return e==null?e:Wu(e,q(t,3),ht)}function Av(e,t){return e&&tn(e,q(t,3))}function Ev(e,t){return e&&Sa(e,q(t,3))}function Ov(e){return e==null?[]:as(e,Ze(e))}function Rv(e){return e==null?[]:as(e,ht(e))}function oo(e,t,i){var a=e==null?n:Kn(e,t);return a===n?i:a}function Cv(e,t){return e!=null&&Ef(e,t,Jh)}function uo(e,t){return e!=null&&Ef(e,t,Xh)}var Sv=vf(function(e,t,i){t!=null&&typeof t.toString!="function"&&(t=qi.call(t)),e[t]=i},co(pt)),Iv=vf(function(e,t,i){t!=null&&typeof t.toString!="function"&&(t=qi.call(t)),ye.call(e,t)?e[t].push(i):e[t]=[i]},q),Pv=ue(li);function Ze(e){return dt(e)?Lu(e):Ma(e)}function ht(e){return dt(e)?Lu(e,!0):up(e)}function kv(e,t){var i={};return t=q(t,3),tn(e,function(a,c,d){hn(i,t(a,c,d),a)}),i}function Mv(e,t){var i={};return t=q(t,3),tn(e,function(a,c,d){hn(i,c,t(a,c,d))}),i}var Lv=Lr(function(e,t,i){os(e,t,i)}),ac=Lr(function(e,t,i,a){os(e,t,i,a)}),Nv=gn(function(e,t){var i={};if(e==null)return i;var a=!1;t=Oe(t,function(d){return d=Un(d,e),a||(a=d.length>1),d}),nn(e,qa(e),i),a&&(i=Lt(i,v|O|R,Sp));for(var c=t.length;c--;)Fa(i,t[c]);return i});function Uv(e,t){return oc(e,xs(q(t)))}var Bv=gn(function(e,t){return e==null?{}:cp(e,t)});function oc(e,t){if(e==null)return{};var i=Oe(qa(e),function(a){return[a]});return t=q(t),Ju(e,i,function(a,c){return t(a,c[0])})}function Dv(e,t,i){t=Un(t,e);var a=-1,c=t.length;for(c||(c=1,e=n);++a<c;){var d=e==null?n:e[rn(t[a])];d===n&&(a=c,d=i),e=vn(d)?d.call(e):d}return e}function Fv(e,t,i){return e==null?e:hi(e,t,i)}function $v(e,t,i,a){return a=typeof a=="function"?a:n,e==null?e:hi(e,t,i,a)}var uc=wf(Ze),fc=wf(ht);function Wv(e,t,i){var a=te(e),c=a||Dn(e)||Br(e);if(t=q(t,4),i==null){var d=e&&e.constructor;c?i=a?new d:[]:Ce(e)?i=vn(d)?Mr(Ki(e)):{}:i={}}return(c?Pt:tn)(e,function(m,_,x){return t(i,m,_,x)}),i}function jv(e,t){return e==null?!0:Fa(e,t)}function Gv(e,t,i){return e==null?e:nf(e,t,ja(i))}function Zv(e,t,i,a){return a=typeof a=="function"?a:n,e==null?e:nf(e,t,ja(i),a)}function Dr(e){return e==null?[]:wa(e,Ze(e))}function zv(e){return e==null?[]:wa(e,ht(e))}function Hv(e,t,i){return i===n&&(i=t,t=n),i!==n&&(i=Bt(i),i=i===i?i:0),t!==n&&(t=Bt(t),t=t===t?t:0),Vn(Bt(e),t,i)}function qv(e,t,i){return t=_n(t),i===n?(i=t,t=0):i=_n(i),e=Bt(e),Qh(e,t,i)}function Yv(e,t,i){if(i&&typeof i!="boolean"&&tt(e,t,i)&&(t=i=n),i===n&&(typeof t=="boolean"?(i=t,t=n):typeof e=="boolean"&&(i=e,e=n)),e===n&&t===n?(e=0,t=1):(e=_n(e),t===n?(t=e,e=0):t=_n(t)),e>t){var a=e;e=t,t=a}if(i||e%1||t%1){var c=ku();return Ve(e+c*(t-e+Od("1e-"+((c+"").length-1))),t)}return Ua(e,t)}var Vv=Nr(function(e,t,i){return t=t.toLowerCase(),e+(i?cc(t):t)});function cc(e){return fo(me(e).toLowerCase())}function lc(e){return e=me(e),e&&e.replace(Jl,Fd).replace(md,"")}function Kv(e,t,i){e=me(e),t=yt(t);var a=e.length;i=i===n?a:Vn(se(i),0,a);var c=i;return i-=t.length,i>=0&&e.slice(i,c)==t}function Jv(e){return e=me(e),e&&p.test(e)?e.replace(Zn,$d):e}function Xv(e){return e=me(e),e&&ct.test(e)?e.replace(De,"\\$&"):e}var Qv=Nr(function(e,t,i){return e+(i?"-":"")+t.toLowerCase()}),e_=Nr(function(e,t,i){return e+(i?" ":"")+t.toLowerCase()}),t_=pf("toLowerCase");function n_(e,t,i){e=me(e),t=se(t);var a=t?Sr(e):0;if(!t||a>=t)return e;var c=(t-a)/2;return hs(es(c),i)+e+hs(Qi(c),i)}function r_(e,t,i){e=me(e),t=se(t);var a=t?Sr(e):0;return t&&a<t?e+hs(t-a,i):e}function i_(e,t,i){e=me(e),t=se(t);var a=t?Sr(e):0;return t&&a<t?hs(t-a,i)+e:e}function s_(e,t,i){return i||t==null?t=0:t&&(t=+t),dh(me(e).replace(je,""),t||0)}function a_(e,t,i){return(i?tt(e,t,i):t===n)?t=1:t=se(t),Ba(me(e),t)}function o_(){var e=arguments,t=me(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var u_=Nr(function(e,t,i){return e+(i?"_":"")+t.toLowerCase()});function f_(e,t,i){return i&&typeof i!="number"&&tt(e,t,i)&&(t=i=n),i=i===n?Te:i>>>0,i?(e=me(e),e&&(typeof t=="string"||t!=null&&!ao(t))&&(t=yt(t),!t&&Cr(e))?Bn(Zt(e),0,i):e.split(t,i)):[]}var c_=Nr(function(e,t,i){return e+(i?" ":"")+fo(t)});function l_(e,t,i){return e=me(e),i=i==null?0:Vn(se(i),0,e.length),t=yt(t),e.slice(i,i+t.length)==t}function d_(e,t,i){var a=l.templateSettings;i&&tt(e,t,i)&&(t=n),e=me(e),t=Es({},t,a,bf);var c=Es({},t.imports,a.imports,bf),d=Ze(c),m=wa(c,d),_,x,P=0,k=t.interpolate||Di,M="__p += '",U=xa((t.escape||Di).source+"|"+k.source+"|"+(k===I?Bi:Di).source+"|"+(t.evaluate||Di).source+"|$","g"),G="//# sourceURL="+(ye.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++bd+"]")+`
`;e.replace(U,function(K,fe,de,bt,nt,xt){return de||(de=bt),M+=e.slice(P,xt).replace(Xl,Wd),fe&&(_=!0,M+=`' +
__e(`+fe+`) +
'`),nt&&(x=!0,M+=`';
`+nt+`;
__p += '`),de&&(M+=`' +
((__t = (`+de+`)) == null ? '' : __t) +
'`),P=xt+K.length,K}),M+=`';
`;var V=ye.call(t,"variable")&&t.variable;if(!V)M=`with (obj) {
`+M+`
}
`;else if(Ee.test(V))throw new Q(f);M=(x?M.replace(Ii,""):M).replace(Pi,"$1").replace(ki,"$1;"),M="function("+(V||"obj")+`) {
`+(V?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(_?", __e = _.escape":"")+(x?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+M+`return __p
}`;var oe=hc(function(){return ge(d,G+"return "+M).apply(n,m)});if(oe.source=M,so(oe))throw oe;return oe}function h_(e){return me(e).toLowerCase()}function p_(e){return me(e).toUpperCase()}function g_(e,t,i){if(e=me(e),e&&(i||t===n))return bu(e);if(!e||!(t=yt(t)))return e;var a=Zt(e),c=Zt(t),d=xu(a,c),m=Tu(a,c)+1;return Bn(a,d,m).join("")}function m_(e,t,i){if(e=me(e),e&&(i||t===n))return e.slice(0,Eu(e)+1);if(!e||!(t=yt(t)))return e;var a=Zt(e),c=Tu(a,Zt(t))+1;return Bn(a,0,c).join("")}function v_(e,t,i){if(e=me(e),e&&(i||t===n))return e.replace(je,"");if(!e||!(t=yt(t)))return e;var a=Zt(e),c=xu(a,Zt(t));return Bn(a,c).join("")}function __(e,t){var i=ke,a=H;if(Ce(t)){var c="separator"in t?t.separator:c;i="length"in t?se(t.length):i,a="omission"in t?yt(t.omission):a}e=me(e);var d=e.length;if(Cr(e)){var m=Zt(e);d=m.length}if(i>=d)return e;var _=i-Sr(a);if(_<1)return a;var x=m?Bn(m,0,_).join(""):e.slice(0,_);if(c===n)return x+a;if(m&&(_+=x.length-_),ao(c)){if(e.slice(_).search(c)){var P,k=x;for(c.global||(c=xa(c.source,me(Go.exec(c))+"g")),c.lastIndex=0;P=c.exec(k);)var M=P.index;x=x.slice(0,M===n?_:M)}}else if(e.indexOf(yt(c),_)!=_){var U=x.lastIndexOf(c);U>-1&&(x=x.slice(0,U))}return x+a}function y_(e){return e=me(e),e&&Li.test(e)?e.replace(Mi,Yd):e}var w_=Nr(function(e,t,i){return e+(i?" ":"")+t.toUpperCase()}),fo=pf("toUpperCase");function dc(e,t,i){return e=me(e),t=i?n:t,t===n?Gd(e)?Jd(e):Ld(e):e.match(t)||[]}var hc=ue(function(e,t){try{return vt(e,n,t)}catch(i){return so(i)?i:new Q(i)}}),b_=gn(function(e,t){return Pt(t,function(i){i=rn(i),hn(e,i,ro(e[i],e))}),e});function x_(e){var t=e==null?0:e.length,i=q();return e=t?Oe(e,function(a){if(typeof a[1]!="function")throw new kt(o);return[i(a[0]),a[1]]}):[],ue(function(a){for(var c=-1;++c<t;){var d=e[c];if(vt(d[0],this,a))return vt(d[1],this,a)}})}function T_(e){return Yh(Lt(e,v))}function co(e){return function(){return e}}function A_(e,t){return e==null||e!==e?t:e}var E_=mf(),O_=mf(!0);function pt(e){return e}function lo(e){return zu(typeof e=="function"?e:Lt(e,v))}function R_(e){return qu(Lt(e,v))}function C_(e,t){return Yu(e,Lt(t,v))}var S_=ue(function(e,t){return function(i){return li(i,e,t)}}),I_=ue(function(e,t){return function(i){return li(e,i,t)}});function ho(e,t,i){var a=Ze(t),c=as(t,a);i==null&&!(Ce(t)&&(c.length||!a.length))&&(i=t,t=e,e=this,c=as(t,Ze(t)));var d=!(Ce(i)&&"chain"in i)||!!i.chain,m=vn(e);return Pt(c,function(_){var x=t[_];e[_]=x,m&&(e.prototype[_]=function(){var P=this.__chain__;if(d||P){var k=e(this.__wrapped__),M=k.__actions__=lt(this.__actions__);return M.push({func:x,args:arguments,thisArg:e}),k.__chain__=P,k}return x.apply(e,In([this.value()],arguments))})}),e}function P_(){return Ge._===this&&(Ge._=rh),this}function po(){}function k_(e){return e=se(e),ue(function(t){return Vu(t,e)})}var M_=Za(Oe),L_=Za(mu),N_=Za(ga);function pc(e){return Ja(e)?ma(rn(e)):lp(e)}function U_(e){return function(t){return e==null?n:Kn(e,t)}}var B_=_f(),D_=_f(!0);function go(){return[]}function mo(){return!1}function F_(){return{}}function $_(){return""}function W_(){return!0}function j_(e,t){if(e=se(e),e<1||e>qe)return[];var i=Te,a=Ve(e,Te);t=q(t),e-=Te;for(var c=ya(a,t);++i<e;)t(i);return c}function G_(e){return te(e)?Oe(e,rn):wt(e)?[e]:lt(Lf(me(e)))}function Z_(e){var t=++th;return me(e)+t}var z_=ds(function(e,t){return e+t},0),H_=za("ceil"),q_=ds(function(e,t){return e/t},1),Y_=za("floor");function V_(e){return e&&e.length?ss(e,pt,Ia):n}function K_(e,t){return e&&e.length?ss(e,q(t,2),Ia):n}function J_(e){return yu(e,pt)}function X_(e,t){return yu(e,q(t,2))}function Q_(e){return e&&e.length?ss(e,pt,La):n}function ey(e,t){return e&&e.length?ss(e,q(t,2),La):n}var ty=ds(function(e,t){return e*t},1),ny=za("round"),ry=ds(function(e,t){return e-t},0);function iy(e){return e&&e.length?_a(e,pt):0}function sy(e,t){return e&&e.length?_a(e,q(t,2)):0}return l.after=Rm,l.ary=zf,l.assign=pv,l.assignIn=sc,l.assignInWith=Es,l.assignWith=gv,l.at=mv,l.before=Hf,l.bind=ro,l.bindAll=b_,l.bindKey=qf,l.castArray=Fm,l.chain=jf,l.chunk=Yp,l.compact=Vp,l.concat=Kp,l.cond=x_,l.conforms=T_,l.constant=co,l.countBy=im,l.create=vv,l.curry=Yf,l.curryRight=Vf,l.debounce=Kf,l.defaults=_v,l.defaultsDeep=yv,l.defer=Cm,l.delay=Sm,l.difference=Jp,l.differenceBy=Xp,l.differenceWith=Qp,l.drop=eg,l.dropRight=tg,l.dropRightWhile=ng,l.dropWhile=rg,l.fill=ig,l.filter=am,l.flatMap=fm,l.flatMapDeep=cm,l.flatMapDepth=lm,l.flatten=Df,l.flattenDeep=sg,l.flattenDepth=ag,l.flip=Im,l.flow=E_,l.flowRight=O_,l.fromPairs=og,l.functions=Ov,l.functionsIn=Rv,l.groupBy=dm,l.initial=fg,l.intersection=cg,l.intersectionBy=lg,l.intersectionWith=dg,l.invert=Sv,l.invertBy=Iv,l.invokeMap=pm,l.iteratee=lo,l.keyBy=gm,l.keys=Ze,l.keysIn=ht,l.map=ys,l.mapKeys=kv,l.mapValues=Mv,l.matches=R_,l.matchesProperty=C_,l.memoize=bs,l.merge=Lv,l.mergeWith=ac,l.method=S_,l.methodOf=I_,l.mixin=ho,l.negate=xs,l.nthArg=k_,l.omit=Nv,l.omitBy=Uv,l.once=Pm,l.orderBy=mm,l.over=M_,l.overArgs=km,l.overEvery=L_,l.overSome=N_,l.partial=io,l.partialRight=Jf,l.partition=vm,l.pick=Bv,l.pickBy=oc,l.property=pc,l.propertyOf=U_,l.pull=mg,l.pullAll=$f,l.pullAllBy=vg,l.pullAllWith=_g,l.pullAt=yg,l.range=B_,l.rangeRight=D_,l.rearg=Mm,l.reject=wm,l.remove=wg,l.rest=Lm,l.reverse=to,l.sampleSize=xm,l.set=Fv,l.setWith=$v,l.shuffle=Tm,l.slice=bg,l.sortBy=Om,l.sortedUniq=Cg,l.sortedUniqBy=Sg,l.split=f_,l.spread=Nm,l.tail=Ig,l.take=Pg,l.takeRight=kg,l.takeRightWhile=Mg,l.takeWhile=Lg,l.tap=Vg,l.throttle=Um,l.thru=_s,l.toArray=nc,l.toPairs=uc,l.toPairsIn=fc,l.toPath=G_,l.toPlainObject=ic,l.transform=Wv,l.unary=Bm,l.union=Ng,l.unionBy=Ug,l.unionWith=Bg,l.uniq=Dg,l.uniqBy=Fg,l.uniqWith=$g,l.unset=jv,l.unzip=no,l.unzipWith=Wf,l.update=Gv,l.updateWith=Zv,l.values=Dr,l.valuesIn=zv,l.without=Wg,l.words=dc,l.wrap=Dm,l.xor=jg,l.xorBy=Gg,l.xorWith=Zg,l.zip=zg,l.zipObject=Hg,l.zipObjectDeep=qg,l.zipWith=Yg,l.entries=uc,l.entriesIn=fc,l.extend=sc,l.extendWith=Es,ho(l,l),l.add=z_,l.attempt=hc,l.camelCase=Vv,l.capitalize=cc,l.ceil=H_,l.clamp=Hv,l.clone=$m,l.cloneDeep=jm,l.cloneDeepWith=Gm,l.cloneWith=Wm,l.conformsTo=Zm,l.deburr=lc,l.defaultTo=A_,l.divide=q_,l.endsWith=Kv,l.eq=Ht,l.escape=Jv,l.escapeRegExp=Xv,l.every=sm,l.find=om,l.findIndex=Uf,l.findKey=wv,l.findLast=um,l.findLastIndex=Bf,l.findLastKey=bv,l.floor=Y_,l.forEach=Gf,l.forEachRight=Zf,l.forIn=xv,l.forInRight=Tv,l.forOwn=Av,l.forOwnRight=Ev,l.get=oo,l.gt=zm,l.gte=Hm,l.has=Cv,l.hasIn=uo,l.head=Ff,l.identity=pt,l.includes=hm,l.indexOf=ug,l.inRange=qv,l.invoke=Pv,l.isArguments=Qn,l.isArray=te,l.isArrayBuffer=qm,l.isArrayLike=dt,l.isArrayLikeObject=Le,l.isBoolean=Ym,l.isBuffer=Dn,l.isDate=Vm,l.isElement=Km,l.isEmpty=Jm,l.isEqual=Xm,l.isEqualWith=Qm,l.isError=so,l.isFinite=ev,l.isFunction=vn,l.isInteger=Xf,l.isLength=Ts,l.isMap=Qf,l.isMatch=tv,l.isMatchWith=nv,l.isNaN=rv,l.isNative=iv,l.isNil=av,l.isNull=sv,l.isNumber=ec,l.isObject=Ce,l.isObjectLike=Pe,l.isPlainObject=vi,l.isRegExp=ao,l.isSafeInteger=ov,l.isSet=tc,l.isString=As,l.isSymbol=wt,l.isTypedArray=Br,l.isUndefined=uv,l.isWeakMap=fv,l.isWeakSet=cv,l.join=hg,l.kebabCase=Qv,l.last=Ut,l.lastIndexOf=pg,l.lowerCase=e_,l.lowerFirst=t_,l.lt=lv,l.lte=dv,l.max=V_,l.maxBy=K_,l.mean=J_,l.meanBy=X_,l.min=Q_,l.minBy=ey,l.stubArray=go,l.stubFalse=mo,l.stubObject=F_,l.stubString=$_,l.stubTrue=W_,l.multiply=ty,l.nth=gg,l.noConflict=P_,l.noop=po,l.now=ws,l.pad=n_,l.padEnd=r_,l.padStart=i_,l.parseInt=s_,l.random=Yv,l.reduce=_m,l.reduceRight=ym,l.repeat=a_,l.replace=o_,l.result=Dv,l.round=ny,l.runInContext=w,l.sample=bm,l.size=Am,l.snakeCase=u_,l.some=Em,l.sortedIndex=xg,l.sortedIndexBy=Tg,l.sortedIndexOf=Ag,l.sortedLastIndex=Eg,l.sortedLastIndexBy=Og,l.sortedLastIndexOf=Rg,l.startCase=c_,l.startsWith=l_,l.subtract=ry,l.sum=iy,l.sumBy=sy,l.template=d_,l.times=j_,l.toFinite=_n,l.toInteger=se,l.toLength=rc,l.toLower=h_,l.toNumber=Bt,l.toSafeInteger=hv,l.toString=me,l.toUpper=p_,l.trim=g_,l.trimEnd=m_,l.trimStart=v_,l.truncate=__,l.unescape=y_,l.uniqueId=Z_,l.upperCase=w_,l.upperFirst=fo,l.each=Gf,l.eachRight=Zf,l.first=Ff,ho(l,function(){var e={};return tn(l,function(t,i){ye.call(l.prototype,i)||(e[i]=t)}),e}(),{chain:!1}),l.VERSION=r,Pt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){l[e].placeholder=l}),Pt(["drop","take"],function(e,t){ce.prototype[e]=function(i){i=i===n?1:$e(se(i),0);var a=this.__filtered__&&!t?new ce(this):this.clone();return a.__filtered__?a.__takeCount__=Ve(i,a.__takeCount__):a.__views__.push({size:Ve(i,Te),type:e+(a.__dir__<0?"Right":"")}),a},ce.prototype[e+"Right"]=function(i){return this.reverse()[e](i).reverse()}}),Pt(["filter","map","takeWhile"],function(e,t){var i=t+1,a=i==An||i==he;ce.prototype[e]=function(c){var d=this.clone();return d.__iteratees__.push({iteratee:q(c,3),type:i}),d.__filtered__=d.__filtered__||a,d}}),Pt(["head","last"],function(e,t){var i="take"+(t?"Right":"");ce.prototype[e]=function(){return this[i](1).value()[0]}}),Pt(["initial","tail"],function(e,t){var i="drop"+(t?"":"Right");ce.prototype[e]=function(){return this.__filtered__?new ce(this):this[i](1)}}),ce.prototype.compact=function(){return this.filter(pt)},ce.prototype.find=function(e){return this.filter(e).head()},ce.prototype.findLast=function(e){return this.reverse().find(e)},ce.prototype.invokeMap=ue(function(e,t){return typeof e=="function"?new ce(this):this.map(function(i){return li(i,e,t)})}),ce.prototype.reject=function(e){return this.filter(xs(q(e)))},ce.prototype.slice=function(e,t){e=se(e);var i=this;return i.__filtered__&&(e>0||t<0)?new ce(i):(e<0?i=i.takeRight(-e):e&&(i=i.drop(e)),t!==n&&(t=se(t),i=t<0?i.dropRight(-t):i.take(t-e)),i)},ce.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},ce.prototype.toArray=function(){return this.take(Te)},tn(ce.prototype,function(e,t){var i=/^(?:filter|find|map|reject)|While$/.test(t),a=/^(?:head|last)$/.test(t),c=l[a?"take"+(t=="last"?"Right":""):t],d=a||/^find/.test(t);c&&(l.prototype[t]=function(){var m=this.__wrapped__,_=a?[1]:arguments,x=m instanceof ce,P=_[0],k=x||te(m),M=function(fe){var de=c.apply(l,In([fe],_));return a&&U?de[0]:de};k&&i&&typeof P=="function"&&P.length!=1&&(x=k=!1);var U=this.__chain__,G=!!this.__actions__.length,V=d&&!U,oe=x&&!G;if(!d&&k){m=oe?m:new ce(this);var K=e.apply(m,_);return K.__actions__.push({func:_s,args:[M],thisArg:n}),new Mt(K,U)}return V&&oe?e.apply(this,_):(K=this.thru(M),V?a?K.value()[0]:K.value():K)})}),Pt(["pop","push","shift","sort","splice","unshift"],function(e){var t=Zi[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",a=/^(?:pop|shift)$/.test(e);l.prototype[e]=function(){var c=arguments;if(a&&!this.__chain__){var d=this.value();return t.apply(te(d)?d:[],c)}return this[i](function(m){return t.apply(te(m)?m:[],c)})}}),tn(ce.prototype,function(e,t){var i=l[t];if(i){var a=i.name+"";ye.call(kr,a)||(kr[a]=[]),kr[a].push({name:t,func:i})}}),kr[ls(n,Z).name]=[{name:"wrapper",func:n}],ce.prototype.clone=yh,ce.prototype.reverse=wh,ce.prototype.value=bh,l.prototype.at=Kg,l.prototype.chain=Jg,l.prototype.commit=Xg,l.prototype.next=Qg,l.prototype.plant=tm,l.prototype.reverse=nm,l.prototype.toJSON=l.prototype.valueOf=l.prototype.value=rm,l.prototype.first=l.prototype.head,ii&&(l.prototype[ii]=em),l},kn=Xd();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Ge._=kn,define(function(){return kn})):zn?((zn.exports=kn)._=kn,la._=kn):Ge._=kn}).call(Fr)});var yc=Se((bw,_c)=>{"use strict";function dy(n){for(var r=new Array(n),s=0;s<n;++s)r[s]=s;return r}_c.exports=dy});var xc=Se((xw,bc)=>{bc.exports=function(n){return n!=null&&(wc(n)||hy(n)||!!n._isBuffer)};function wc(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function hy(n){return typeof n.readFloatLE=="function"&&typeof n.slice=="function"&&wc(n.slice(0,0))}});var $r=Se((Tw,Tc)=>{var py=yc(),gy=xc(),my=typeof Float64Array<"u";function vy(n,r){return n[0]-r[0]}function _y(){var n=this.stride,r=new Array(n.length),s;for(s=0;s<r.length;++s)r[s]=[Math.abs(n[s]),s];r.sort(vy);var u=new Array(r.length);for(s=0;s<u.length;++s)u[s]=r[s][1];return u}function yy(n,r){var s=["View",r,"d",n].join("");r<0&&(s="View_Nil"+n);var u=n==="generic";if(r===-1){var o="function "+s+"(a){this.data=a;};var proto="+s+".prototype;proto.dtype='"+n+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+s+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+s+"(a){return new "+s+"(a);}",Z=new Function(o);return Z()}else if(r===0){var o="function "+s+"(a,d) {this.data = a;this.offset = d};var proto="+s+".prototype;proto.dtype='"+n+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+s+"_copy() {return new "+s+"(this.data,this.offset)};proto.pick=function "+s+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+s+"_get(){return "+(u?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+s+"_set(v){return "+(u?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+s+"(a,b,c,d){return new "+s+"(a,d)}",Z=new Function("TrivialArray",o);return Z(Os[n][0])}var o=["'use strict'"],f=py(r),h=f.map(function(B){return"i"+B}),g="this.offset+"+f.map(function(B){return"this.stride["+B+"]*i"+B}).join("+"),b=f.map(function(B){return"b"+B}).join(","),v=f.map(function(B){return"c"+B}).join(",");o.push("function "+s+"(a,"+b+","+v+",d){this.data=a","this.shape=["+b+"]","this.stride=["+v+"]","this.offset=d|0}","var proto="+s+".prototype","proto.dtype='"+n+"'","proto.dimension="+r),o.push("Object.defineProperty(proto,'size',{get:function "+s+"_size(){return "+f.map(function(B){return"this.shape["+B+"]"}).join("*"),"}})"),r===1?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),r<4?(o.push("function "+s+"_order(){"),r===2?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):r===3&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):o.push("ORDER})")),o.push("proto.set=function "+s+"_set("+h.join(",")+",v){"),u?o.push("return this.data.set("+g+",v)}"):o.push("return this.data["+g+"]=v}"),o.push("proto.get=function "+s+"_get("+h.join(",")+"){"),u?o.push("return this.data.get("+g+")}"):o.push("return this.data["+g+"]}"),o.push("proto.index=function "+s+"_index(",h.join(),"){return "+g+"}"),o.push("proto.hi=function "+s+"_hi("+h.join(",")+"){return new "+s+"(this.data,"+f.map(function(B){return["(typeof i",B,"!=='number'||i",B,"<0)?this.shape[",B,"]:i",B,"|0"].join("")}).join(",")+","+f.map(function(B){return"this.stride["+B+"]"}).join(",")+",this.offset)}");var O=f.map(function(B){return"a"+B+"=this.shape["+B+"]"}),R=f.map(function(B){return"c"+B+"=this.stride["+B+"]"});o.push("proto.lo=function "+s+"_lo("+h.join(",")+"){var b=this.offset,d=0,"+O.join(",")+","+R.join(","));for(var A=0;A<r;++A)o.push("if(typeof i"+A+"==='number'&&i"+A+">=0){d=i"+A+"|0;b+=c"+A+"*d;a"+A+"-=d}");o.push("return new "+s+"(this.data,"+f.map(function(B){return"a"+B}).join(",")+","+f.map(function(B){return"c"+B}).join(",")+",b)}"),o.push("proto.step=function "+s+"_step("+h.join(",")+"){var "+f.map(function(B){return"a"+B+"=this.shape["+B+"]"}).join(",")+","+f.map(function(B){return"b"+B+"=this.stride["+B+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var A=0;A<r;++A)o.push("if(typeof i"+A+"==='number'){d=i"+A+"|0;if(d<0){c+=b"+A+"*(a"+A+"-1);a"+A+"=ceil(-a"+A+"/d)}else{a"+A+"=ceil(a"+A+"/d)}b"+A+"*=d}");o.push("return new "+s+"(this.data,"+f.map(function(B){return"a"+B}).join(",")+","+f.map(function(B){return"b"+B}).join(",")+",c)}");for(var L=new Array(r),$=new Array(r),A=0;A<r;++A)L[A]="a[i"+A+"]",$[A]="b[i"+A+"]";o.push("proto.transpose=function "+s+"_transpose("+h+"){"+h.map(function(B,ne){return B+"=("+B+"===undefined?"+ne+":"+B+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+s+"(this.data,"+L.join(",")+","+$.join(",")+",this.offset)}"),o.push("proto.pick=function "+s+"_pick("+h+"){var a=[],b=[],c=this.offset");for(var A=0;A<r;++A)o.push("if(typeof i"+A+"==='number'&&i"+A+">=0){c=(c+this.stride["+A+"]*i"+A+")|0}else{a.push(this.shape["+A+"]);b.push(this.stride["+A+"])}");o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+s+"(data,shape,stride,offset){return new "+s+"(data,"+f.map(function(B){return"shape["+B+"]"}).join(",")+","+f.map(function(B){return"stride["+B+"]"}).join(",")+",offset)}");var Z=new Function("CTOR_LIST","ORDER",o.join(`
`));return Z(Os[n],_y)}function wy(n){if(gy(n))return"buffer";if(my)switch(Object.prototype.toString.call(n)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(n)?"array":"generic"}var Os={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function by(n,r,s,u){if(n===void 0){var v=Os.array[0];return v([])}else typeof n=="number"&&(n=[n]);r===void 0&&(r=[n.length]);var o=r.length;if(s===void 0){s=new Array(o);for(var f=o-1,h=1;f>=0;--f)s[f]=h,h*=r[f]}if(u===void 0){u=0;for(var f=0;f<o;++f)s[f]<0&&(u-=(r[f]-1)*s[f])}for(var g=wy(n),b=Os[g];b.length<=o+1;)b.push(yy(g,b.length-1));var v=b[o+1];return v(n,r,s,u)}Tc.exports=by});var Cs=Se(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});Wr.resolveBackend=Wr.registerBackend=void 0;var Rs=new Map,tr=[],xy=(n,r,s)=>{if(r&&typeof r.init=="function"&&typeof r.createInferenceSessionHandler=="function"){let u=Rs.get(n);if(u===void 0)Rs.set(n,{backend:r,priority:s});else{if(u.priority>s)return;if(u.priority===s&&u.backend!==r)throw new Error(`cannot register backend "${n}" using priority ${s}`)}if(s>=0){let o=tr.indexOf(n);o!==-1&&tr.splice(o,1);for(let f=0;f<tr.length;f++)if(Rs.get(tr[f]).priority<=s){tr.splice(f,0,n);return}tr.push(n)}return}throw new TypeError("not a valid backend")};Wr.registerBackend=xy;var Ty=async n=>{let r=n.length===0?tr:n,s=[];for(let u of r){let o=Rs.get(u);if(o){if(o.initialized)return o.backend;if(o.aborted)continue;let f=!!o.initPromise;try{return f||(o.initPromise=o.backend.init(u)),await o.initPromise,o.initialized=!0,o.backend}catch(h){f||s.push({name:u,err:h}),o.aborted=!0}finally{delete o.initPromise}}}throw new Error(`no available backend found. ERR: ${s.map(u=>`[${u.name}] ${u.err}`).join(", ")}`)};Wr.resolveBackend=Ty});var Ac=Se(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});Ss.registerBackend=void 0;var Ay=Cs();Object.defineProperty(Ss,"registerBackend",{enumerable:!0,get:function(){return Ay.registerBackend}})});var Ec=Se(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});Is.version=void 0;Is.version="1.17.0"});var vo=Se(yi=>{"use strict";Object.defineProperty(yi,"__esModule",{value:!0});yi.env=void 0;var Ey=Ec(),Oc="warning";yi.env={wasm:{},webgl:{},webgpu:{},versions:{common:Ey.version},set logLevel(n){if(n!==void 0){if(typeof n!="string"||["verbose","info","warning","error","fatal"].indexOf(n)===-1)throw new Error(`Unsupported logging level: ${n}`);Oc=n}},get logLevel(){return Oc}};Object.defineProperty(yi.env,"logLevel",{enumerable:!0})});var Rc=Se(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});Ps.env=void 0;var Oy=vo();Ps.env=Oy.env});var Cc=Se(jr=>{"use strict";Object.defineProperty(jr,"__esModule",{value:!0});jr.tensorToImageData=jr.tensorToDataURL=void 0;var Ry=(n,r)=>{let s=typeof document<"u"?document.createElement("canvas"):new OffscreenCanvas(1,1);s.width=n.dims[3],s.height=n.dims[2];let u=s.getContext("2d");if(u!=null){let o,f;r?.tensorLayout!==void 0&&r.tensorLayout==="NHWC"?(o=n.dims[2],f=n.dims[3]):(o=n.dims[3],f=n.dims[2]);let h=r?.format!==void 0?r.format:"RGB",g=r?.norm,b,v;g===void 0||g.mean===void 0?b=[255,255,255,255]:typeof g.mean=="number"?b=[g.mean,g.mean,g.mean,g.mean]:(b=[g.mean[0],g.mean[1],g.mean[2],0],g.mean[3]!==void 0&&(b[3]=g.mean[3])),g===void 0||g.bias===void 0?v=[0,0,0,0]:typeof g.bias=="number"?v=[g.bias,g.bias,g.bias,g.bias]:(v=[g.bias[0],g.bias[1],g.bias[2],0],g.bias[3]!==void 0&&(v[3]=g.bias[3]));let O=f*o,R=0,A=O,L=O*2,$=-1;h==="RGBA"?(R=0,A=O,L=O*2,$=O*3):h==="RGB"?(R=0,A=O,L=O*2):h==="RBG"&&(R=0,L=O,A=O*2);for(let Z=0;Z<f;Z++)for(let B=0;B<o;B++){let ne=(n.data[R++]-v[0])*b[0],ae=(n.data[A++]-v[1])*b[1],ve=(n.data[L++]-v[2])*b[2],xe=$===-1?255:(n.data[$++]-v[3])*b[3];u.fillStyle="rgba("+ne+","+ae+","+ve+","+xe+")",u.fillRect(B,Z,1,1)}if("toDataURL"in s)return s.toDataURL();throw new Error("toDataURL is not supported")}else throw new Error("Can not access image data")};jr.tensorToDataURL=Ry;var Cy=(n,r)=>{let s=typeof document<"u"?document.createElement("canvas").getContext("2d"):new OffscreenCanvas(1,1).getContext("2d"),u;if(s!=null){let o,f,h;r?.tensorLayout!==void 0&&r.tensorLayout==="NHWC"?(o=n.dims[2],f=n.dims[1],h=n.dims[3]):(o=n.dims[3],f=n.dims[2],h=n.dims[1]);let g=r!==void 0&&r.format!==void 0?r.format:"RGB",b=r?.norm,v,O;b===void 0||b.mean===void 0?v=[255,255,255,255]:typeof b.mean=="number"?v=[b.mean,b.mean,b.mean,b.mean]:(v=[b.mean[0],b.mean[1],b.mean[2],255],b.mean[3]!==void 0&&(v[3]=b.mean[3])),b===void 0||b.bias===void 0?O=[0,0,0,0]:typeof b.bias=="number"?O=[b.bias,b.bias,b.bias,b.bias]:(O=[b.bias[0],b.bias[1],b.bias[2],0],b.bias[3]!==void 0&&(O[3]=b.bias[3]));let R=f*o;if(r!==void 0&&(r.format!==void 0&&h===4&&r.format!=="RGBA"||h===3&&r.format!=="RGB"&&r.format!=="BGR"))throw new Error("Tensor format doesn't match input tensor dims");let A=4,L=0,$=1,Z=2,B=3,ne=0,ae=R,ve=R*2,xe=-1;g==="RGBA"?(ne=0,ae=R,ve=R*2,xe=R*3):g==="RGB"?(ne=0,ae=R,ve=R*2):g==="RBG"&&(ne=0,ve=R,ae=R*2),u=s.createImageData(o,f);for(let Re=0;Re<f*o;L+=A,$+=A,Z+=A,B+=A,Re++)u.data[L]=(n.data[ne++]-O[0])*v[0],u.data[$]=(n.data[ae++]-O[1])*v[1],u.data[Z]=(n.data[ve++]-O[2])*v[2],u.data[B]=xe===-1?255:(n.data[xe++]-O[3])*v[3]}else throw new Error("Can not access image data");return u};jr.tensorToImageData=Cy});var Sc=Se(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});rt.tensorFromPinnedBuffer=rt.tensorFromGpuBuffer=rt.tensorFromTexture=rt.tensorFromImage=rt.bufferToTensor=void 0;var wi=ks(),Sy=(n,r)=>{if(n===void 0)throw new Error("Image buffer must be defined");if(r.height===void 0||r.width===void 0)throw new Error("Image height and width must be defined");if(r.tensorLayout==="NHWC")throw new Error("NHWC Tensor layout is not supported yet");let{height:s,width:u}=r,o=r.norm??{mean:255,bias:0},f,h;typeof o.mean=="number"?f=[o.mean,o.mean,o.mean,o.mean]:f=[o.mean[0],o.mean[1],o.mean[2],o.mean[3]??255],typeof o.bias=="number"?h=[o.bias,o.bias,o.bias,o.bias]:h=[o.bias[0],o.bias[1],o.bias[2],o.bias[3]??0];let g=r.format!==void 0?r.format:"RGBA",b=r.tensorFormat!==void 0&&r.tensorFormat!==void 0?r.tensorFormat:"RGB",v=s*u,O=b==="RGBA"?new Float32Array(v*4):new Float32Array(v*3),R=4,A=0,L=1,$=2,Z=3,B=0,ne=v,ae=v*2,ve=-1;g==="RGB"&&(R=3,A=0,L=1,$=2,Z=-1),b==="RGBA"?ve=v*3:b==="RBG"?(B=0,ae=v,ne=v*2):b==="BGR"&&(ae=0,ne=v,B=v*2);for(let Re=0;Re<v;Re++,A+=R,$+=R,L+=R,Z+=R)O[B++]=(n[A]+h[0])/f[0],O[ne++]=(n[L]+h[1])/f[1],O[ae++]=(n[$]+h[2])/f[2],ve!==-1&&Z!==-1&&(O[ve++]=(n[Z]+h[3])/f[3]);return b==="RGBA"?new wi.Tensor("float32",O,[1,4,s,u]):new wi.Tensor("float32",O,[1,3,s,u])};rt.bufferToTensor=Sy;var Iy=async(n,r)=>{let s=typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement,u=typeof ImageData<"u"&&n instanceof ImageData,o=typeof ImageBitmap<"u"&&n instanceof ImageBitmap,f=typeof n=="string",h,g=r??{},b=()=>{if(typeof document<"u")return document.createElement("canvas");if(typeof OffscreenCanvas<"u")return new OffscreenCanvas(1,1);throw new Error("Canvas is not supported")},v=O=>O instanceof HTMLCanvasElement||O instanceof OffscreenCanvas?O.getContext("2d"):null;if(s){let O=b();O.width=n.width,O.height=n.height;let R=v(O);if(R!=null){let A=n.height,L=n.width;if(r!==void 0&&r.resizedHeight!==void 0&&r.resizedWidth!==void 0&&(A=r.resizedHeight,L=r.resizedWidth),r!==void 0){if(g=r,r.tensorFormat!==void 0)throw new Error("Image input config format must be RGBA for HTMLImageElement");g.tensorFormat="RGBA",g.height=A,g.width=L}else g.tensorFormat="RGBA",g.height=A,g.width=L;R.drawImage(n,0,0),h=R.getImageData(0,0,L,A).data}else throw new Error("Can not access image data")}else if(u){let O,R;if(r!==void 0&&r.resizedWidth!==void 0&&r.resizedHeight!==void 0?(O=r.resizedHeight,R=r.resizedWidth):(O=n.height,R=n.width),r!==void 0&&(g=r),g.format="RGBA",g.height=O,g.width=R,r!==void 0){let A=b();A.width=R,A.height=O;let L=v(A);if(L!=null)L.putImageData(n,0,0),h=L.getImageData(0,0,R,O).data;else throw new Error("Can not access image data")}else h=n.data}else if(o){if(r===void 0)throw new Error("Please provide image config with format for Imagebitmap");let O=b();O.width=n.width,O.height=n.height;let R=v(O);if(R!=null){let A=n.height,L=n.width;return R.drawImage(n,0,0,L,A),h=R.getImageData(0,0,L,A).data,g.height=A,g.width=L,(0,rt.bufferToTensor)(h,g)}else throw new Error("Can not access image data")}else{if(f)return new Promise((O,R)=>{let A=b(),L=v(A);if(!n||!L)return R();let $=new Image;$.crossOrigin="Anonymous",$.src=n,$.onload=()=>{A.width=$.width,A.height=$.height,L.drawImage($,0,0,A.width,A.height);let Z=L.getImageData(0,0,A.width,A.height);g.height=A.height,g.width=A.width,O((0,rt.bufferToTensor)(Z.data,g))}});throw new Error("Input data provided is not supported - aborted tensor creation")}if(h!==void 0)return(0,rt.bufferToTensor)(h,g);throw new Error("Input data provided is not supported - aborted tensor creation")};rt.tensorFromImage=Iy;var Py=(n,r)=>{let{width:s,height:u,download:o,dispose:f}=r,h=[1,u,s,4];return new wi.Tensor({location:"texture",type:"float32",texture:n,dims:h,download:o,dispose:f})};rt.tensorFromTexture=Py;var ky=(n,r)=>{let{dataType:s,dims:u,download:o,dispose:f}=r;return new wi.Tensor({location:"gpu-buffer",type:s??"float32",gpuBuffer:n,dims:u,download:o,dispose:f})};rt.tensorFromGpuBuffer=ky;var My=(n,r,s)=>new wi.Tensor({location:"cpu-pinned",type:n,data:r,dims:s??[r.length]});rt.tensorFromPinnedBuffer=My});var Pc=Se(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.checkBigInt=Dt.NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP=Dt.NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP=void 0;Dt.NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["float16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]);Dt.NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);var Ic=!1,Ly=()=>{if(!Ic){Ic=!0;let n=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",r=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function";n&&(Dt.NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.set("int64",BigInt64Array),Dt.NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.set(BigInt64Array,"int64")),r&&(Dt.NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.set("uint64",BigUint64Array),Dt.NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.set(BigUint64Array,"uint64"))}};Dt.checkBigInt=Ly});var kc=Se(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});Gr.tensorReshape=Gr.calculateSize=void 0;var Ms=ks(),Ny=n=>{let r=1;for(let s=0;s<n.length;s++){let u=n[s];if(typeof u!="number"||!Number.isSafeInteger(u))throw new TypeError(`dims[${s}] must be an integer, got: ${u}`);if(u<0)throw new RangeError(`dims[${s}] must be a non-negative integer, got: ${u}`);r*=u}return r};Gr.calculateSize=Ny;var Uy=(n,r)=>{switch(n.location){case"cpu":return new Ms.Tensor(n.type,n.data,r);case"cpu-pinned":return new Ms.Tensor({location:"cpu-pinned",data:n.data,type:n.type,dims:r});case"texture":return new Ms.Tensor({location:"texture",texture:n.texture,type:n.type,dims:r});case"gpu-buffer":return new Ms.Tensor({location:"gpu-buffer",gpuBuffer:n.gpuBuffer,type:n.type,dims:r});default:throw new Error(`tensorReshape: tensor location ${n.location} is not supported`)}};Gr.tensorReshape=Uy});var ks=Se(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.Tensor=void 0;var Mc=Cc(),Ls=Sc(),Ns=Pc(),Lc=kc(),_o=class{constructor(r,s,u){(0,Ns.checkBigInt)();let o,f;if(typeof r=="object"&&"location"in r)switch(this.dataLocation=r.location,o=r.type,f=r.dims,r.location){case"cpu-pinned":{let g=Ns.NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.get(o);if(!g)throw new TypeError(`unsupported type "${o}" to create tensor from pinned buffer`);if(!(r.data instanceof g))throw new TypeError(`buffer should be of type ${g.name}`);this.cpuData=r.data;break}case"texture":{if(o!=="float32")throw new TypeError(`unsupported type "${o}" to create tensor from texture`);this.gpuTextureData=r.texture,this.downloader=r.download,this.disposer=r.dispose;break}case"gpu-buffer":{if(o!=="float32"&&o!=="float16"&&o!=="int32"&&o!=="int64"&&o!=="uint32"&&o!=="bool")throw new TypeError(`unsupported type "${o}" to create tensor from gpu buffer`);this.gpuBufferData=r.gpuBuffer,this.downloader=r.download,this.disposer=r.dispose;break}default:throw new Error(`Tensor constructor: unsupported location '${this.dataLocation}'`)}else{let g,b;if(typeof r=="string")if(o=r,b=u,r==="string"){if(!Array.isArray(s))throw new TypeError("A string tensor's data must be a string array.");g=s}else{let v=Ns.NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.get(r);if(v===void 0)throw new TypeError(`Unsupported tensor type: ${r}.`);if(Array.isArray(s)){if(r==="float16")throw new TypeError("Creating a float16 tensor from number array is not supported. Please use Uint16Array as data.");r==="uint64"||r==="int64"?g=v.from(s,BigInt):g=v.from(s)}else if(s instanceof v)g=s;else throw new TypeError(`A ${o} tensor's data must be type of ${v}`)}else if(b=s,Array.isArray(r)){if(r.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");let v=typeof r[0];if(v==="string")o="string",g=r;else if(v==="boolean")o="bool",g=Uint8Array.from(r);else throw new TypeError(`Invalid element type of data array: ${v}.`)}else{let v=Ns.NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.get(r.constructor);if(v===void 0)throw new TypeError(`Unsupported type for tensor data: ${r.constructor}.`);o=v,g=r}if(b===void 0)b=[g.length];else if(!Array.isArray(b))throw new TypeError("A tensor's dims must be a number array");f=b,this.cpuData=g,this.dataLocation="cpu"}let h=(0,Lc.calculateSize)(f);if(this.cpuData&&h!==this.cpuData.length)throw new Error(`Tensor's size(${h}) does not match data length(${this.cpuData.length}).`);this.type=o,this.dims=f,this.size=h}static async fromImage(r,s){return(0,Ls.tensorFromImage)(r,s)}static fromTexture(r,s){return(0,Ls.tensorFromTexture)(r,s)}static fromGpuBuffer(r,s){return(0,Ls.tensorFromGpuBuffer)(r,s)}static fromPinnedBuffer(r,s,u){return(0,Ls.tensorFromPinnedBuffer)(r,s,u)}toDataURL(r){return(0,Mc.tensorToDataURL)(this,r)}toImageData(r){return(0,Mc.tensorToImageData)(this,r)}get data(){if(this.ensureValid(),!this.cpuData)throw new Error("The data is not on CPU. Use `getData()` to download GPU data to CPU, or use `texture` or `gpuBuffer` property to access the GPU data directly.");return this.cpuData}get location(){return this.dataLocation}get texture(){if(this.ensureValid(),!this.gpuTextureData)throw new Error("The data is not stored as a WebGL texture.");return this.gpuTextureData}get gpuBuffer(){if(this.ensureValid(),!this.gpuBufferData)throw new Error("The data is not stored as a WebGPU buffer.");return this.gpuBufferData}async getData(r){switch(this.ensureValid(),this.dataLocation){case"cpu":case"cpu-pinned":return this.data;case"texture":case"gpu-buffer":{if(!this.downloader)throw new Error("The current tensor is not created with a specified data downloader.");if(this.isDownloading)throw new Error("The current tensor is being downloaded.");try{this.isDownloading=!0;let s=await this.downloader();return this.downloader=void 0,this.dataLocation="cpu",this.cpuData=s,r&&this.disposer&&(this.disposer(),this.disposer=void 0),s}finally{this.isDownloading=!1}}default:throw new Error(`cannot get data from location: ${this.dataLocation}`)}}dispose(){if(this.isDownloading)throw new Error("The current tensor is being downloaded.");this.disposer&&(this.disposer(),this.disposer=void 0),this.cpuData=void 0,this.gpuTextureData=void 0,this.gpuBufferData=void 0,this.downloader=void 0,this.isDownloading=void 0,this.dataLocation="none"}ensureValid(){if(this.dataLocation==="none")throw new Error("The tensor is disposed.")}reshape(r){if(this.ensureValid(),this.downloader||this.disposer)throw new Error("Cannot reshape a tensor that owns GPU resource.");return(0,Lc.tensorReshape)(this,r)}};Us.Tensor=_o});var Ds=Se(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.Tensor=void 0;var By=ks();Bs.Tensor=By.Tensor});var wo=Se(wn=>{"use strict";Object.defineProperty(wn,"__esModule",{value:!0});wn.TRACE_FUNC_END=wn.TRACE_FUNC_BEGIN=wn.TRACE=void 0;var yo=vo(),Dy=(n,r)=>{yo.env.wasm.trace&&console.timeStamp(`${n}::ORT::${r}`)};wn.TRACE=Dy;var Nc=(n,r)=>{let s=new Error().stack?.split(/\r\n|\r|\n/g)||[],u=!1;for(let o=0;o<s.length;o++){if(u&&!s[o].includes("TRACE_FUNC")){let f=`FUNC_${n}::${s[o].trim().split(" ")[1]}`;r&&(f+=`::${r}`),(0,wn.TRACE)("CPU",f);return}s[o].includes("TRACE_FUNC")&&(u=!0)}},Fy=n=>{yo.env.wasm.trace&&Nc("BEGIN",n)};wn.TRACE_FUNC_BEGIN=Fy;var $y=n=>{yo.env.wasm.trace&&Nc("END",n)};wn.TRACE_FUNC_END=$y});var Uc=Se($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});$s.InferenceSession=void 0;var Wy=Cs(),bi=Ds(),Fs=wo(),bo=class n{constructor(r){this.handler=r}async run(r,s,u){(0,Fs.TRACE_FUNC_BEGIN)();let o={},f={};if(typeof r!="object"||r===null||r instanceof bi.Tensor||Array.isArray(r))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let h=!0;if(typeof s=="object"){if(s===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(s instanceof bi.Tensor)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(s)){if(s.length===0)throw new TypeError("'fetches' cannot be an empty array.");h=!1;for(let v of s){if(typeof v!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(v)===-1)throw new RangeError(`'fetches' contains invalid output name: ${v}.`);o[v]=null}if(typeof u=="object"&&u!==null)f=u;else if(typeof u<"u")throw new TypeError("'options' must be an object.")}else{let v=!1,O=Object.getOwnPropertyNames(s);for(let R of this.outputNames)if(O.indexOf(R)!==-1){let A=s[R];(A===null||A instanceof bi.Tensor)&&(v=!0,h=!1,o[R]=A)}if(v){if(typeof u=="object"&&u!==null)f=u;else if(typeof u<"u")throw new TypeError("'options' must be an object.")}else f=s}}else if(typeof s<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let v of this.inputNames)if(typeof r[v]>"u")throw new Error(`input '${v}' is missing in 'feeds'.`);if(h)for(let v of this.outputNames)o[v]=null;let g=await this.handler.run(r,o,f),b={};for(let v in g)if(Object.hasOwnProperty.call(g,v)){let O=g[v];O instanceof bi.Tensor?b[v]=O:b[v]=new bi.Tensor(O.type,O.data,O.dims)}return(0,Fs.TRACE_FUNC_END)(),b}async release(){return this.handler.dispose()}static async create(r,s,u,o){(0,Fs.TRACE_FUNC_BEGIN)();let f,h={};if(typeof r=="string"){if(f=r,typeof s=="object"&&s!==null)h=s;else if(typeof s<"u")throw new TypeError("'options' must be an object.")}else if(r instanceof Uint8Array){if(f=r,typeof s=="object"&&s!==null)h=s;else if(typeof s<"u")throw new TypeError("'options' must be an object.")}else if(r instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&r instanceof SharedArrayBuffer){let R=r,A=0,L=r.byteLength;if(typeof s=="object"&&s!==null)h=s;else if(typeof s=="number"){if(A=s,!Number.isSafeInteger(A))throw new RangeError("'byteOffset' must be an integer.");if(A<0||A>=R.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${R.byteLength}).`);if(L=r.byteLength-A,typeof u=="number"){if(L=u,!Number.isSafeInteger(L))throw new RangeError("'byteLength' must be an integer.");if(L<=0||A+L>R.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${R.byteLength-A}].`);if(typeof o=="object"&&o!==null)h=o;else if(typeof o<"u")throw new TypeError("'options' must be an object.")}else if(typeof u<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof s<"u")throw new TypeError("'options' must be an object.");f=new Uint8Array(R,A,L)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");let b=(h.executionProviders||[]).map(R=>typeof R=="string"?R:R.name),O=await(await(0,Wy.resolveBackend)(b)).createInferenceSessionHandler(f,h);return(0,Fs.TRACE_FUNC_END)(),new n(O)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}};$s.InferenceSession=bo});var Bc=Se(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});Ws.InferenceSession=void 0;var jy=Uc();Ws.InferenceSession=jy.InferenceSession});var Fc=Se(Dc=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0})});var $c=Se(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});js.TrainingSession=void 0;var Gy=Cs(),xi=Ds(),Zy="Training backend could not be resolved. Make sure you're using the correct configuration & WebAssembly files.",xo=class n{constructor(r,s,u){this.handler=r,this.hasOptimizerModel=s,this.hasEvalModel=u}get trainingInputNames(){return this.handler.inputNames}get trainingOutputNames(){return this.handler.outputNames}get evalInputNames(){if(this.hasEvalModel)return this.handler.evalInputNames;throw new Error("This training session has no evalModel loaded.")}get evalOutputNames(){if(this.hasEvalModel)return this.handler.evalOutputNames;throw new Error("This training session has no evalModel loaded.")}static async create(r,s){let u=r.evalModel||"",o=r.optimizerModel||"",f=s||{},g=(f.executionProviders||[]).map(v=>typeof v=="string"?v:v.name),b=await(0,Gy.resolveBackend)(g);if(b.createTrainingSessionHandler){let v=await b.createTrainingSessionHandler(r.checkpointState,r.trainModel,u,o,f);return new n(v,!!r.optimizerModel,!!r.evalModel)}else throw new Error(Zy)}typeNarrowingForRunStep(r,s,u,o,f){let h={},g={};if(typeof u!="object"||u===null||u instanceof xi.Tensor||Array.isArray(u))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let b=!0;if(typeof o=="object"){if(o===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(o instanceof xi.Tensor)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(o)){if(o.length===0)throw new TypeError("'fetches' cannot be an empty array.");b=!1;for(let v of o){if(typeof v!="string")throw new TypeError("'fetches' must be a string array or an object.");if(s.indexOf(v)===-1)throw new RangeError(`'fetches' contains invalid output name: ${v}.`);h[v]=null}if(typeof f=="object"&&f!==null)g=f;else if(typeof f<"u")throw new TypeError("'options' must be an object.")}else{let v=!1,O=Object.getOwnPropertyNames(o);for(let R of s)if(O.indexOf(R)!==-1){let A=o[R];(A===null||A instanceof xi.Tensor)&&(v=!0,b=!1,h[R]=A)}if(v){if(typeof f=="object"&&f!==null)g=f;else if(typeof f<"u")throw new TypeError("'options' must be an object.")}else g=o}}else if(typeof o<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(let v of r)if(typeof u[v]>"u")throw new Error(`input '${v}' is missing in 'feeds'.`);if(b)for(let v of s)h[v]=null;return[h,g]}convertHandlerReturnTypeToMapOfTensors(r){let s={};for(let u in r)if(Object.hasOwnProperty.call(r,u)){let o=r[u];o instanceof xi.Tensor?s[u]=o:s[u]=new xi.Tensor(o.type,o.data,o.dims)}return s}async lazyResetGrad(){await this.handler.lazyResetGrad()}async runTrainStep(r,s,u){let[o,f]=this.typeNarrowingForRunStep(this.trainingInputNames,this.trainingOutputNames,r,s,u),h=await this.handler.runTrainStep(r,o,f);return this.convertHandlerReturnTypeToMapOfTensors(h)}async runOptimizerStep(r){if(this.hasOptimizerModel)await this.handler.runOptimizerStep(r||{});else throw new Error("This TrainingSession has no OptimizerModel loaded.")}async runEvalStep(r,s,u){if(this.hasEvalModel){let[o,f]=this.typeNarrowingForRunStep(this.evalInputNames,this.evalOutputNames,r,s,u),h=await this.handler.runEvalStep(r,o,f);return this.convertHandlerReturnTypeToMapOfTensors(h)}else throw new Error("This TrainingSession has no EvalModel loaded.")}async getParametersSize(r=!0){return this.handler.getParametersSize(r)}async loadParametersBuffer(r,s=!0){let u=await this.getParametersSize(s);if(r.length!==4*u)throw new Error("Size of the buffer passed into loadParametersBuffer must match the number of parameters in the model. Please use getParametersSize method to check.");return this.handler.loadParametersBuffer(r,s)}async getContiguousParameters(r=!0){return this.handler.getContiguousParameters(r)}async release(){return this.handler.dispose()}};js.TrainingSession=xo});var Wc=Se(Gs=>{"use strict";Object.defineProperty(Gs,"__esModule",{value:!0});Gs.TrainingSession=void 0;var zy=$c();Gs.TrainingSession=zy.TrainingSession});var rr=Se(Tt=>{"use strict";var Hy=Tt&&Tt.__createBinding||(Object.create?function(n,r,s,u){u===void 0&&(u=s);var o=Object.getOwnPropertyDescriptor(r,s);(!o||("get"in o?!r.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return r[s]}}),Object.defineProperty(n,u,o)}:function(n,r,s,u){u===void 0&&(u=s),n[u]=r[s]}),nr=Tt&&Tt.__exportStar||function(n,r){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(r,s)&&Hy(r,n,s)};Object.defineProperty(Tt,"__esModule",{value:!0});nr(Ac(),Tt);nr(Rc(),Tt);nr(Bc(),Tt);nr(Ds(),Tt);nr(wo(),Tt);nr(Fc(),Tt);nr(Wc(),Tt)});var Ml=Se((jw,Bo)=>{"use strict";var qy=Object.create,Ks=Object.defineProperty,Yy=Object.getOwnPropertyDescriptor,Vy=Object.getOwnPropertyNames,Ky=Object.getPrototypeOf,Jy=Object.prototype.hasOwnProperty,Yt=(n,r)=>()=>(n&&(r=n(n=0)),r),Xy=(n,r)=>()=>(r||n((r={exports:{}}).exports,r),r.exports),rl=(n,r)=>{for(var s in r)Ks(n,s,{get:r[s],enumerable:!0})},qs=(n,r,s,u)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of Vy(r))!Jy.call(n,o)&&o!==s&&Ks(n,o,{get:()=>r[o],enumerable:!(u=Yy(r,o))||u.enumerable});return n},Qy=(n,r,s)=>(qs(n,r,"default"),s&&qs(s,r,"default")),il=(n,r,s)=>(s=n!=null?qy(Ky(n)):{},qs(r||!n||!n.__esModule?Ks(s,"default",{value:n,enumerable:!0}):s,n)),sl=n=>qs(Ks({},"__esModule",{value:!0}),n),e0=Xy((n,r)=>{"use strict";var s=(()=>{var u=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(u=u||__filename),function(o={}){var f=o,h,g;f.ready=new Promise((p,y)=>{h=p,g=y});var b=Object.assign({},f),v="./this.program",O=typeof window=="object",R=typeof importScripts=="function",A=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",L="",$,Z,B;if(A){var ne=require("fs"),ae=require("path");L=R?ae.dirname(L)+"/":__dirname+"/",$=(p,y)=>(p=Gt(p)?new URL(p):ae.normalize(p),ne.readFileSync(p,y?void 0:"utf8")),B=p=>(p=$(p,!0),p.buffer||(p=new Uint8Array(p)),p),Z=(p,y,T,I=!0)=>{p=Gt(p)?new URL(p):ae.normalize(p),ne.readFile(p,I?void 0:"utf8",(D,Y)=>{D?T(D):y(I?Y.buffer:Y)})},!f.thisProgram&&1<process.argv.length&&(v=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),f.inspect=()=>"[Emscripten Module object]"}else(O||R)&&(R?L=self.location.href:typeof document<"u"&&document.currentScript&&(L=document.currentScript.src),u&&(L=u),L.indexOf("blob:")!==0?L=L.substr(0,L.replace(/[?#].*/,"").lastIndexOf("/")+1):L="",$=p=>{var y=new XMLHttpRequest;return y.open("GET",p,!1),y.send(null),y.responseText},R&&(B=p=>{var y=new XMLHttpRequest;return y.open("GET",p,!1),y.responseType="arraybuffer",y.send(null),new Uint8Array(y.response)}),Z=(p,y,T)=>{var I=new XMLHttpRequest;I.open("GET",p,!0),I.responseType="arraybuffer",I.onload=()=>{I.status==200||I.status==0&&I.response?y(I.response):T()},I.onerror=T,I.send(null)});var ve=console.log.bind(console),xe=console.error.bind(console);Object.assign(f,b),b=null,typeof WebAssembly!="object"&&Te("no native wasm support detected");var Re,Ot=!1,$t,ke,H,Me,_r;function An(){var p=Re.buffer;f.HEAP8=$t=new Int8Array(p),f.HEAP16=new Int16Array(p),f.HEAPU8=ke=new Uint8Array(p),f.HEAPU16=new Uint16Array(p),f.HEAP32=H=new Int32Array(p),f.HEAPU32=Me=new Uint32Array(p),f.HEAPF32=new Float32Array(p),f.HEAPF64=_r=new Float64Array(p)}var Wt=[],he=[],Xe=[],qe=0,jt=null,mt=null;function Te(p){throw p="Aborted("+p+")",xe(p),Ot=!0,p=new WebAssembly.RuntimeError(p+". Build with -sASSERTIONS for more info."),g(p),p}var Rt=p=>p.startsWith("data:application/octet-stream;base64,"),Gt=p=>p.startsWith("file://"),Xt;if(Xt="ort-wasm.wasm",!Rt(Xt)){var Ct=Xt;Xt=f.locateFile?f.locateFile(Ct,L):L+Ct}function an(p){if(B)return B(p);throw"both async and sync fetching of the wasm failed"}function on(p){if(O||R){if(typeof fetch=="function"&&!Gt(p))return fetch(p,{credentials:"same-origin"}).then(y=>{if(!y.ok)throw"failed to load wasm binary file at '"+p+"'";return y.arrayBuffer()}).catch(()=>an(p));if(Z)return new Promise((y,T)=>{Z(p,I=>y(new Uint8Array(I)),T)})}return Promise.resolve().then(()=>an(p))}function ot(p,y,T){return on(p).then(I=>WebAssembly.instantiate(I,y)).then(I=>I).then(T,I=>{xe(`failed to asynchronously prepare wasm: ${I}`),Te(I)})}function Qt(p,y){var T=Xt;return typeof WebAssembly.instantiateStreaming!="function"||Rt(T)||Gt(T)||A||typeof fetch!="function"?ot(T,p,y):fetch(T,{credentials:"same-origin"}).then(I=>WebAssembly.instantiateStreaming(I,p).then(y,function(D){return xe(`wasm streaming compile failed: ${D}`),xe("falling back to ArrayBuffer instantiation"),ot(T,p,y)}))}var Ie,Ue={919248:(p,y,T,I)=>{if(typeof f>"u"||!f.za)return 1;if(p=ut(p>>>0),p.startsWith("./")&&(p=p.substring(2)),p=f.za.get(p),!p)return 2;if(y>>>=0,T>>>=0,y+T>p.byteLength)return 3;try{return ke.set(p.subarray(y,y+T),I>>>0>>>0),0}catch{return 4}}};function en(p){this.xa=p-24,this.Ha=function(y){Me[this.xa+4>>>2>>>0]=y},this.Ga=function(y){Me[this.xa+8>>>2>>>0]=y},this.Aa=function(y,T){this.Fa(),this.Ha(y),this.Ga(T)},this.Fa=function(){Me[this.xa+16>>>2>>>0]=0}}var En=0,Qe=0,On=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Ci=(p,y,T)=>{y>>>=0;var I=y+T;for(T=y;p[T]&&!(T>=I);)++T;if(16<T-y&&p.buffer&&On)return On.decode(p.subarray(y,T));for(I="";y<T;){var D=p[y++];if(D&128){var Y=p[y++]&63;if((D&224)==192)I+=String.fromCharCode((D&31)<<6|Y);else{var le=p[y++]&63;D=(D&240)==224?(D&15)<<12|Y<<6|le:(D&7)<<18|Y<<12|le<<6|p[y++]&63,65536>D?I+=String.fromCharCode(D):(D-=65536,I+=String.fromCharCode(55296|D>>10,56320|D&1023))}}else I+=String.fromCharCode(D)}return I},ut=(p,y)=>(p>>>=0)?Ci(ke,p,y):"",yr=p=>{for(var y=0,T=0;T<p.length;++T){var I=p.charCodeAt(T);127>=I?y++:2047>=I?y+=2:55296<=I&&57343>=I?(y+=4,++T):y+=3}return y},Qr=(p,y,T,I)=>{if(T>>>=0,!(0<I))return 0;var D=T;I=T+I-1;for(var Y=0;Y<p.length;++Y){var le=p.charCodeAt(Y);if(55296<=le&&57343>=le){var De=p.charCodeAt(++Y);le=65536+((le&1023)<<10)|De&1023}if(127>=le){if(T>=I)break;y[T++>>>0]=le}else{if(2047>=le){if(T+1>=I)break;y[T++>>>0]=192|le>>6}else{if(65535>=le){if(T+2>=I)break;y[T++>>>0]=224|le>>12}else{if(T+3>=I)break;y[T++>>>0]=240|le>>18,y[T++>>>0]=128|le>>12&63}y[T++>>>0]=128|le>>6&63}y[T++>>>0]=128|le&63}}return y[T>>>0]=0,T-D},St=p=>p%4===0&&(p%100!==0||p%400===0),ft=[0,31,60,91,121,152,182,213,244,274,305,335],Rn=[0,31,59,90,120,151,181,212,243,273,304,334],Gn=p=>{var y=yr(p)+1,T=Ar(y);return T&&Qr(p,ke,T,y),T},ei=[],un={},Si=()=>{if(!fn){var p={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:v||"./this.program"},y;for(y in un)un[y]===void 0?delete p[y]:p[y]=un[y];var T=[];for(y in p)T.push(`${y}=${p[y]}`);fn=T}return fn},fn,Cn=[null,[],[]],wr=[31,29,31,30,31,30,31,31,30,31,30,31],br=[31,28,31,30,31,30,31,31,30,31,30,31];function ti(p){var y=Array(yr(p)+1);return Qr(p,y,0,y.length),y}function xr(p,y,T,I){function D(S,_e,Ee){for(S=typeof S=="number"?S.toString():S||"";S.length<_e;)S=Ee[0]+S;return S}function Y(S,_e){return D(S,_e,"0")}function le(S,_e){function Ee(Bi){return 0>Bi?-1:0<Bi?1:0}var cn;return(cn=Ee(S.getFullYear()-_e.getFullYear()))===0&&(cn=Ee(S.getMonth()-_e.getMonth()))===0&&(cn=Ee(S.getDate()-_e.getDate())),cn}function De(S){switch(S.getDay()){case 0:return new Date(S.getFullYear()-1,11,29);case 1:return S;case 2:return new Date(S.getFullYear(),0,3);case 3:return new Date(S.getFullYear(),0,2);case 4:return new Date(S.getFullYear(),0,1);case 5:return new Date(S.getFullYear()-1,11,31);case 6:return new Date(S.getFullYear()-1,11,30)}}function ct(S){var _e=S.ta;for(S=new Date(new Date(S.ua+1900,0,1).getTime());0<_e;){var Ee=S.getMonth(),cn=(St(S.getFullYear())?wr:br)[Ee];if(_e>cn-S.getDate())_e-=cn-S.getDate()+1,S.setDate(1),11>Ee?S.setMonth(Ee+1):(S.setMonth(0),S.setFullYear(S.getFullYear()+1));else{S.setDate(S.getDate()+_e);break}}return Ee=new Date(S.getFullYear()+1,0,4),_e=De(new Date(S.getFullYear(),0,4)),Ee=De(Ee),0>=le(_e,S)?0>=le(Ee,S)?S.getFullYear()+1:S.getFullYear():S.getFullYear()-1}p>>>=0,y>>>=0,T>>>=0,I>>>=0;var je=Me[I+40>>>2>>>0];I={Da:H[I>>>2>>>0],Ca:H[I+4>>>2>>>0],va:H[I+8>>>2>>>0],ya:H[I+12>>>2>>>0],wa:H[I+16>>>2>>>0],ua:H[I+20>>>2>>>0],oa:H[I+24>>>2>>>0],ta:H[I+28>>>2>>>0],Ia:H[I+32>>>2>>>0],Ba:H[I+36>>>2>>>0],Ea:je?ut(je):""},T=ut(T),je={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var Ye in je)T=T.replace(new RegExp(Ye,"g"),je[Ye]);var Ni="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Ui="January February March April May June July August September October November December".split(" ");je={"%a":S=>Ni[S.oa].substring(0,3),"%A":S=>Ni[S.oa],"%b":S=>Ui[S.wa].substring(0,3),"%B":S=>Ui[S.wa],"%C":S=>Y((S.ua+1900)/100|0,2),"%d":S=>Y(S.ya,2),"%e":S=>D(S.ya,2," "),"%g":S=>ct(S).toString().substring(2),"%G":S=>ct(S),"%H":S=>Y(S.va,2),"%I":S=>(S=S.va,S==0?S=12:12<S&&(S-=12),Y(S,2)),"%j":S=>{for(var _e=0,Ee=0;Ee<=S.wa-1;_e+=(St(S.ua+1900)?wr:br)[Ee++]);return Y(S.ya+_e,3)},"%m":S=>Y(S.wa+1,2),"%M":S=>Y(S.Ca,2),"%n":()=>`
`,"%p":S=>0<=S.va&&12>S.va?"AM":"PM","%S":S=>Y(S.Da,2),"%t":()=>"	","%u":S=>S.oa||7,"%U":S=>Y(Math.floor((S.ta+7-S.oa)/7),2),"%V":S=>{var _e=Math.floor((S.ta+7-(S.oa+6)%7)/7);if(2>=(S.oa+371-S.ta-2)%7&&_e++,_e)_e==53&&(Ee=(S.oa+371-S.ta)%7,Ee==4||Ee==3&&St(S.ua)||(_e=1));else{_e=52;var Ee=(S.oa+7-S.ta-1)%7;(Ee==4||Ee==5&&St(S.ua%400-1))&&_e++}return Y(_e,2)},"%w":S=>S.oa,"%W":S=>Y(Math.floor((S.ta+7-(S.oa+6)%7)/7),2),"%y":S=>(S.ua+1900).toString().substring(2),"%Y":S=>S.ua+1900,"%z":S=>{S=S.Ba;var _e=0<=S;return S=Math.abs(S)/60,(_e?"+":"-")+("0000"+(S/60*100+S%60)).slice(-4)},"%Z":S=>S.Ea,"%%":()=>"%"},T=T.replace(/%%/g,"\0\0");for(Ye in je)T.includes(Ye)&&(T=T.replace(new RegExp(Ye,"g"),je[Ye](I)));return T=T.replace(/\0\0/g,"%"),Ye=ti(T),Ye.length>y?0:($t.set(Ye,p>>>0),Ye.length-1)}var ni={a:function(p,y,T){throw p>>>=0,new en(p).Aa(y>>>0,T>>>0),En=p,Qe++,En},e:function(){return 0},H:function(){},x:function(){},z:function(){},J:function(){return 0},F:function(){},A:function(){},E:function(){},g:function(){},y:function(){},v:function(){},G:function(){},w:function(){},k:()=>1,n:function(p,y,T){p=y+2097152>>>0<4194305-!!p?(p>>>0)+4294967296*y:NaN,T>>>=0,p=new Date(1e3*p),H[T>>>2>>>0]=p.getUTCSeconds(),H[T+4>>>2>>>0]=p.getUTCMinutes(),H[T+8>>>2>>>0]=p.getUTCHours(),H[T+12>>>2>>>0]=p.getUTCDate(),H[T+16>>>2>>>0]=p.getUTCMonth(),H[T+20>>>2>>>0]=p.getUTCFullYear()-1900,H[T+24>>>2>>>0]=p.getUTCDay(),H[T+28>>>2>>>0]=(p.getTime()-Date.UTC(p.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},o:function(p,y,T){p=y+2097152>>>0<4194305-!!p?(p>>>0)+4294967296*y:NaN,T>>>=0,p=new Date(1e3*p),H[T>>>2>>>0]=p.getSeconds(),H[T+4>>>2>>>0]=p.getMinutes(),H[T+8>>>2>>>0]=p.getHours(),H[T+12>>>2>>>0]=p.getDate(),H[T+16>>>2>>>0]=p.getMonth(),H[T+20>>>2>>>0]=p.getFullYear()-1900,H[T+24>>>2>>>0]=p.getDay(),H[T+28>>>2>>>0]=(St(p.getFullYear())?ft:Rn)[p.getMonth()]+p.getDate()-1|0,H[T+36>>>2>>>0]=-(60*p.getTimezoneOffset()),y=new Date(p.getFullYear(),6,1).getTimezoneOffset();var I=new Date(p.getFullYear(),0,1).getTimezoneOffset();H[T+32>>>2>>>0]=(y!=I&&p.getTimezoneOffset()==Math.min(I,y))|0},p:function(p){p>>>=0;var y=new Date(H[p+20>>>2>>>0]+1900,H[p+16>>>2>>>0],H[p+12>>>2>>>0],H[p+8>>>2>>>0],H[p+4>>>2>>>0],H[p>>>2>>>0],0),T=H[p+32>>>2>>>0],I=y.getTimezoneOffset(),D=new Date(y.getFullYear(),6,1).getTimezoneOffset(),Y=new Date(y.getFullYear(),0,1).getTimezoneOffset(),le=Math.min(Y,D);return 0>T?H[p+32>>>2>>>0]=+(D!=Y&&le==I):0<T!=(le==I)&&(D=Math.max(Y,D),y.setTime(y.getTime()+6e4*((0<T?le:D)-I))),H[p+24>>>2>>>0]=y.getDay(),H[p+28>>>2>>>0]=(St(y.getFullYear())?ft:Rn)[y.getMonth()]+y.getDate()-1|0,H[p>>>2>>>0]=y.getSeconds(),H[p+4>>>2>>>0]=y.getMinutes(),H[p+8>>>2>>>0]=y.getHours(),H[p+12>>>2>>>0]=y.getDate(),H[p+16>>>2>>>0]=y.getMonth(),H[p+20>>>2>>>0]=y.getYear(),p=y.getTime(),isNaN(p)?(H[Tr()>>>2>>>0]=61,p=-1):p/=1e3,Er((Ie=p,1<=+Math.abs(Ie)?0<Ie?+Math.floor(Ie/4294967296)>>>0:~~+Math.ceil((Ie-+(~~Ie>>>0))/4294967296)>>>0:0)),p>>>0},l:function(){return-52},m:function(){},t:function(p,y,T){function I(ct){return(ct=ct.toTimeString().match(/\(([A-Za-z ]+)\)$/))?ct[1]:"GMT"}T>>>=0;var D=new Date().getFullYear(),Y=new Date(D,0,1),le=new Date(D,6,1);D=Y.getTimezoneOffset();var De=le.getTimezoneOffset();Me[p>>>0>>>2>>>0]=60*Math.max(D,De),H[y>>>0>>>2>>>0]=+(D!=De),p=I(Y),y=I(le),p=Gn(p),y=Gn(y),De<D?(Me[T>>>2>>>0]=p,Me[T+4>>>2>>>0]=y):(Me[T>>>2>>>0]=y,Me[T+4>>>2>>>0]=p)},d:()=>{Te("")},B:function(p,y,T){p>>>=0,y>>>=0,T>>>=0,ei.length=0;for(var I;I=ke[y++>>>0];){var D=I!=105;D&=I!=112,T+=D&&T%8?4:0,ei.push(I==112?Me[T>>>2>>>0]:I==105?H[T>>>2>>>0]:_r[T>>>3>>>0]),T+=D?8:4}return Ue[p].apply(null,ei)},h:()=>Date.now(),u:function(){return 4294901760},b:()=>performance.now(),I:function(p,y,T){return y>>>=0,ke.copyWithin(p>>>0>>>0,y>>>0,y+(T>>>0)>>>0)},s:function(p){p>>>=0;var y=ke.length;if(4294901760<p)return!1;for(var T=1;4>=T;T*=2){var I=y*(1+.2/T);I=Math.min(I,p+100663296);var D=Math;I=Math.max(p,I);e:{D=(D.min.call(D,4294901760,I+(65536-I%65536)%65536)-Re.buffer.byteLength+65535)/65536;try{Re.grow(D),An();var Y=1;break e}catch{}Y=void 0}if(Y)return!0}return!1},C:function(p,y){p>>>=0,y>>>=0;var T=0;return Si().forEach((I,D)=>{var Y=y+T;for(D=Me[p+4*D>>>2>>>0]=Y,Y=0;Y<I.length;++Y)$t[D++>>>0>>>0]=I.charCodeAt(Y);$t[D>>>0>>>0]=0,T+=I.length+1}),0},D:function(p,y){p>>>=0,y>>>=0;var T=Si();Me[p>>>2>>>0]=T.length;var I=0;return T.forEach(D=>I+=D.length+1),Me[y>>>2>>>0]=I,0},f:()=>52,j:function(){return 52},q:function(){return 70},i:function(p,y,T,I){y>>>=0,T>>>=0,I>>>=0;for(var D=0,Y=0;Y<T;Y++){var le=Me[y>>>2>>>0],De=Me[y+4>>>2>>>0];y+=8;for(var ct=0;ct<De;ct++){var je=ke[le+ct>>>0],Ye=Cn[p];je===0||je===10?((p===1?ve:xe)(Ci(Ye,0)),Ye.length=0):Ye.push(je)}D+=De}return Me[I>>>2>>>0]=D,0},r:xr,c:function(p,y,T,I){return xr(p>>>0,y>>>0,T>>>0,I>>>0)}},X=function(){function p(T){return X=T.exports,X=Mi(),Re=X.K,An(),he.unshift(X.L),qe--,qe==0&&(jt!==null&&(clearInterval(jt),jt=null),mt&&(T=mt,mt=null,T())),X}var y={a:ni};if(qe++,f.instantiateWasm)try{return f.instantiateWasm(y,p)}catch(T){xe(`Module.instantiateWasm callback failed with error: ${T}`),g(T)}return Qt(y,function(T){p(T.instance)}).catch(g),{}}();f._OrtInit=(p,y)=>(f._OrtInit=X.M)(p,y),f._OrtGetLastError=(p,y)=>(f._OrtGetLastError=X.N)(p,y),f._OrtCreateSessionOptions=(p,y,T,I,D,Y,le,De,ct,je)=>(f._OrtCreateSessionOptions=X.O)(p,y,T,I,D,Y,le,De,ct,je),f._OrtAppendExecutionProvider=(p,y)=>(f._OrtAppendExecutionProvider=X.P)(p,y),f._OrtAddFreeDimensionOverride=(p,y,T)=>(f._OrtAddFreeDimensionOverride=X.Q)(p,y,T),f._OrtAddSessionConfigEntry=(p,y,T)=>(f._OrtAddSessionConfigEntry=X.R)(p,y,T),f._OrtReleaseSessionOptions=p=>(f._OrtReleaseSessionOptions=X.S)(p),f._OrtCreateSession=(p,y,T)=>(f._OrtCreateSession=X.T)(p,y,T),f._OrtReleaseSession=p=>(f._OrtReleaseSession=X.U)(p),f._OrtGetInputOutputCount=(p,y,T)=>(f._OrtGetInputOutputCount=X.V)(p,y,T),f._OrtGetInputName=(p,y)=>(f._OrtGetInputName=X.W)(p,y),f._OrtGetOutputName=(p,y)=>(f._OrtGetOutputName=X.X)(p,y),f._OrtFree=p=>(f._OrtFree=X.Y)(p),f._OrtCreateTensor=(p,y,T,I,D,Y)=>(f._OrtCreateTensor=X.Z)(p,y,T,I,D,Y),f._OrtGetTensorData=(p,y,T,I,D)=>(f._OrtGetTensorData=X._)(p,y,T,I,D),f._OrtReleaseTensor=p=>(f._OrtReleaseTensor=X.$)(p),f._OrtCreateRunOptions=(p,y,T,I)=>(f._OrtCreateRunOptions=X.aa)(p,y,T,I),f._OrtAddRunConfigEntry=(p,y,T)=>(f._OrtAddRunConfigEntry=X.ba)(p,y,T),f._OrtReleaseRunOptions=p=>(f._OrtReleaseRunOptions=X.ca)(p),f._OrtCreateBinding=p=>(f._OrtCreateBinding=X.da)(p),f._OrtBindInput=(p,y,T)=>(f._OrtBindInput=X.ea)(p,y,T),f._OrtBindOutput=(p,y,T,I)=>(f._OrtBindOutput=X.fa)(p,y,T,I),f._OrtClearBoundOutputs=p=>(f._OrtClearBoundOutputs=X.ga)(p),f._OrtReleaseBinding=p=>(f._OrtReleaseBinding=X.ha)(p),f._OrtRunWithBinding=(p,y,T,I,D)=>(f._OrtRunWithBinding=X.ia)(p,y,T,I,D),f._OrtRun=(p,y,T,I,D,Y,le,De)=>(f._OrtRun=X.ja)(p,y,T,I,D,Y,le,De),f._OrtEndProfiling=p=>(f._OrtEndProfiling=X.ka)(p);var Tr=()=>(Tr=X.la)(),Ar=f._malloc=p=>(Ar=f._malloc=X.ma)(p);f._free=p=>(f._free=X.na)(p);var Er=p=>(Er=X.pa)(p),Ii=()=>(Ii=X.qa)(),Pi=p=>(Pi=X.ra)(p),ki=p=>(ki=X.sa)(p);function Mi(){var p=X;p=Object.assign({},p);var y=I=>()=>I()>>>0,T=I=>D=>I(D)>>>0;return p.la=y(p.la),p.ma=T(p.ma),p.qa=y(p.qa),p.sa=T(p.sa),p}f.stackAlloc=ki,f.stackSave=Ii,f.stackRestore=Pi,f.UTF8ToString=ut,f.stringToUTF8=(p,y,T)=>Qr(p,ke,y,T),f.lengthBytesUTF8=yr;var Zn;mt=function p(){Zn||Li(),Zn||(mt=p)};function Li(){if(!(0<qe)){if(f.preRun)for(typeof f.preRun=="function"&&(f.preRun=[f.preRun]);f.preRun.length;){var p=f.preRun.shift();Wt.unshift(p)}for(;0<Wt.length;)Wt.shift()(f);if(!(0<qe||Zn||(Zn=!0,f.calledRun=!0,Ot))){for(;0<he.length;)he.shift()(f);for(h(f);0<Xe.length;)Xe.shift()(f)}}}return Li(),o.ready}})();typeof n=="object"&&typeof r=="object"?r.exports=s:typeof define=="function"&&define.amd&&define([],()=>s)}),To,jc,Ao,Zs,Ti,Eo,Gc,Zc,zc,al,ze,Ai=Yt(()=>{"use strict";To=e0(),jc=To,Zs=!1,Ti=!1,Eo=!1,Gc=n=>{if(n===1)return!1;if(typeof SharedArrayBuffer>"u")return typeof self<"u"&&!self.crossOriginIsolated&&console.warn("env.wasm.numThreads is set to "+n+", but this will not work unless you enable crossOriginIsolated mode. See https://web.dev/cross-origin-isolation-guide/ for more info."),!1;typeof process<"u"&&process.versions&&process.versions.node&&console.warn("env.wasm.numThreads is set to "+n+", however, currently onnxruntime-web does not support multi-threads in Node.js. Please consider using onnxruntime-node for performance critical scenarios.");try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}},Zc=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}},zc=(n,r)=>n?r?"ort-wasm-simd-threaded.wasm":"ort-wasm-simd.wasm":r?"ort-wasm-threaded.wasm":"ort-wasm.wasm",al=async n=>{if(Zs)return Promise.resolve();if(Ti)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(Eo)throw new Error("previous call to 'initializeWebAssembly()' failed.");Ti=!0;let r=n.initTimeout,s=n.numThreads,u=n.simd,o=Gc(s),f=u&&Zc(),h=n.wasmPaths,g=typeof h=="string"?h:void 0,b=zc(f,o),v=typeof h=="object"?h[b]:void 0,O=!1,R=[];if(r>0&&R.push(new Promise(A=>{setTimeout(()=>{O=!0,A()},r)})),R.push(new Promise((A,L)=>{(o?jc:To)({locateFile:($,Z)=>$.endsWith(".wasm")?v||(g??Z)+b:Z+$}).then($=>{Ti=!1,Zs=!0,Ao=$,A()},$=>{Ti=!1,Eo=!0,L($)})})),await Promise.race(R),O)throw new Error(`WebAssembly backend initializing failed due to timeout: ${r}ms`)},ze=()=>{if(Zs&&Ao)return Ao;throw new Error("WebAssembly is not initialized yet.")}}),We,Ys,Be,Lo=Yt(()=>{"use strict";Ai(),We=(n,r)=>{let s=ze(),u=s.lengthBytesUTF8(n)+1,o=s._malloc(u);return s.stringToUTF8(n,o,u),r.push(o),o},Ys=(n,r,s,u)=>{if(typeof n=="object"&&n!==null){if(s.has(n))throw new Error("Circular reference in options");s.add(n)}Object.entries(n).forEach(([o,f])=>{let h=r?r+o:o;if(typeof f=="object")Ys(f,h+".",s,u);else if(typeof f=="string"||typeof f=="number")u(h,f.toString());else if(typeof f=="boolean")u(h,f?"1":"0");else throw new Error(`Can't handle extra config type: ${typeof f}`)})},Be=n=>{let r=ze(),s=r.stackSave();try{let u=r.stackAlloc(8);r._OrtGetLastError(u,u+4);let o=r.HEAP32[u/4],f=r.HEAPU32[u/4+1],h=f?r.UTF8ToString(f):"";throw new Error(`${n} ERROR_CODE: ${o}, ERROR_MESSAGE: ${h}`)}finally{r.stackRestore(s)}}}),ol,t0=Yt(()=>{"use strict";Ai(),Lo(),ol=n=>{let r=ze(),s=0,u=[],o=n||{};try{if(n?.logSeverityLevel===void 0)o.logSeverityLevel=2;else if(typeof n.logSeverityLevel!="number"||!Number.isInteger(n.logSeverityLevel)||n.logSeverityLevel<0||n.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${n.logSeverityLevel}`);if(n?.logVerbosityLevel===void 0)o.logVerbosityLevel=0;else if(typeof n.logVerbosityLevel!="number"||!Number.isInteger(n.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${n.logVerbosityLevel}`);n?.terminate===void 0&&(o.terminate=!1);let f=0;return n?.tag!==void 0&&(f=We(n.tag,u)),s=r._OrtCreateRunOptions(o.logSeverityLevel,o.logVerbosityLevel,!!o.terminate,f),s===0&&Be("Can't create run options."),n?.extra!==void 0&&Ys(n.extra,"",new WeakSet,(h,g)=>{let b=We(h,u),v=We(g,u);r._OrtAddRunConfigEntry(s,b,v)!==0&&Be(`Can't set a run config entry: ${h} - ${g}.`)}),[s,u]}catch(f){throw s!==0&&r._OrtReleaseRunOptions(s),u.forEach(h=>r._free(h)),f}}}),Hc,qc,Yc,Vc,ul,n0=Yt(()=>{"use strict";Ai(),Lo(),Hc=n=>{switch(n){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${n}`)}},qc=n=>{switch(n){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${n}`)}},Yc=n=>{n.extra||(n.extra={}),n.extra.session||(n.extra.session={});let r=n.extra.session;r.use_ort_model_bytes_directly||(r.use_ort_model_bytes_directly="1"),n.executionProviders&&n.executionProviders.some(s=>(typeof s=="string"?s:s.name)==="webgpu")&&(n.enableMemPattern=!1)},Vc=(n,r,s)=>{for(let u of r){let o=typeof u=="string"?u:u.name;switch(o){case"webnn":if(o="WEBNN",typeof u!="string"){let h=u;if(h?.deviceType){let g=We("deviceType",s),b=We(h.deviceType,s);ze()._OrtAddSessionConfigEntry(n,g,b)!==0&&Be(`Can't set a session config entry: 'deviceType' - ${h.deviceType}.`)}if(h?.numThreads){let g=h.numThreads;(typeof g!="number"||!Number.isInteger(g)||g<0)&&(g=0);let b=We("numThreads",s),v=We(g.toString(),s);ze()._OrtAddSessionConfigEntry(n,b,v)!==0&&Be(`Can't set a session config entry: 'numThreads' - ${h.numThreads}.`)}if(h?.powerPreference){let g=We("powerPreference",s),b=We(h.powerPreference,s);ze()._OrtAddSessionConfigEntry(n,g,b)!==0&&Be(`Can't set a session config entry: 'powerPreference' - ${h.powerPreference}.`)}}break;case"webgpu":if(o="JS",typeof u!="string"){let h=u;if(h?.preferredLayout){if(h.preferredLayout!=="NCHW"&&h.preferredLayout!=="NHWC")throw new Error(`preferredLayout must be either 'NCHW' or 'NHWC': ${h.preferredLayout}`);let g=We("preferredLayout",s),b=We(h.preferredLayout,s);ze()._OrtAddSessionConfigEntry(n,g,b)!==0&&Be(`Can't set a session config entry: 'preferredLayout' - ${h.preferredLayout}.`)}}break;case"wasm":case"cpu":continue;default:throw new Error(`not supported execution provider: ${o}`)}let f=We(o,s);ze()._OrtAppendExecutionProvider(n,f)!==0&&Be(`Can't append execution provider: ${o}.`)}},ul=n=>{let r=ze(),s=0,u=[],o=n||{};Yc(o);try{let f=Hc(o.graphOptimizationLevel??"all"),h=qc(o.executionMode??"sequential"),g=typeof o.logId=="string"?We(o.logId,u):0,b=o.logSeverityLevel??2;if(!Number.isInteger(b)||b<0||b>4)throw new Error(`log serverity level is not valid: ${b}`);let v=o.logVerbosityLevel??0;if(!Number.isInteger(v)||v<0||v>4)throw new Error(`log verbosity level is not valid: ${v}`);let O=typeof o.optimizedModelFilePath=="string"?We(o.optimizedModelFilePath,u):0;if(s=r._OrtCreateSessionOptions(f,!!o.enableCpuMemArena,!!o.enableMemPattern,h,!!o.enableProfiling,0,g,b,v,O),s===0&&Be("Can't create session options."),o.executionProviders&&Vc(s,o.executionProviders,u),o.freeDimensionOverrides)for(let[R,A]of Object.entries(o.freeDimensionOverrides)){if(typeof R!="string")throw new Error(`free dimension override name must be a string: ${R}`);if(typeof A!="number"||!Number.isInteger(A)||A<0)throw new Error(`free dimension override value must be a non-negative integer: ${A}`);let L=We(R,u);r._OrtAddFreeDimensionOverride(s,L,A)!==0&&Be(`Can't set a free dimension override: ${R} - ${A}.`)}return o.extra!==void 0&&Ys(o.extra,"",new WeakSet,(R,A)=>{let L=We(R,u),$=We(A,u);r._OrtAddSessionConfigEntry(s,L,$)!==0&&Be(`Can't set a session config entry: ${R} - ${A}.`)}),[s,u]}catch(f){throw s!==0&&r._OrtReleaseSessionOptions(s),u.forEach(h=>r._free(h)),f}}}),Io,fl,Po,cl,ll,No,dl,hl=Yt(()=>{"use strict";Io=n=>{switch(n){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float16":return 10;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${n}`)}},fl=n=>{switch(n){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 10:return"float16";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${n}`)}},Po=n=>[void 0,4,1,1,2,2,4,8,void 0,1,2,8,4,8,void 0,void 0,void 0][n],cl=n=>{switch(n){case"float16":return Uint16Array;case"float32":return Float32Array;case"uint8":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"bool":return Uint8Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${n}`)}},ll=n=>{switch(n){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${n}`)}},No=n=>n==="float32"||n==="int32"||n==="int64"||n==="bool"||n==="float16"||n==="uint32",dl=n=>{switch(n){case"none":return 0;case"cpu":return 1;case"cpu-pinned":return 2;case"texture":return 3;case"gpu-buffer":return 4;default:throw new Error(`unsupported data location: ${n}`)}}}),Kc,Jc,Vs,pl=Yt(()=>{"use strict";Kc=il(require("fs")),Jc=require("node:fs/promises"),Vs=async n=>{if(typeof n=="string")if(typeof process<"u"&&process.versions&&process.versions.node)try{return new Uint8Array(await(0,Jc.readFile)(n))}catch(r){if(r.code==="ERR_FS_FILE_TOO_LARGE"){let s=Kc.createReadStream(n),u=[];for await(let o of s)u.push(o);return new Uint8Array(Buffer.concat(u))}throw r}else{let r=await fetch(n);if(!r.ok)throw new Error(`failed to load external data file: ${n}`);let s=r.headers.get("Content-Length"),u=s?parseInt(s,10):0;if(u<1073741824)return new Uint8Array(await r.arrayBuffer());{if(!r.body)throw new Error(`failed to load external data file: ${n}, no response body.`);let o=r.body.getReader(),f;try{f=new ArrayBuffer(u)}catch(g){if(g instanceof RangeError){let b=Math.ceil(u/65536);f=new WebAssembly.Memory({initial:b,maximum:b}).buffer}else throw g}let h=0;for(;;){let{done:g,value:b}=await o.read();if(g)break;let v=b.byteLength;new Uint8Array(f,h,v).set(b),h+=v}return new Uint8Array(f,0,u)}}else return n instanceof Blob?new Uint8Array(await n.arrayBuffer()):n instanceof Uint8Array?n:new Uint8Array(n)}}),Xc,gl,ml,Zr,Qc,ko,vl,_l,Oo,yl,wl,r0=Yt(()=>{"use strict";t0(),n0(),hl(),Ai(),Lo(),pl(),Xc=(n,r)=>{ze()._OrtInit(n,r)!==0&&Be("Can't initialize onnxruntime.")},gl=async n=>{Xc(n.wasm.numThreads,ll(n.logLevel))},ml=async(n,r)=>{},Zr=new Map,Qc=n=>{let r=ze(),s=r.stackSave();try{let u=r.stackAlloc(8);return r._OrtGetInputOutputCount(n,u,u+4)!==0&&Be("Can't get session input/output count."),[r.HEAP32[u/4],r.HEAP32[u/4+1]]}finally{r.stackRestore(s)}},ko=n=>{let r=ze(),s=r._malloc(n.byteLength);if(s===0)throw new Error(`Can't create a session. failed to allocate a buffer of size ${n.byteLength}.`);return r.HEAPU8.set(n,s),[s,n.byteLength]},vl=async(n,r)=>{let s,u,o=ze();Array.isArray(n)?[s,u]=n:n.buffer===o.HEAPU8.buffer?[s,u]=[n.byteOffset,n.byteLength]:[s,u]=ko(n);let f=0,h=0,g=0,b=[],v=[],O=[];try{if([h,b]=ul(r),r?.externalData&&o.mountExternalData){let ne=[];for(let ae of r.externalData){let ve=typeof ae=="string"?ae:ae.path;ne.push(Vs(typeof ae=="string"?ae:ae.data).then(xe=>{o.mountExternalData(ve,xe)}))}await Promise.all(ne)}f=o._OrtCreateSession(s,u,h),f===0&&Be("Can't create a session.");let[R,A]=Qc(f),L=[],$=[],Z=[];for(let ne=0;ne<R;ne++){let ae=o._OrtGetInputName(f,ne);ae===0&&Be("Can't get an input name."),v.push(ae),L.push(o.UTF8ToString(ae))}for(let ne=0;ne<A;ne++){let ae=o._OrtGetOutputName(f,ne);ae===0&&Be("Can't get an output name."),O.push(ae);let ve=o.UTF8ToString(ae);$.push(ve)}return Zr.set(f,[f,v,O,null]),[f,L,$]}catch(R){throw v.forEach(A=>o._OrtFree(A)),O.forEach(A=>o._OrtFree(A)),g!==0&&o._OrtReleaseBinding(g),f!==0&&o._OrtReleaseSession(f),R}finally{o._free(s),h!==0&&o._OrtReleaseSessionOptions(h),b.forEach(R=>o._free(R)),o.unmountExternalData?.()}},_l=n=>{let r=ze(),s=Zr.get(n);if(!s)throw new Error(`cannot release session. invalid session id: ${n}`);let[u,o,f,h]=s;h&&r._OrtReleaseBinding(h.handle),r.jsepUnregisterBuffers?.(n),o.forEach(g=>r._OrtFree(g)),f.forEach(g=>r._OrtFree(g)),r._OrtReleaseSession(u),Zr.delete(n)},Oo=(n,r,s,u,o)=>{if(!n){r.push(0);return}let f=ze(),h=n[0],g=n[1],b=n[3],v,O;if(h==="string"&&b==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");if(b==="gpu-buffer"){let L=n[2].gpuBuffer,$=Po(Io(h));O=g.reduce((Z,B)=>Z*B,1)*$,v=f.jsepRegisterBuffer(u,o,L,O)}else{let L=n[2];if(Array.isArray(L)){O=4*L.length,v=f._malloc(O),s.push(v);let $=v/4;for(let Z=0;Z<L.length;Z++){if(typeof L[Z]!="string")throw new TypeError(`tensor data at index ${Z} is not a string`);f.HEAPU32[$++]=We(L[Z],s)}}else O=L.byteLength,v=f._malloc(O),s.push(v),f.HEAPU8.set(new Uint8Array(L.buffer,L.byteOffset,O),v)}let R=f.stackSave(),A=f.stackAlloc(4*g.length);try{let L=A/4;g.forEach(Z=>f.HEAP32[L++]=Z);let $=f._OrtCreateTensor(Io(h),v,O,A,g.length,dl(b));$===0&&Be(`Can't create tensor for input/output. session=${u}, index=${o}.`),r.push($)}finally{f.stackRestore(R)}},yl=async(n,r,s,u,o,f)=>{let h=ze(),g=Zr.get(n);if(!g)throw new Error(`cannot run inference. invalid session id: ${n}`);let[b,v,O,R]=g,A=r.length,L=u.length,$=0,Z=[],B=[],ne=[],ae=[],ve=h.stackSave(),xe=h.stackAlloc(A*4),Re=h.stackAlloc(A*4),Ot=h.stackAlloc(L*4),$t=h.stackAlloc(L*4);try{[$,Z]=ol(f);for(let he=0;he<A;he++)Oo(s[he],B,ae,n,r[he]);for(let he=0;he<L;he++)Oo(o[he],ne,ae,n,A+u[he]);let ke=xe/4,H=Re/4,Me=Ot/4,_r=$t/4;for(let he=0;he<A;he++)h.HEAPU32[ke++]=B[he],h.HEAPU32[H++]=v[r[he]];for(let he=0;he<L;he++)h.HEAPU32[Me++]=ne[he],h.HEAPU32[_r++]=O[u[he]];let An;An=await h._OrtRun(b,Re,xe,A,$t,L,Ot,$),An!==0&&Be("failed to call OrtRun().");let Wt=[];for(let he=0;he<L;he++){let Xe=h.HEAPU32[Ot/4+he];if(Xe===ne[he]){Wt.push(o[he]);continue}let qe=h.stackSave(),jt=h.stackAlloc(4*4),mt=!1,Te,Rt=0;try{h._OrtGetTensorData(Xe,jt,jt+4,jt+8,jt+12)!==0&&Be(`Can't access output tensor data on index ${he}.`);let Gt=jt/4,Xt=h.HEAPU32[Gt++];Rt=h.HEAPU32[Gt++];let Ct=h.HEAPU32[Gt++],an=h.HEAPU32[Gt++],on=[];for(let Ie=0;Ie<an;Ie++)on.push(h.HEAPU32[Ct/4+Ie]);h._OrtFree(Ct);let ot=on.reduce((Ie,Ue)=>Ie*Ue,1);Te=fl(Xt);let Qt=R?.outputPreferredLocations[u[he]];if(Te==="string"){if(Qt==="gpu-buffer")throw new Error("String tensor is not supported on GPU.");let Ie=[],Ue=Rt/4;for(let en=0;en<ot;en++){let En=h.HEAPU32[Ue++],Qe=en===ot-1?void 0:h.HEAPU32[Ue]-En;Ie.push(h.UTF8ToString(En,Qe))}Wt.push([Te,on,Ie,"cpu"])}else if(Qt==="gpu-buffer"&&ot>0){let Ie=h.jsepGetBuffer(Rt),Ue=Po(Xt);if(Ue===void 0||!No(Te))throw new Error(`Unsupported data type: ${Te}`);mt=!0,Wt.push([Te,on,{gpuBuffer:Ie,download:h.jsepCreateDownloader(Ie,ot*Ue,Te),dispose:()=>{h._OrtReleaseTensor(Xe)}},"gpu-buffer"])}else{let Ie=cl(Te),Ue=new Ie(ot);new Uint8Array(Ue.buffer,Ue.byteOffset,Ue.byteLength).set(h.HEAPU8.subarray(Rt,Rt+Ue.byteLength)),Wt.push([Te,on,Ue,"cpu"])}}finally{h.stackRestore(qe),Te==="string"&&Rt&&h._free(Rt),mt||h._OrtReleaseTensor(Xe)}}return R&&h._OrtClearBoundOutputs(R.handle),Wt}finally{h.stackRestore(ve),B.forEach(ke=>h._OrtReleaseTensor(ke)),ne.forEach(ke=>h._OrtReleaseTensor(ke)),ae.forEach(ke=>h._free(ke)),$!==0&&h._OrtReleaseRunOptions($),Z.forEach(ke=>h._free(ke))}},wl=n=>{let r=ze(),s=Zr.get(n);if(!s)throw new Error("invalid session id");let u=s[0],o=r._OrtEndProfiling(u);o===0&&Be("Can't get an profile file name."),r._OrtFree(o)}}),zs,Hs,Ro,Co,i0,bl,xl,Tl,Al,El,Ol,Rl,Cl=Yt(()=>{"use strict";zs=rr(),r0(),Ai(),Hs=!1,Ro=!1,Co=!1,i0=typeof document<"u"?document?.currentScript?.src:void 0,bl=async()=>{if(!Ro){if(Hs)throw new Error("multiple calls to 'initWasm()' detected.");if(Co)throw new Error("previous call to 'initWasm()' failed.");Hs=!0;try{await al(zs.env.wasm),await gl(zs.env),Ro=!0}catch(n){throw Co=!0,n}finally{Hs=!1}}},xl=async n=>{await ml(zs.env,n)},Tl=async n=>ko(n),Al=async(n,r)=>vl(n,r),El=async n=>{_l(n)},Ol=async(n,r,s,u,o,f)=>yl(n,r,s,u,o,f),Rl=async n=>{wl(n)}}),ir,So,el,Sl,s0=Yt(()=>{"use strict";ir=rr(),Cl(),hl(),pl(),So=(n,r)=>{switch(n.location){case"cpu":return[n.type,n.dims,n.data,"cpu"];case"gpu-buffer":return[n.type,n.dims,{gpuBuffer:n.gpuBuffer},"gpu-buffer"];default:throw new Error(`invalid data location: ${n.location} for ${r()}`)}},el=n=>{switch(n[3]){case"cpu":return new ir.Tensor(n[0],n[2],n[1]);case"gpu-buffer":{let r=n[0];if(!No(r))throw new Error(`not supported data type: ${r} for deserializing GPU tensor`);let{gpuBuffer:s,download:u,dispose:o}=n[2];return ir.Tensor.fromGpuBuffer(s,{dataType:r,dims:n[1],download:u,dispose:o})}default:throw new Error(`invalid data location: ${n[3]}`)}},Sl=class{async fetchModelAndCopyToWasmMemory(n){return Tl(await Vs(n))}async loadModel(n,r){(0,ir.TRACE_FUNC_BEGIN)();let s;typeof n=="string"?typeof process<"u"&&process.versions&&process.versions.node?s=await Vs(n):s=await this.fetchModelAndCopyToWasmMemory(n):s=n,[this.sessionId,this.inputNames,this.outputNames]=await Al(s,r),(0,ir.TRACE_FUNC_END)()}async dispose(){return El(this.sessionId)}async run(n,r,s){(0,ir.TRACE_FUNC_BEGIN)();let u=[],o=[];Object.entries(n).forEach(R=>{let A=R[0],L=R[1],$=this.inputNames.indexOf(A);if($===-1)throw new Error(`invalid input '${A}'`);u.push(L),o.push($)});let f=[],h=[];Object.entries(r).forEach(R=>{let A=R[0],L=R[1],$=this.outputNames.indexOf(A);if($===-1)throw new Error(`invalid output '${A}'`);f.push(L),h.push($)});let g=u.map((R,A)=>So(R,()=>`input "${this.inputNames[o[A]]}"`)),b=f.map((R,A)=>R?So(R,()=>`output "${this.outputNames[h[A]]}"`):null),v=await Ol(this.sessionId,o,g,h,b,s),O={};for(let R=0;R<v.length;R++)O[this.outputNames[h[R]]]=f[R]??el(v[R]);return(0,ir.TRACE_FUNC_END)(),O}startProfiling(){}endProfiling(){Rl(this.sessionId)}}}),tl,it,nl,Il,a0=Yt(()=>{"use strict";tl=require("node:os"),it=rr(),Cl(),s0(),nl=()=>{if((typeof it.env.wasm.initTimeout!="number"||it.env.wasm.initTimeout<0)&&(it.env.wasm.initTimeout=0),typeof it.env.wasm.simd!="boolean"&&(it.env.wasm.simd=!0),typeof it.env.wasm.proxy!="boolean"&&(it.env.wasm.proxy=!1),typeof it.env.wasm.trace!="boolean"&&(it.env.wasm.trace=!1),typeof it.env.wasm.numThreads!="number"||!Number.isInteger(it.env.wasm.numThreads)||it.env.wasm.numThreads<=0){(typeof self<"u"&&!self.crossOriginIsolated||typeof process<"u"&&process.versions&&process.versions.node)&&(it.env.wasm.numThreads=1);let n=typeof navigator>"u"?(0,tl.cpus)().length:navigator.hardwareConcurrency;it.env.wasm.numThreads=Math.min(4,Math.ceil((n||1)/2))}},Il=class{async init(n){nl(),await bl(),await xl(n)}async createInferenceSessionHandler(n,r){let s=new Sl;return await s.loadModel(n,r),Promise.resolve(s)}}}),Pl={};rl(Pl,{wasmBackend:()=>kl});var kl,o0=Yt(()=>{"use strict";a0(),kl=new Il}),Uo={};rl(Uo,{default:()=>c0});Bo.exports=sl(Uo);Qy(Uo,rr(),Bo.exports);var u0=il(rr()),Mo=rr(),f0="1.17.0",c0=u0;{let n=(o0(),sl(Pl)).wasmBackend;(0,Mo.registerBackend)("cpu",n,10),(0,Mo.registerBackend)("wasm",n,10)}Object.defineProperty(Mo.env.versions,"web",{value:f0,enumerable:!0})});var Zl=er(vc(),1),fw=er($r(),1),cw=er($r(),1),lw=er($r(),1),dw=er($r(),1),Jt=er(Ml(),1);var pe;(function(n){n.assertEqual=o=>o;function r(o){}n.assertIs=r;function s(o){throw new Error}n.assertNever=s,n.arrayToEnum=o=>{let f={};for(let h of o)f[h]=h;return f},n.getValidEnumValues=o=>{let f=n.objectKeys(o).filter(g=>typeof o[o[g]]!="number"),h={};for(let g of f)h[g]=o[g];return n.objectValues(h)},n.objectValues=o=>n.objectKeys(o).map(function(f){return o[f]}),n.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{let f=[];for(let h in o)Object.prototype.hasOwnProperty.call(o,h)&&f.push(h);return f},n.find=(o,f)=>{for(let h of o)if(f(h))return h},n.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&isFinite(o)&&Math.floor(o)===o;function u(o,f=" | "){return o.map(h=>typeof h=="string"?`'${h}'`:h).join(f)}n.joinValues=u,n.jsonStringifyReplacer=(o,f)=>typeof f=="bigint"?f.toString():f})(pe||(pe={}));var Fo;(function(n){n.mergeShapes=(r,s)=>({...r,...s})})(Fo||(Fo={}));var F=pe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Fn=n=>{switch(typeof n){case"undefined":return F.undefined;case"string":return F.string;case"number":return isNaN(n)?F.nan:F.number;case"boolean":return F.boolean;case"function":return F.function;case"bigint":return F.bigint;case"symbol":return F.symbol;case"object":return Array.isArray(n)?F.array:n===null?F.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?F.promise:typeof Map<"u"&&n instanceof Map?F.map:typeof Set<"u"&&n instanceof Set?F.set:typeof Date<"u"&&n instanceof Date?F.date:F.object;default:return F.unknown}},N=pe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),l0=n=>JSON.stringify(n,null,2).replace(/"([^"]+)":/g,"$1:"),At=class extends Error{constructor(r){super(),this.issues=[],this.addIssue=u=>{this.issues=[...this.issues,u]},this.addIssues=(u=[])=>{this.issues=[...this.issues,...u]};let s=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,s):this.__proto__=s,this.name="ZodError",this.issues=r}get errors(){return this.issues}format(r){let s=r||function(f){return f.message},u={_errors:[]},o=f=>{for(let h of f.issues)if(h.code==="invalid_union")h.unionErrors.map(o);else if(h.code==="invalid_return_type")o(h.returnTypeError);else if(h.code==="invalid_arguments")o(h.argumentsError);else if(h.path.length===0)u._errors.push(s(h));else{let g=u,b=0;for(;b<h.path.length;){let v=h.path[b];b===h.path.length-1?(g[v]=g[v]||{_errors:[]},g[v]._errors.push(s(h))):g[v]=g[v]||{_errors:[]},g=g[v],b++}}};return o(this),u}toString(){return this.message}get message(){return JSON.stringify(this.issues,pe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(r=s=>s.message){let s={},u=[];for(let o of this.issues)o.path.length>0?(s[o.path[0]]=s[o.path[0]]||[],s[o.path[0]].push(r(o))):u.push(r(o));return{formErrors:u,fieldErrors:s}}get formErrors(){return this.flatten()}};At.create=n=>new At(n);var Ei=(n,r)=>{let s;switch(n.code){case N.invalid_type:n.received===F.undefined?s="Required":s=`Expected ${n.expected}, received ${n.received}`;break;case N.invalid_literal:s=`Invalid literal value, expected ${JSON.stringify(n.expected,pe.jsonStringifyReplacer)}`;break;case N.unrecognized_keys:s=`Unrecognized key(s) in object: ${pe.joinValues(n.keys,", ")}`;break;case N.invalid_union:s="Invalid input";break;case N.invalid_union_discriminator:s=`Invalid discriminator value. Expected ${pe.joinValues(n.options)}`;break;case N.invalid_enum_value:s=`Invalid enum value. Expected ${pe.joinValues(n.options)}, received '${n.received}'`;break;case N.invalid_arguments:s="Invalid function arguments";break;case N.invalid_return_type:s="Invalid function return type";break;case N.invalid_date:s="Invalid date";break;case N.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(s=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(s=`${s} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?s=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?s=`Invalid input: must end with "${n.validation.endsWith}"`:pe.assertNever(n.validation):n.validation!=="regex"?s=`Invalid ${n.validation}`:s="Invalid";break;case N.too_small:n.type==="array"?s=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?s=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?s=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?s=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:s="Invalid input";break;case N.too_big:n.type==="array"?s=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?s=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?s=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?s=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?s=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:s="Invalid input";break;case N.custom:s="Invalid input";break;case N.invalid_intersection_types:s="Intersection results could not be merged";break;case N.not_multiple_of:s=`Number must be a multiple of ${n.multipleOf}`;break;case N.not_finite:s="Number must be finite";break;default:s=r.defaultError,pe.assertNever(n)}return{message:s}},Ul=Ei;function d0(n){Ul=n}function Xs(){return Ul}var Qs=n=>{let{data:r,path:s,errorMaps:u,issueData:o}=n,f=[...s,...o.path||[]],h={...o,path:f},g="",b=u.filter(v=>!!v).slice().reverse();for(let v of b)g=v(h,{data:r,defaultError:g}).message;return{...o,path:f,message:o.message||g}},h0=[];function j(n,r){let s=Qs({issueData:r,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Xs(),Ei].filter(u=>!!u)});n.common.issues.push(s)}var Je=class n{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(r,s){let u=[];for(let o of s){if(o.status==="aborted")return ee;o.status==="dirty"&&r.dirty(),u.push(o.value)}return{status:r.value,value:u}}static async mergeObjectAsync(r,s){let u=[];for(let o of s)u.push({key:await o.key,value:await o.value});return n.mergeObjectSync(r,u)}static mergeObjectSync(r,s){let u={};for(let o of s){let{key:f,value:h}=o;if(f.status==="aborted"||h.status==="aborted")return ee;f.status==="dirty"&&r.dirty(),h.status==="dirty"&&r.dirty(),f.value!=="__proto__"&&(typeof h.value<"u"||o.alwaysSet)&&(u[f.value]=h.value)}return{status:r.value,value:u}}},ee=Object.freeze({status:"aborted"}),Bl=n=>({status:"dirty",value:n}),st=n=>({status:"valid",value:n}),$o=n=>n.status==="aborted",Wo=n=>n.status==="dirty",Oi=n=>n.status==="valid",ea=n=>typeof Promise<"u"&&n instanceof Promise,z;(function(n){n.errToObj=r=>typeof r=="string"?{message:r}:r||{},n.toString=r=>typeof r=="string"?r:r?.message})(z||(z={}));var Ft=class{constructor(r,s,u,o){this._cachedPath=[],this.parent=r,this.data=s,this._path=u,this._key=o}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Ll=(n,r)=>{if(Oi(r))return{success:!0,data:r.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let s=new At(n.common.issues);return this._error=s,this._error}}};function re(n){if(!n)return{};let{errorMap:r,invalid_type_error:s,required_error:u,description:o}=n;if(r&&(s||u))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return r?{errorMap:r,description:o}:{errorMap:(h,g)=>h.code!=="invalid_type"?{message:g.defaultError}:typeof g.data>"u"?{message:u??g.defaultError}:{message:s??g.defaultError},description:o}}var ie=class{constructor(r){this.spa=this.safeParseAsync,this._def=r,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(r){return Fn(r.data)}_getOrReturnCtx(r,s){return s||{common:r.parent.common,data:r.data,parsedType:Fn(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}_processInputParams(r){return{status:new Je,ctx:{common:r.parent.common,data:r.data,parsedType:Fn(r.data),schemaErrorMap:this._def.errorMap,path:r.path,parent:r.parent}}}_parseSync(r){let s=this._parse(r);if(ea(s))throw new Error("Synchronous parse encountered promise.");return s}_parseAsync(r){let s=this._parse(r);return Promise.resolve(s)}parse(r,s){let u=this.safeParse(r,s);if(u.success)return u.data;throw u.error}safeParse(r,s){var u;let o={common:{issues:[],async:(u=s?.async)!==null&&u!==void 0?u:!1,contextualErrorMap:s?.errorMap},path:s?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:Fn(r)},f=this._parseSync({data:r,path:o.path,parent:o});return Ll(o,f)}async parseAsync(r,s){let u=await this.safeParseAsync(r,s);if(u.success)return u.data;throw u.error}async safeParseAsync(r,s){let u={common:{issues:[],contextualErrorMap:s?.errorMap,async:!0},path:s?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:r,parsedType:Fn(r)},o=this._parse({data:r,path:u.path,parent:u}),f=await(ea(o)?o:Promise.resolve(o));return Ll(u,f)}refine(r,s){let u=o=>typeof s=="string"||typeof s>"u"?{message:s}:typeof s=="function"?s(o):s;return this._refinement((o,f)=>{let h=r(o),g=()=>f.addIssue({code:N.custom,...u(o)});return typeof Promise<"u"&&h instanceof Promise?h.then(b=>b?!0:(g(),!1)):h?!0:(g(),!1)})}refinement(r,s){return this._refinement((u,o)=>r(u)?!0:(o.addIssue(typeof s=="function"?s(u,o):s),!1))}_refinement(r){return new Et({schema:this,typeName:J.ZodEffects,effect:{type:"refinement",refinement:r}})}superRefine(r){return this._refinement(r)}optional(){return Vt.create(this,this._def)}nullable(){return Tn.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return xn.create(this,this._def)}promise(){return jn.create(this,this._def)}or(r){return lr.create([this,r],this._def)}and(r){return dr.create(this,r,this._def)}transform(r){return new Et({...re(this._def),schema:this,typeName:J.ZodEffects,effect:{type:"transform",transform:r}})}default(r){let s=typeof r=="function"?r:()=>r;return new vr({...re(this._def),innerType:this,defaultValue:s,typeName:J.ZodDefault})}brand(){return new ia({typeName:J.ZodBranded,type:this,...re(this._def)})}catch(r){let s=typeof r=="function"?r:()=>r;return new Kr({...re(this._def),innerType:this,catchValue:s,typeName:J.ZodCatch})}describe(r){let s=this.constructor;return new s({...this._def,description:r})}pipe(r){return Ri.create(this,r)}readonly(){return Xr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},p0=/^c[^\s-]{8,}$/i,g0=/^[a-z][a-z0-9]*$/,m0=/^[0-9A-HJKMNP-TV-Z]{26}$/,v0=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,_0=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,y0="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Do,w0=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,b0=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,x0=n=>n.precision?n.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${n.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${n.precision}}Z$`):n.precision===0?n.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):n.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function T0(n,r){return!!((r==="v4"||!r)&&w0.test(n)||(r==="v6"||!r)&&b0.test(n))}var $n=class n extends ie{_parse(r){if(this._def.coerce&&(r.data=String(r.data)),this._getType(r)!==F.string){let f=this._getOrReturnCtx(r);return j(f,{code:N.invalid_type,expected:F.string,received:f.parsedType}),ee}let u=new Je,o;for(let f of this._def.checks)if(f.kind==="min")r.data.length<f.value&&(o=this._getOrReturnCtx(r,o),j(o,{code:N.too_small,minimum:f.value,type:"string",inclusive:!0,exact:!1,message:f.message}),u.dirty());else if(f.kind==="max")r.data.length>f.value&&(o=this._getOrReturnCtx(r,o),j(o,{code:N.too_big,maximum:f.value,type:"string",inclusive:!0,exact:!1,message:f.message}),u.dirty());else if(f.kind==="length"){let h=r.data.length>f.value,g=r.data.length<f.value;(h||g)&&(o=this._getOrReturnCtx(r,o),h?j(o,{code:N.too_big,maximum:f.value,type:"string",inclusive:!0,exact:!0,message:f.message}):g&&j(o,{code:N.too_small,minimum:f.value,type:"string",inclusive:!0,exact:!0,message:f.message}),u.dirty())}else if(f.kind==="email")_0.test(r.data)||(o=this._getOrReturnCtx(r,o),j(o,{validation:"email",code:N.invalid_string,message:f.message}),u.dirty());else if(f.kind==="emoji")Do||(Do=new RegExp(y0,"u")),Do.test(r.data)||(o=this._getOrReturnCtx(r,o),j(o,{validation:"emoji",code:N.invalid_string,message:f.message}),u.dirty());else if(f.kind==="uuid")v0.test(r.data)||(o=this._getOrReturnCtx(r,o),j(o,{validation:"uuid",code:N.invalid_string,message:f.message}),u.dirty());else if(f.kind==="cuid")p0.test(r.data)||(o=this._getOrReturnCtx(r,o),j(o,{validation:"cuid",code:N.invalid_string,message:f.message}),u.dirty());else if(f.kind==="cuid2")g0.test(r.data)||(o=this._getOrReturnCtx(r,o),j(o,{validation:"cuid2",code:N.invalid_string,message:f.message}),u.dirty());else if(f.kind==="ulid")m0.test(r.data)||(o=this._getOrReturnCtx(r,o),j(o,{validation:"ulid",code:N.invalid_string,message:f.message}),u.dirty());else if(f.kind==="url")try{new URL(r.data)}catch{o=this._getOrReturnCtx(r,o),j(o,{validation:"url",code:N.invalid_string,message:f.message}),u.dirty()}else f.kind==="regex"?(f.regex.lastIndex=0,f.regex.test(r.data)||(o=this._getOrReturnCtx(r,o),j(o,{validation:"regex",code:N.invalid_string,message:f.message}),u.dirty())):f.kind==="trim"?r.data=r.data.trim():f.kind==="includes"?r.data.includes(f.value,f.position)||(o=this._getOrReturnCtx(r,o),j(o,{code:N.invalid_string,validation:{includes:f.value,position:f.position},message:f.message}),u.dirty()):f.kind==="toLowerCase"?r.data=r.data.toLowerCase():f.kind==="toUpperCase"?r.data=r.data.toUpperCase():f.kind==="startsWith"?r.data.startsWith(f.value)||(o=this._getOrReturnCtx(r,o),j(o,{code:N.invalid_string,validation:{startsWith:f.value},message:f.message}),u.dirty()):f.kind==="endsWith"?r.data.endsWith(f.value)||(o=this._getOrReturnCtx(r,o),j(o,{code:N.invalid_string,validation:{endsWith:f.value},message:f.message}),u.dirty()):f.kind==="datetime"?x0(f).test(r.data)||(o=this._getOrReturnCtx(r,o),j(o,{code:N.invalid_string,validation:"datetime",message:f.message}),u.dirty()):f.kind==="ip"?T0(r.data,f.version)||(o=this._getOrReturnCtx(r,o),j(o,{validation:"ip",code:N.invalid_string,message:f.message}),u.dirty()):pe.assertNever(f);return{status:u.value,value:r.data}}_regex(r,s,u){return this.refinement(o=>r.test(o),{validation:s,code:N.invalid_string,...z.errToObj(u)})}_addCheck(r){return new n({...this._def,checks:[...this._def.checks,r]})}email(r){return this._addCheck({kind:"email",...z.errToObj(r)})}url(r){return this._addCheck({kind:"url",...z.errToObj(r)})}emoji(r){return this._addCheck({kind:"emoji",...z.errToObj(r)})}uuid(r){return this._addCheck({kind:"uuid",...z.errToObj(r)})}cuid(r){return this._addCheck({kind:"cuid",...z.errToObj(r)})}cuid2(r){return this._addCheck({kind:"cuid2",...z.errToObj(r)})}ulid(r){return this._addCheck({kind:"ulid",...z.errToObj(r)})}ip(r){return this._addCheck({kind:"ip",...z.errToObj(r)})}datetime(r){var s;return typeof r=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:r}):this._addCheck({kind:"datetime",precision:typeof r?.precision>"u"?null:r?.precision,offset:(s=r?.offset)!==null&&s!==void 0?s:!1,...z.errToObj(r?.message)})}regex(r,s){return this._addCheck({kind:"regex",regex:r,...z.errToObj(s)})}includes(r,s){return this._addCheck({kind:"includes",value:r,position:s?.position,...z.errToObj(s?.message)})}startsWith(r,s){return this._addCheck({kind:"startsWith",value:r,...z.errToObj(s)})}endsWith(r,s){return this._addCheck({kind:"endsWith",value:r,...z.errToObj(s)})}min(r,s){return this._addCheck({kind:"min",value:r,...z.errToObj(s)})}max(r,s){return this._addCheck({kind:"max",value:r,...z.errToObj(s)})}length(r,s){return this._addCheck({kind:"length",value:r,...z.errToObj(s)})}nonempty(r){return this.min(1,z.errToObj(r))}trim(){return new n({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new n({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new n({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(r=>r.kind==="datetime")}get isEmail(){return!!this._def.checks.find(r=>r.kind==="email")}get isURL(){return!!this._def.checks.find(r=>r.kind==="url")}get isEmoji(){return!!this._def.checks.find(r=>r.kind==="emoji")}get isUUID(){return!!this._def.checks.find(r=>r.kind==="uuid")}get isCUID(){return!!this._def.checks.find(r=>r.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(r=>r.kind==="cuid2")}get isULID(){return!!this._def.checks.find(r=>r.kind==="ulid")}get isIP(){return!!this._def.checks.find(r=>r.kind==="ip")}get minLength(){let r=null;for(let s of this._def.checks)s.kind==="min"&&(r===null||s.value>r)&&(r=s.value);return r}get maxLength(){let r=null;for(let s of this._def.checks)s.kind==="max"&&(r===null||s.value<r)&&(r=s.value);return r}};$n.create=n=>{var r;return new $n({checks:[],typeName:J.ZodString,coerce:(r=n?.coerce)!==null&&r!==void 0?r:!1,...re(n)})};function A0(n,r){let s=(n.toString().split(".")[1]||"").length,u=(r.toString().split(".")[1]||"").length,o=s>u?s:u,f=parseInt(n.toFixed(o).replace(".","")),h=parseInt(r.toFixed(o).replace(".",""));return f%h/Math.pow(10,o)}var sr=class n extends ie{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(r){if(this._def.coerce&&(r.data=Number(r.data)),this._getType(r)!==F.number){let f=this._getOrReturnCtx(r);return j(f,{code:N.invalid_type,expected:F.number,received:f.parsedType}),ee}let u,o=new Je;for(let f of this._def.checks)f.kind==="int"?pe.isInteger(r.data)||(u=this._getOrReturnCtx(r,u),j(u,{code:N.invalid_type,expected:"integer",received:"float",message:f.message}),o.dirty()):f.kind==="min"?(f.inclusive?r.data<f.value:r.data<=f.value)&&(u=this._getOrReturnCtx(r,u),j(u,{code:N.too_small,minimum:f.value,type:"number",inclusive:f.inclusive,exact:!1,message:f.message}),o.dirty()):f.kind==="max"?(f.inclusive?r.data>f.value:r.data>=f.value)&&(u=this._getOrReturnCtx(r,u),j(u,{code:N.too_big,maximum:f.value,type:"number",inclusive:f.inclusive,exact:!1,message:f.message}),o.dirty()):f.kind==="multipleOf"?A0(r.data,f.value)!==0&&(u=this._getOrReturnCtx(r,u),j(u,{code:N.not_multiple_of,multipleOf:f.value,message:f.message}),o.dirty()):f.kind==="finite"?Number.isFinite(r.data)||(u=this._getOrReturnCtx(r,u),j(u,{code:N.not_finite,message:f.message}),o.dirty()):pe.assertNever(f);return{status:o.value,value:r.data}}gte(r,s){return this.setLimit("min",r,!0,z.toString(s))}gt(r,s){return this.setLimit("min",r,!1,z.toString(s))}lte(r,s){return this.setLimit("max",r,!0,z.toString(s))}lt(r,s){return this.setLimit("max",r,!1,z.toString(s))}setLimit(r,s,u,o){return new n({...this._def,checks:[...this._def.checks,{kind:r,value:s,inclusive:u,message:z.toString(o)}]})}_addCheck(r){return new n({...this._def,checks:[...this._def.checks,r]})}int(r){return this._addCheck({kind:"int",message:z.toString(r)})}positive(r){return this._addCheck({kind:"min",value:0,inclusive:!1,message:z.toString(r)})}negative(r){return this._addCheck({kind:"max",value:0,inclusive:!1,message:z.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:0,inclusive:!0,message:z.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:0,inclusive:!0,message:z.toString(r)})}multipleOf(r,s){return this._addCheck({kind:"multipleOf",value:r,message:z.toString(s)})}finite(r){return this._addCheck({kind:"finite",message:z.toString(r)})}safe(r){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:z.toString(r)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:z.toString(r)})}get minValue(){let r=null;for(let s of this._def.checks)s.kind==="min"&&(r===null||s.value>r)&&(r=s.value);return r}get maxValue(){let r=null;for(let s of this._def.checks)s.kind==="max"&&(r===null||s.value<r)&&(r=s.value);return r}get isInt(){return!!this._def.checks.find(r=>r.kind==="int"||r.kind==="multipleOf"&&pe.isInteger(r.value))}get isFinite(){let r=null,s=null;for(let u of this._def.checks){if(u.kind==="finite"||u.kind==="int"||u.kind==="multipleOf")return!0;u.kind==="min"?(s===null||u.value>s)&&(s=u.value):u.kind==="max"&&(r===null||u.value<r)&&(r=u.value)}return Number.isFinite(s)&&Number.isFinite(r)}};sr.create=n=>new sr({checks:[],typeName:J.ZodNumber,coerce:n?.coerce||!1,...re(n)});var ar=class n extends ie{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(r){if(this._def.coerce&&(r.data=BigInt(r.data)),this._getType(r)!==F.bigint){let f=this._getOrReturnCtx(r);return j(f,{code:N.invalid_type,expected:F.bigint,received:f.parsedType}),ee}let u,o=new Je;for(let f of this._def.checks)f.kind==="min"?(f.inclusive?r.data<f.value:r.data<=f.value)&&(u=this._getOrReturnCtx(r,u),j(u,{code:N.too_small,type:"bigint",minimum:f.value,inclusive:f.inclusive,message:f.message}),o.dirty()):f.kind==="max"?(f.inclusive?r.data>f.value:r.data>=f.value)&&(u=this._getOrReturnCtx(r,u),j(u,{code:N.too_big,type:"bigint",maximum:f.value,inclusive:f.inclusive,message:f.message}),o.dirty()):f.kind==="multipleOf"?r.data%f.value!==BigInt(0)&&(u=this._getOrReturnCtx(r,u),j(u,{code:N.not_multiple_of,multipleOf:f.value,message:f.message}),o.dirty()):pe.assertNever(f);return{status:o.value,value:r.data}}gte(r,s){return this.setLimit("min",r,!0,z.toString(s))}gt(r,s){return this.setLimit("min",r,!1,z.toString(s))}lte(r,s){return this.setLimit("max",r,!0,z.toString(s))}lt(r,s){return this.setLimit("max",r,!1,z.toString(s))}setLimit(r,s,u,o){return new n({...this._def,checks:[...this._def.checks,{kind:r,value:s,inclusive:u,message:z.toString(o)}]})}_addCheck(r){return new n({...this._def,checks:[...this._def.checks,r]})}positive(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:z.toString(r)})}negative(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:z.toString(r)})}nonpositive(r){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:z.toString(r)})}nonnegative(r){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:z.toString(r)})}multipleOf(r,s){return this._addCheck({kind:"multipleOf",value:r,message:z.toString(s)})}get minValue(){let r=null;for(let s of this._def.checks)s.kind==="min"&&(r===null||s.value>r)&&(r=s.value);return r}get maxValue(){let r=null;for(let s of this._def.checks)s.kind==="max"&&(r===null||s.value<r)&&(r=s.value);return r}};ar.create=n=>{var r;return new ar({checks:[],typeName:J.ZodBigInt,coerce:(r=n?.coerce)!==null&&r!==void 0?r:!1,...re(n)})};var or=class extends ie{_parse(r){if(this._def.coerce&&(r.data=!!r.data),this._getType(r)!==F.boolean){let u=this._getOrReturnCtx(r);return j(u,{code:N.invalid_type,expected:F.boolean,received:u.parsedType}),ee}return st(r.data)}};or.create=n=>new or({typeName:J.ZodBoolean,coerce:n?.coerce||!1,...re(n)});var ur=class n extends ie{_parse(r){if(this._def.coerce&&(r.data=new Date(r.data)),this._getType(r)!==F.date){let f=this._getOrReturnCtx(r);return j(f,{code:N.invalid_type,expected:F.date,received:f.parsedType}),ee}if(isNaN(r.data.getTime())){let f=this._getOrReturnCtx(r);return j(f,{code:N.invalid_date}),ee}let u=new Je,o;for(let f of this._def.checks)f.kind==="min"?r.data.getTime()<f.value&&(o=this._getOrReturnCtx(r,o),j(o,{code:N.too_small,message:f.message,inclusive:!0,exact:!1,minimum:f.value,type:"date"}),u.dirty()):f.kind==="max"?r.data.getTime()>f.value&&(o=this._getOrReturnCtx(r,o),j(o,{code:N.too_big,message:f.message,inclusive:!0,exact:!1,maximum:f.value,type:"date"}),u.dirty()):pe.assertNever(f);return{status:u.value,value:new Date(r.data.getTime())}}_addCheck(r){return new n({...this._def,checks:[...this._def.checks,r]})}min(r,s){return this._addCheck({kind:"min",value:r.getTime(),message:z.toString(s)})}max(r,s){return this._addCheck({kind:"max",value:r.getTime(),message:z.toString(s)})}get minDate(){let r=null;for(let s of this._def.checks)s.kind==="min"&&(r===null||s.value>r)&&(r=s.value);return r!=null?new Date(r):null}get maxDate(){let r=null;for(let s of this._def.checks)s.kind==="max"&&(r===null||s.value<r)&&(r=s.value);return r!=null?new Date(r):null}};ur.create=n=>new ur({checks:[],coerce:n?.coerce||!1,typeName:J.ZodDate,...re(n)});var Hr=class extends ie{_parse(r){if(this._getType(r)!==F.symbol){let u=this._getOrReturnCtx(r);return j(u,{code:N.invalid_type,expected:F.symbol,received:u.parsedType}),ee}return st(r.data)}};Hr.create=n=>new Hr({typeName:J.ZodSymbol,...re(n)});var fr=class extends ie{_parse(r){if(this._getType(r)!==F.undefined){let u=this._getOrReturnCtx(r);return j(u,{code:N.invalid_type,expected:F.undefined,received:u.parsedType}),ee}return st(r.data)}};fr.create=n=>new fr({typeName:J.ZodUndefined,...re(n)});var cr=class extends ie{_parse(r){if(this._getType(r)!==F.null){let u=this._getOrReturnCtx(r);return j(u,{code:N.invalid_type,expected:F.null,received:u.parsedType}),ee}return st(r.data)}};cr.create=n=>new cr({typeName:J.ZodNull,...re(n)});var Wn=class extends ie{constructor(){super(...arguments),this._any=!0}_parse(r){return st(r.data)}};Wn.create=n=>new Wn({typeName:J.ZodAny,...re(n)});var bn=class extends ie{constructor(){super(...arguments),this._unknown=!0}_parse(r){return st(r.data)}};bn.create=n=>new bn({typeName:J.ZodUnknown,...re(n)});var Kt=class extends ie{_parse(r){let s=this._getOrReturnCtx(r);return j(s,{code:N.invalid_type,expected:F.never,received:s.parsedType}),ee}};Kt.create=n=>new Kt({typeName:J.ZodNever,...re(n)});var qr=class extends ie{_parse(r){if(this._getType(r)!==F.undefined){let u=this._getOrReturnCtx(r);return j(u,{code:N.invalid_type,expected:F.void,received:u.parsedType}),ee}return st(r.data)}};qr.create=n=>new qr({typeName:J.ZodVoid,...re(n)});var xn=class n extends ie{_parse(r){let{ctx:s,status:u}=this._processInputParams(r),o=this._def;if(s.parsedType!==F.array)return j(s,{code:N.invalid_type,expected:F.array,received:s.parsedType}),ee;if(o.exactLength!==null){let h=s.data.length>o.exactLength.value,g=s.data.length<o.exactLength.value;(h||g)&&(j(s,{code:h?N.too_big:N.too_small,minimum:g?o.exactLength.value:void 0,maximum:h?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),u.dirty())}if(o.minLength!==null&&s.data.length<o.minLength.value&&(j(s,{code:N.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),u.dirty()),o.maxLength!==null&&s.data.length>o.maxLength.value&&(j(s,{code:N.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),u.dirty()),s.common.async)return Promise.all([...s.data].map((h,g)=>o.type._parseAsync(new Ft(s,h,s.path,g)))).then(h=>Je.mergeArray(u,h));let f=[...s.data].map((h,g)=>o.type._parseSync(new Ft(s,h,s.path,g)));return Je.mergeArray(u,f)}get element(){return this._def.type}min(r,s){return new n({...this._def,minLength:{value:r,message:z.toString(s)}})}max(r,s){return new n({...this._def,maxLength:{value:r,message:z.toString(s)}})}length(r,s){return new n({...this._def,exactLength:{value:r,message:z.toString(s)}})}nonempty(r){return this.min(1,r)}};xn.create=(n,r)=>new xn({type:n,minLength:null,maxLength:null,exactLength:null,typeName:J.ZodArray,...re(r)});function zr(n){if(n instanceof gt){let r={};for(let s in n.shape){let u=n.shape[s];r[s]=Vt.create(zr(u))}return new gt({...n._def,shape:()=>r})}else return n instanceof xn?new xn({...n._def,type:zr(n.element)}):n instanceof Vt?Vt.create(zr(n.unwrap())):n instanceof Tn?Tn.create(zr(n.unwrap())):n instanceof sn?sn.create(n.items.map(r=>zr(r))):n}var gt=class n extends ie{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let r=this._def.shape(),s=pe.objectKeys(r);return this._cached={shape:r,keys:s}}_parse(r){if(this._getType(r)!==F.object){let v=this._getOrReturnCtx(r);return j(v,{code:N.invalid_type,expected:F.object,received:v.parsedType}),ee}let{status:u,ctx:o}=this._processInputParams(r),{shape:f,keys:h}=this._getCached(),g=[];if(!(this._def.catchall instanceof Kt&&this._def.unknownKeys==="strip"))for(let v in o.data)h.includes(v)||g.push(v);let b=[];for(let v of h){let O=f[v],R=o.data[v];b.push({key:{status:"valid",value:v},value:O._parse(new Ft(o,R,o.path,v)),alwaysSet:v in o.data})}if(this._def.catchall instanceof Kt){let v=this._def.unknownKeys;if(v==="passthrough")for(let O of g)b.push({key:{status:"valid",value:O},value:{status:"valid",value:o.data[O]}});else if(v==="strict")g.length>0&&(j(o,{code:N.unrecognized_keys,keys:g}),u.dirty());else if(v!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let v=this._def.catchall;for(let O of g){let R=o.data[O];b.push({key:{status:"valid",value:O},value:v._parse(new Ft(o,R,o.path,O)),alwaysSet:O in o.data})}}return o.common.async?Promise.resolve().then(async()=>{let v=[];for(let O of b){let R=await O.key;v.push({key:R,value:await O.value,alwaysSet:O.alwaysSet})}return v}).then(v=>Je.mergeObjectSync(u,v)):Je.mergeObjectSync(u,b)}get shape(){return this._def.shape()}strict(r){return z.errToObj,new n({...this._def,unknownKeys:"strict",...r!==void 0?{errorMap:(s,u)=>{var o,f,h,g;let b=(h=(f=(o=this._def).errorMap)===null||f===void 0?void 0:f.call(o,s,u).message)!==null&&h!==void 0?h:u.defaultError;return s.code==="unrecognized_keys"?{message:(g=z.errToObj(r).message)!==null&&g!==void 0?g:b}:{message:b}}}:{}})}strip(){return new n({...this._def,unknownKeys:"strip"})}passthrough(){return new n({...this._def,unknownKeys:"passthrough"})}extend(r){return new n({...this._def,shape:()=>({...this._def.shape(),...r})})}merge(r){return new n({unknownKeys:r._def.unknownKeys,catchall:r._def.catchall,shape:()=>({...this._def.shape(),...r._def.shape()}),typeName:J.ZodObject})}setKey(r,s){return this.augment({[r]:s})}catchall(r){return new n({...this._def,catchall:r})}pick(r){let s={};return pe.objectKeys(r).forEach(u=>{r[u]&&this.shape[u]&&(s[u]=this.shape[u])}),new n({...this._def,shape:()=>s})}omit(r){let s={};return pe.objectKeys(this.shape).forEach(u=>{r[u]||(s[u]=this.shape[u])}),new n({...this._def,shape:()=>s})}deepPartial(){return zr(this)}partial(r){let s={};return pe.objectKeys(this.shape).forEach(u=>{let o=this.shape[u];r&&!r[u]?s[u]=o:s[u]=o.optional()}),new n({...this._def,shape:()=>s})}required(r){let s={};return pe.objectKeys(this.shape).forEach(u=>{if(r&&!r[u])s[u]=this.shape[u];else{let f=this.shape[u];for(;f instanceof Vt;)f=f._def.innerType;s[u]=f}}),new n({...this._def,shape:()=>s})}keyof(){return Dl(pe.objectKeys(this.shape))}};gt.create=(n,r)=>new gt({shape:()=>n,unknownKeys:"strip",catchall:Kt.create(),typeName:J.ZodObject,...re(r)});gt.strictCreate=(n,r)=>new gt({shape:()=>n,unknownKeys:"strict",catchall:Kt.create(),typeName:J.ZodObject,...re(r)});gt.lazycreate=(n,r)=>new gt({shape:n,unknownKeys:"strip",catchall:Kt.create(),typeName:J.ZodObject,...re(r)});var lr=class extends ie{_parse(r){let{ctx:s}=this._processInputParams(r),u=this._def.options;function o(f){for(let g of f)if(g.result.status==="valid")return g.result;for(let g of f)if(g.result.status==="dirty")return s.common.issues.push(...g.ctx.common.issues),g.result;let h=f.map(g=>new At(g.ctx.common.issues));return j(s,{code:N.invalid_union,unionErrors:h}),ee}if(s.common.async)return Promise.all(u.map(async f=>{let h={...s,common:{...s.common,issues:[]},parent:null};return{result:await f._parseAsync({data:s.data,path:s.path,parent:h}),ctx:h}})).then(o);{let f,h=[];for(let b of u){let v={...s,common:{...s.common,issues:[]},parent:null},O=b._parseSync({data:s.data,path:s.path,parent:v});if(O.status==="valid")return O;O.status==="dirty"&&!f&&(f={result:O,ctx:v}),v.common.issues.length&&h.push(v.common.issues)}if(f)return s.common.issues.push(...f.ctx.common.issues),f.result;let g=h.map(b=>new At(b));return j(s,{code:N.invalid_union,unionErrors:g}),ee}}get options(){return this._def.options}};lr.create=(n,r)=>new lr({options:n,typeName:J.ZodUnion,...re(r)});var Js=n=>n instanceof hr?Js(n.schema):n instanceof Et?Js(n.innerType()):n instanceof pr?[n.value]:n instanceof gr?n.options:n instanceof mr?Object.keys(n.enum):n instanceof vr?Js(n._def.innerType):n instanceof fr?[void 0]:n instanceof cr?[null]:null,ta=class n extends ie{_parse(r){let{ctx:s}=this._processInputParams(r);if(s.parsedType!==F.object)return j(s,{code:N.invalid_type,expected:F.object,received:s.parsedType}),ee;let u=this.discriminator,o=s.data[u],f=this.optionsMap.get(o);return f?s.common.async?f._parseAsync({data:s.data,path:s.path,parent:s}):f._parseSync({data:s.data,path:s.path,parent:s}):(j(s,{code:N.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[u]}),ee)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(r,s,u){let o=new Map;for(let f of s){let h=Js(f.shape[r]);if(!h)throw new Error(`A discriminator value for key \`${r}\` could not be extracted from all schema options`);for(let g of h){if(o.has(g))throw new Error(`Discriminator property ${String(r)} has duplicate value ${String(g)}`);o.set(g,f)}}return new n({typeName:J.ZodDiscriminatedUnion,discriminator:r,options:s,optionsMap:o,...re(u)})}};function jo(n,r){let s=Fn(n),u=Fn(r);if(n===r)return{valid:!0,data:n};if(s===F.object&&u===F.object){let o=pe.objectKeys(r),f=pe.objectKeys(n).filter(g=>o.indexOf(g)!==-1),h={...n,...r};for(let g of f){let b=jo(n[g],r[g]);if(!b.valid)return{valid:!1};h[g]=b.data}return{valid:!0,data:h}}else if(s===F.array&&u===F.array){if(n.length!==r.length)return{valid:!1};let o=[];for(let f=0;f<n.length;f++){let h=n[f],g=r[f],b=jo(h,g);if(!b.valid)return{valid:!1};o.push(b.data)}return{valid:!0,data:o}}else return s===F.date&&u===F.date&&+n==+r?{valid:!0,data:n}:{valid:!1}}var dr=class extends ie{_parse(r){let{status:s,ctx:u}=this._processInputParams(r),o=(f,h)=>{if($o(f)||$o(h))return ee;let g=jo(f.value,h.value);return g.valid?((Wo(f)||Wo(h))&&s.dirty(),{status:s.value,value:g.data}):(j(u,{code:N.invalid_intersection_types}),ee)};return u.common.async?Promise.all([this._def.left._parseAsync({data:u.data,path:u.path,parent:u}),this._def.right._parseAsync({data:u.data,path:u.path,parent:u})]).then(([f,h])=>o(f,h)):o(this._def.left._parseSync({data:u.data,path:u.path,parent:u}),this._def.right._parseSync({data:u.data,path:u.path,parent:u}))}};dr.create=(n,r,s)=>new dr({left:n,right:r,typeName:J.ZodIntersection,...re(s)});var sn=class n extends ie{_parse(r){let{status:s,ctx:u}=this._processInputParams(r);if(u.parsedType!==F.array)return j(u,{code:N.invalid_type,expected:F.array,received:u.parsedType}),ee;if(u.data.length<this._def.items.length)return j(u,{code:N.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ee;!this._def.rest&&u.data.length>this._def.items.length&&(j(u,{code:N.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),s.dirty());let f=[...u.data].map((h,g)=>{let b=this._def.items[g]||this._def.rest;return b?b._parse(new Ft(u,h,u.path,g)):null}).filter(h=>!!h);return u.common.async?Promise.all(f).then(h=>Je.mergeArray(s,h)):Je.mergeArray(s,f)}get items(){return this._def.items}rest(r){return new n({...this._def,rest:r})}};sn.create=(n,r)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new sn({items:n,typeName:J.ZodTuple,rest:null,...re(r)})};var na=class n extends ie{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){let{status:s,ctx:u}=this._processInputParams(r);if(u.parsedType!==F.object)return j(u,{code:N.invalid_type,expected:F.object,received:u.parsedType}),ee;let o=[],f=this._def.keyType,h=this._def.valueType;for(let g in u.data)o.push({key:f._parse(new Ft(u,g,u.path,g)),value:h._parse(new Ft(u,u.data[g],u.path,g))});return u.common.async?Je.mergeObjectAsync(s,o):Je.mergeObjectSync(s,o)}get element(){return this._def.valueType}static create(r,s,u){return s instanceof ie?new n({keyType:r,valueType:s,typeName:J.ZodRecord,...re(u)}):new n({keyType:$n.create(),valueType:r,typeName:J.ZodRecord,...re(s)})}},Yr=class extends ie{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(r){let{status:s,ctx:u}=this._processInputParams(r);if(u.parsedType!==F.map)return j(u,{code:N.invalid_type,expected:F.map,received:u.parsedType}),ee;let o=this._def.keyType,f=this._def.valueType,h=[...u.data.entries()].map(([g,b],v)=>({key:o._parse(new Ft(u,g,u.path,[v,"key"])),value:f._parse(new Ft(u,b,u.path,[v,"value"]))}));if(u.common.async){let g=new Map;return Promise.resolve().then(async()=>{for(let b of h){let v=await b.key,O=await b.value;if(v.status==="aborted"||O.status==="aborted")return ee;(v.status==="dirty"||O.status==="dirty")&&s.dirty(),g.set(v.value,O.value)}return{status:s.value,value:g}})}else{let g=new Map;for(let b of h){let v=b.key,O=b.value;if(v.status==="aborted"||O.status==="aborted")return ee;(v.status==="dirty"||O.status==="dirty")&&s.dirty(),g.set(v.value,O.value)}return{status:s.value,value:g}}}};Yr.create=(n,r,s)=>new Yr({valueType:r,keyType:n,typeName:J.ZodMap,...re(s)});var Vr=class n extends ie{_parse(r){let{status:s,ctx:u}=this._processInputParams(r);if(u.parsedType!==F.set)return j(u,{code:N.invalid_type,expected:F.set,received:u.parsedType}),ee;let o=this._def;o.minSize!==null&&u.data.size<o.minSize.value&&(j(u,{code:N.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),s.dirty()),o.maxSize!==null&&u.data.size>o.maxSize.value&&(j(u,{code:N.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),s.dirty());let f=this._def.valueType;function h(b){let v=new Set;for(let O of b){if(O.status==="aborted")return ee;O.status==="dirty"&&s.dirty(),v.add(O.value)}return{status:s.value,value:v}}let g=[...u.data.values()].map((b,v)=>f._parse(new Ft(u,b,u.path,v)));return u.common.async?Promise.all(g).then(b=>h(b)):h(g)}min(r,s){return new n({...this._def,minSize:{value:r,message:z.toString(s)}})}max(r,s){return new n({...this._def,maxSize:{value:r,message:z.toString(s)}})}size(r,s){return this.min(r,s).max(r,s)}nonempty(r){return this.min(1,r)}};Vr.create=(n,r)=>new Vr({valueType:n,minSize:null,maxSize:null,typeName:J.ZodSet,...re(r)});var ra=class n extends ie{constructor(){super(...arguments),this.validate=this.implement}_parse(r){let{ctx:s}=this._processInputParams(r);if(s.parsedType!==F.function)return j(s,{code:N.invalid_type,expected:F.function,received:s.parsedType}),ee;function u(g,b){return Qs({data:g,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,Xs(),Ei].filter(v=>!!v),issueData:{code:N.invalid_arguments,argumentsError:b}})}function o(g,b){return Qs({data:g,path:s.path,errorMaps:[s.common.contextualErrorMap,s.schemaErrorMap,Xs(),Ei].filter(v=>!!v),issueData:{code:N.invalid_return_type,returnTypeError:b}})}let f={errorMap:s.common.contextualErrorMap},h=s.data;if(this._def.returns instanceof jn){let g=this;return st(async function(...b){let v=new At([]),O=await g._def.args.parseAsync(b,f).catch(L=>{throw v.addIssue(u(b,L)),v}),R=await Reflect.apply(h,this,O);return await g._def.returns._def.type.parseAsync(R,f).catch(L=>{throw v.addIssue(o(R,L)),v})})}else{let g=this;return st(function(...b){let v=g._def.args.safeParse(b,f);if(!v.success)throw new At([u(b,v.error)]);let O=Reflect.apply(h,this,v.data),R=g._def.returns.safeParse(O,f);if(!R.success)throw new At([o(O,R.error)]);return R.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...r){return new n({...this._def,args:sn.create(r).rest(bn.create())})}returns(r){return new n({...this._def,returns:r})}implement(r){return this.parse(r)}strictImplement(r){return this.parse(r)}static create(r,s,u){return new n({args:r||sn.create([]).rest(bn.create()),returns:s||bn.create(),typeName:J.ZodFunction,...re(u)})}},hr=class extends ie{get schema(){return this._def.getter()}_parse(r){let{ctx:s}=this._processInputParams(r);return this._def.getter()._parse({data:s.data,path:s.path,parent:s})}};hr.create=(n,r)=>new hr({getter:n,typeName:J.ZodLazy,...re(r)});var pr=class extends ie{_parse(r){if(r.data!==this._def.value){let s=this._getOrReturnCtx(r);return j(s,{received:s.data,code:N.invalid_literal,expected:this._def.value}),ee}return{status:"valid",value:r.data}}get value(){return this._def.value}};pr.create=(n,r)=>new pr({value:n,typeName:J.ZodLiteral,...re(r)});function Dl(n,r){return new gr({values:n,typeName:J.ZodEnum,...re(r)})}var gr=class n extends ie{_parse(r){if(typeof r.data!="string"){let s=this._getOrReturnCtx(r),u=this._def.values;return j(s,{expected:pe.joinValues(u),received:s.parsedType,code:N.invalid_type}),ee}if(this._def.values.indexOf(r.data)===-1){let s=this._getOrReturnCtx(r),u=this._def.values;return j(s,{received:s.data,code:N.invalid_enum_value,options:u}),ee}return st(r.data)}get options(){return this._def.values}get enum(){let r={};for(let s of this._def.values)r[s]=s;return r}get Values(){let r={};for(let s of this._def.values)r[s]=s;return r}get Enum(){let r={};for(let s of this._def.values)r[s]=s;return r}extract(r){return n.create(r)}exclude(r){return n.create(this.options.filter(s=>!r.includes(s)))}};gr.create=Dl;var mr=class extends ie{_parse(r){let s=pe.getValidEnumValues(this._def.values),u=this._getOrReturnCtx(r);if(u.parsedType!==F.string&&u.parsedType!==F.number){let o=pe.objectValues(s);return j(u,{expected:pe.joinValues(o),received:u.parsedType,code:N.invalid_type}),ee}if(s.indexOf(r.data)===-1){let o=pe.objectValues(s);return j(u,{received:u.data,code:N.invalid_enum_value,options:o}),ee}return st(r.data)}get enum(){return this._def.values}};mr.create=(n,r)=>new mr({values:n,typeName:J.ZodNativeEnum,...re(r)});var jn=class extends ie{unwrap(){return this._def.type}_parse(r){let{ctx:s}=this._processInputParams(r);if(s.parsedType!==F.promise&&s.common.async===!1)return j(s,{code:N.invalid_type,expected:F.promise,received:s.parsedType}),ee;let u=s.parsedType===F.promise?s.data:Promise.resolve(s.data);return st(u.then(o=>this._def.type.parseAsync(o,{path:s.path,errorMap:s.common.contextualErrorMap})))}};jn.create=(n,r)=>new jn({type:n,typeName:J.ZodPromise,...re(r)});var Et=class extends ie{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===J.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(r){let{status:s,ctx:u}=this._processInputParams(r),o=this._def.effect||null,f={addIssue:h=>{j(u,h),h.fatal?s.abort():s.dirty()},get path(){return u.path}};if(f.addIssue=f.addIssue.bind(f),o.type==="preprocess"){let h=o.transform(u.data,f);return u.common.issues.length?{status:"dirty",value:u.data}:u.common.async?Promise.resolve(h).then(g=>this._def.schema._parseAsync({data:g,path:u.path,parent:u})):this._def.schema._parseSync({data:h,path:u.path,parent:u})}if(o.type==="refinement"){let h=g=>{let b=o.refinement(g,f);if(u.common.async)return Promise.resolve(b);if(b instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return g};if(u.common.async===!1){let g=this._def.schema._parseSync({data:u.data,path:u.path,parent:u});return g.status==="aborted"?ee:(g.status==="dirty"&&s.dirty(),h(g.value),{status:s.value,value:g.value})}else return this._def.schema._parseAsync({data:u.data,path:u.path,parent:u}).then(g=>g.status==="aborted"?ee:(g.status==="dirty"&&s.dirty(),h(g.value).then(()=>({status:s.value,value:g.value}))))}if(o.type==="transform")if(u.common.async===!1){let h=this._def.schema._parseSync({data:u.data,path:u.path,parent:u});if(!Oi(h))return h;let g=o.transform(h.value,f);if(g instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:s.value,value:g}}else return this._def.schema._parseAsync({data:u.data,path:u.path,parent:u}).then(h=>Oi(h)?Promise.resolve(o.transform(h.value,f)).then(g=>({status:s.value,value:g})):h);pe.assertNever(o)}};Et.create=(n,r,s)=>new Et({schema:n,typeName:J.ZodEffects,effect:r,...re(s)});Et.createWithPreprocess=(n,r,s)=>new Et({schema:r,effect:{type:"preprocess",transform:n},typeName:J.ZodEffects,...re(s)});var Vt=class extends ie{_parse(r){return this._getType(r)===F.undefined?st(void 0):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}};Vt.create=(n,r)=>new Vt({innerType:n,typeName:J.ZodOptional,...re(r)});var Tn=class extends ie{_parse(r){return this._getType(r)===F.null?st(null):this._def.innerType._parse(r)}unwrap(){return this._def.innerType}};Tn.create=(n,r)=>new Tn({innerType:n,typeName:J.ZodNullable,...re(r)});var vr=class extends ie{_parse(r){let{ctx:s}=this._processInputParams(r),u=s.data;return s.parsedType===F.undefined&&(u=this._def.defaultValue()),this._def.innerType._parse({data:u,path:s.path,parent:s})}removeDefault(){return this._def.innerType}};vr.create=(n,r)=>new vr({innerType:n,typeName:J.ZodDefault,defaultValue:typeof r.default=="function"?r.default:()=>r.default,...re(r)});var Kr=class extends ie{_parse(r){let{ctx:s}=this._processInputParams(r),u={...s,common:{...s.common,issues:[]}},o=this._def.innerType._parse({data:u.data,path:u.path,parent:{...u}});return ea(o)?o.then(f=>({status:"valid",value:f.status==="valid"?f.value:this._def.catchValue({get error(){return new At(u.common.issues)},input:u.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new At(u.common.issues)},input:u.data})}}removeCatch(){return this._def.innerType}};Kr.create=(n,r)=>new Kr({innerType:n,typeName:J.ZodCatch,catchValue:typeof r.catch=="function"?r.catch:()=>r.catch,...re(r)});var Jr=class extends ie{_parse(r){if(this._getType(r)!==F.nan){let u=this._getOrReturnCtx(r);return j(u,{code:N.invalid_type,expected:F.nan,received:u.parsedType}),ee}return{status:"valid",value:r.data}}};Jr.create=n=>new Jr({typeName:J.ZodNaN,...re(n)});var E0=Symbol("zod_brand"),ia=class extends ie{_parse(r){let{ctx:s}=this._processInputParams(r),u=s.data;return this._def.type._parse({data:u,path:s.path,parent:s})}unwrap(){return this._def.type}},Ri=class n extends ie{_parse(r){let{status:s,ctx:u}=this._processInputParams(r);if(u.common.async)return(async()=>{let f=await this._def.in._parseAsync({data:u.data,path:u.path,parent:u});return f.status==="aborted"?ee:f.status==="dirty"?(s.dirty(),Bl(f.value)):this._def.out._parseAsync({data:f.value,path:u.path,parent:u})})();{let o=this._def.in._parseSync({data:u.data,path:u.path,parent:u});return o.status==="aborted"?ee:o.status==="dirty"?(s.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:u.path,parent:u})}}static create(r,s){return new n({in:r,out:s,typeName:J.ZodPipeline})}},Xr=class extends ie{_parse(r){let s=this._def.innerType._parse(r);return Oi(s)&&(s.value=Object.freeze(s.value)),s}};Xr.create=(n,r)=>new Xr({innerType:n,typeName:J.ZodReadonly,...re(r)});var Fl=(n,r={},s)=>n?Wn.create().superRefine((u,o)=>{var f,h;if(!n(u)){let g=typeof r=="function"?r(u):typeof r=="string"?{message:r}:r,b=(h=(f=g.fatal)!==null&&f!==void 0?f:s)!==null&&h!==void 0?h:!0,v=typeof g=="string"?{message:g}:g;o.addIssue({code:"custom",...v,fatal:b})}}):Wn.create(),O0={object:gt.lazycreate},J;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(J||(J={}));var R0=(n,r={message:`Input not instance of ${n.name}`})=>Fl(s=>s instanceof n,r),$l=$n.create,Wl=sr.create,C0=Jr.create,S0=ar.create,jl=or.create,I0=ur.create,P0=Hr.create,k0=fr.create,M0=cr.create,L0=Wn.create,N0=bn.create,U0=Kt.create,B0=qr.create,D0=xn.create,F0=gt.create,$0=gt.strictCreate,W0=lr.create,j0=ta.create,G0=dr.create,Z0=sn.create,z0=na.create,H0=Yr.create,q0=Vr.create,Y0=ra.create,V0=hr.create,K0=pr.create,J0=gr.create,X0=mr.create,Q0=jn.create,Nl=Et.create,ew=Vt.create,tw=Tn.create,nw=Et.createWithPreprocess,rw=Ri.create,iw=()=>$l().optional(),sw=()=>Wl().optional(),aw=()=>jl().optional(),ow={string:n=>$n.create({...n,coerce:!0}),number:n=>sr.create({...n,coerce:!0}),boolean:n=>or.create({...n,coerce:!0}),bigint:n=>ar.create({...n,coerce:!0}),date:n=>ur.create({...n,coerce:!0})},uw=ee,at=Object.freeze({__proto__:null,defaultErrorMap:Ei,setErrorMap:d0,getErrorMap:Xs,makeIssue:Qs,EMPTY_PATH:h0,addIssueToContext:j,ParseStatus:Je,INVALID:ee,DIRTY:Bl,OK:st,isAborted:$o,isDirty:Wo,isValid:Oi,isAsync:ea,get util(){return pe},get objectUtil(){return Fo},ZodParsedType:F,getParsedType:Fn,ZodType:ie,ZodString:$n,ZodNumber:sr,ZodBigInt:ar,ZodBoolean:or,ZodDate:ur,ZodSymbol:Hr,ZodUndefined:fr,ZodNull:cr,ZodAny:Wn,ZodUnknown:bn,ZodNever:Kt,ZodVoid:qr,ZodArray:xn,ZodObject:gt,ZodUnion:lr,ZodDiscriminatedUnion:ta,ZodIntersection:dr,ZodTuple:sn,ZodRecord:na,ZodMap:Yr,ZodSet:Vr,ZodFunction:ra,ZodLazy:hr,ZodLiteral:pr,ZodEnum:gr,ZodNativeEnum:mr,ZodPromise:jn,ZodEffects:Et,ZodTransformer:Et,ZodOptional:Vt,ZodNullable:Tn,ZodDefault:vr,ZodCatch:Kr,ZodNaN:Jr,BRAND:E0,ZodBranded:ia,ZodPipeline:Ri,ZodReadonly:Xr,custom:Fl,Schema:ie,ZodSchema:ie,late:O0,get ZodFirstPartyTypeKind(){return J},coerce:ow,any:L0,array:D0,bigint:S0,boolean:jl,date:I0,discriminatedUnion:j0,effect:Nl,enum:J0,function:Y0,instanceof:R0,intersection:G0,lazy:V0,literal:K0,map:H0,nan:C0,nativeEnum:X0,never:U0,null:M0,nullable:tw,number:Wl,object:F0,oboolean:aw,onumber:sw,optional:ew,ostring:iw,pipeline:rw,preprocess:nw,promise:Q0,record:z0,set:q0,strictObject:$0,string:$l,symbol:P0,transformer:Nl,tuple:Z0,undefined:k0,union:W0,unknown:N0,void:B0,NEVER:uw,ZodIssueCode:N,quotelessJson:l0,ZodError:At});var _w=er($r(),1);async function sa(n,r){return URL.createObjectURL(await zl(n,r))}async function zl(n,r){let s=new URL("resources.json",r.publicPath),u=await fetch(s);if(!u.ok)throw new Error("Resource metadata not found. Ensure that the config.publicPath is configured correctly.");let f=(await u.json())[n];if(!f)throw new Error(`Resource ${n} not found. Ensure that the config.publicPath is configured correctly.`);let h=f.chunks,g=0,b=h.map(async R=>{let A=R.offsets[1]-R.offsets[0],L=r.publicPath?new URL(R.hash,r.publicPath).toString():R.hash,Z=await(await fetch(L,r.fetchArgs)).blob();if(A!==Z.size)throw new Error(`Failed to fetch ${n} with size ${A} but got ${Z.size}`);return r.progress&&(g+=A,r.progress(`fetch:${n}`,g,f.size)),Z}),v=await Promise.all(b),O=new Blob(v,{type:f.mime});if(O.size!==f.size)throw new Error(`Failed to fetch ${n} with size ${f.size} but got ${O.size}`);return O}var hw=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),pw=()=>(async n=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(n)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]));async function gw(n,r){let s={simd:await hw(),threads:await pw(),numThreads:navigator.hardwareConcurrency??4,webgpu:navigator.gpu!==void 0};r.debug&&(console.debug("Capabilities:",s),Jt.env.debug=!0,Jt.env.logLevel="verbose"),Jt.env.wasm.numThreads=s.numThreads,Jt.env.wasm.simd=s.simd,Jt.env.wasm.proxy=r.proxyToWorker,Jt.env.wasm.wasmPaths={"ort-wasm-simd-threaded.wasm":s.simd&&s.threads?await sa("/onnxruntime-web/ort-wasm-simd-threaded.wasm",r):void 0,"ort-wasm-simd.wasm":s.simd&&!s.threads?await sa("/onnxruntime-web/ort-wasm-simd.wasm",r):void 0,"ort-wasm-threaded.wasm":!s.simd&&s.threads?await sa("/onnxruntime-web/ort-wasm-threaded.wasm",r):void 0,"ort-wasm.wasm":!s.simd&&!s.threads?await sa("/onnxruntime-web/ort-wasm.wasm",r):void 0},r.debug&&console.debug("ort.env.wasm:",Jt.env.wasm);let u={executionProviders:["wasm"],graphOptimizationLevel:"all",executionMode:"parallel",enableCpuMemArena:!0};return await Jt.InferenceSession.create(n,u).catch(f=>{throw new Error(`Failed to create session: ${f}. Please check if the publicPath is set correctly.`)})}var Gl={name:"@imgly/background-removal",version:"1.4.1",description:"Background Removal in the Browser",keywords:["background-removal","client-side","data-privacy","image-segmentation","image-matting","onnx"],repository:{type:"git",url:"git+https://github.com/imgly/background-removal-js.git"},license:"SEE LICENSE IN LICENSE.md",author:{name:"IMG.LY GmbH",email:"support@img.ly",url:"https://img.ly"},bugs:{email:"support@img.ly"},source:"./src/index.ts",main:"./dist/index.cjs",module:"./dist/index.mjs",types:"./dist/index.d.ts",exports:{".":{require:"./dist/index.cjs",import:"./dist/index.mjs",types:"./dist/index.d.ts"}},homepage:"https://img.ly/showcases/cesdk/web/background-removal",files:["LICENSE.md","README.md","CHANGELOG.md","dist/","bin/"],scripts:{start:"npm run watch",clean:"npx rimraf dist",test:"true",resources:"node ../../scripts/package-resources.mjs","changelog:create":"node ../../scripts/changelog/changelog-create.mjs","changelog:generate":"node ../../scripts/changelog/changelog-generate.mjs",build:"npm run clean && npm run types && npm run resources && npm run changelog:generate && node scripts/build.mjs",types:" npx tsc --declaration --emitDeclarationOnly --declarationDir dist --declarationMap",watch:"npm run clean && npm run resources && npm run changelog:generate && node scripts/watch.mjs","publish:latest":"npm run build && npm publish --tag latest --access public","publish:next":"npm run build && npm publish --tag next --access public","package:pack":"npm run build && npm pack . --pack-destination ../../releases",lint:"npx prettier --write ."},dependencies:{"@types/lodash":"^4.14.195","@types/node":"^20.3.1",lodash:"^4.17.21",ndarray:"^1.0.19","onnxruntime-web":"^1.16.3",zod:"^3.21.4"},devDependencies:{assert:"^2.0.0",esbuild:"^0.18.18",glob:"^10.3.3","npm-dts":"^1.3.12",process:"^0.11.10","ts-loader":"^9.4.3",tslib:"^2.5.3",typescript:"^5.1.3",util:"^0.12.5",webpack:"^5.85.1","webpack-cli":"^5.1.4"}},mw=at.object({publicPath:at.string().optional().describe("The public path to the wasm files and the onnx model.").default("https://staticimgly.com/@imgly/background-removal-data/@${PACKAGE_VERSION}/dist/").transform(n=>n.replace("${PACKAGE_NAME}",Gl.name).replace("${PACKAGE_VERSION}",Gl.version)),debug:at.boolean().default(!1).describe("Whether to enable debug logging."),proxyToWorker:at.boolean().default(!0).describe("Whether to proxy inference to a web worker."),fetchArgs:at.any().default({}).describe("Arguments to pass to fetch when loading the model."),progress:at.function().args(at.string(),at.number(),at.number()).returns(at.void()).describe("Progress callback.").optional(),model:at.enum(["small","medium"]).default("medium"),output:at.object({format:at.enum(["image/png","image/jpeg","image/webp","image/x-rgba8","image/x-alpha8"]).default("image/png"),quality:at.number().default(.8)}).default({})}).default({});function vw(n){let r=mw.parse(n??{});return r.debug&&console.log("Config:",r),r.debug&&!r.progress&&(r.progress=r.progress??((s,u,o)=>{console.debug(`Downloading ${s}: ${u} of ${o}`)}),crossOriginIsolated||console.debug("Cross-Origin-Isolated is not enabled. Performance will be degraded. Please see  https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer.")),r}async function yw(n){n=vw(n),n.debug&&console.debug("Loading model...");let r=n.model,u=await(await zl(`/models/${r}`,n)).arrayBuffer(),o=await gw(u,n);return{config:n,session:o}}var qw=(0,Zl.memoize)(yw,n=>JSON.stringify(n));
/*! Bundled license information:

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)

is-buffer/index.js:
  (*!
   * Determine if an object is a Buffer
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

onnxruntime-web/dist/ort.node.min.js:
  (*!
   * ONNX Runtime Web v1.17.0
   * Copyright (c) Microsoft Corporation. All rights reserved.
   * Licensed under the MIT License.
   *)
*/
